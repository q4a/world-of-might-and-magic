<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>World of Might and Magic: Исходный файл C:/git/world-of-might-and-magic/Engine/SaveLoad.cpp</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">World of Might and Magic
   &#160;<span id="projectnumber">0.2.0</span>
   </div>
   <div id="projectbrief">Open reimplementation of Might and Magic 6 7 8 game engine</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Создано системой Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Поиск');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Поиск');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d4/d9d/_save_load_8cpp_source.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">SaveLoad.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d4/d9d/_save_load_8cpp.html">См. документацию.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/de7/_save_load_8h.html">Engine/SaveLoad.h</a>&quot;</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160; </div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#ifdef _WINDOWS</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &lt;direct.h&gt;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;io.h&gt;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160; </div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/ddd/_api_8h.html">Platform/Api.h</a>&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160; </div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../de/dcf/_engine_8h.html">Engine/Engine.h</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d2/de1/_engine_config_8h.html">Engine/EngineConfig.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/db2/_l_o_d_8h.html">Engine/LOD.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/d03/_localization_8h.html">Engine/Localization.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/d38/_party_8h.html">Engine/Party.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d0/d0e/_engine_2_time_8h.html">Engine/Time.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/d7a/_zlib_wrapper_8h.html">Engine/ZlibWrapper.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d2/d7a/stru123_8h.html">Engine/stru123.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160; </div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/d5b/_image_loader_8h.html">Engine/Graphics/ImageLoader.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/dbf/_decoration_8h.html">Engine/Graphics/Level/Decoration.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dc/dfb/_outdoor_8h.html">Engine/Graphics/Outdoor.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/dac/_overlays_8h.html">Engine/Graphics/Overlays.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/ddc/_p_c_x_8h.html">Engine/Graphics/PCX.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/d19/_viewport_8h.html">Engine/Graphics/Viewport.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160; </div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../de/deb/_actor_8h.html">Engine/Objects/Actor.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/d0e/_chest_8h.html">Engine/Objects/Chest.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/dd4/_sprite_object_8h.html">Engine/Objects/SpriteObject.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160; </div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../da/dd3/_legacy_images_8h.html">Engine/Serialization/LegacyImages.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160; </div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d0/d34/_g_u_i_font_8h.html">GUI/GUIFont.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/d0b/_g_u_i_window_8h.html">GUI/GUIWindow.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d2/d13/_u_i_save_load_8h.html">GUI/UI/UISaveLoad.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../df/d16/_u_i_status_bar_8h.html">GUI/UI/UIStatusBar.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160; </div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/d7b/_audio_player_8h.html">Media/Audio/AudioPlayer.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160; </div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="../../dd/de7/_save_load_8h.html#af77ad39a7afaff97a0912f094c676a05">   41</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../dd/df4/struct_savegame_list.html">SavegameList</a> *<a class="code" href="../../d4/d9d/_save_load_8cpp.html#af77ad39a7afaff97a0912f094c676a05">pSavegameList</a> = <span class="keyword">new</span> <a class="code" href="../../dd/df4/struct_savegame_list.html#aae508c1b56dd1083c75f2ba6a731667a">SavegameList</a>;</div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="../../dd/de7/_save_load_8h.html#a033a1ba287ab22cc861c572de6754aee">   42</a></span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d4/d9d/_save_load_8cpp.html#a033a1ba287ab22cc861c572de6754aee">uNumSavegameFiles</a>;</div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="../../dd/de7/_save_load_8h.html#a4fb8a51afce2e5a598706c1f4820d6b1">   43</a></span>&#160;std::array&lt;unsigned int, MAX_SAVE_SLOTS&gt; <a class="code" href="../../d4/d9d/_save_load_8cpp.html#a4fb8a51afce2e5a598706c1f4820d6b1">pSavegameUsedSlots</a>;</div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="../../dd/de7/_save_load_8h.html#a72494179dc577b52b370946bb9cffa47">   44</a></span>&#160;std::array&lt;Image *, MAX_SAVE_SLOTS&gt; <a class="code" href="../../d4/d9d/_save_load_8cpp.html#a075d49ecfaa98693083d42393d861311">pSavegameThumbnails</a>;</div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="../../dd/de7/_save_load_8h.html#a2717bc6f95074a0dfef7748ec3cd5d3a">   45</a></span>&#160;std::array&lt;SavegameHeader, MAX_SAVE_SLOTS&gt; <a class="code" href="../../d4/d9d/_save_load_8cpp.html#a2717bc6f95074a0dfef7748ec3cd5d3a">pSavegameHeader</a>;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160; </div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="../../d4/d9d/_save_load_8cpp.html#a553fe24661332408e88879e7a4802b23">   47</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d4/d9d/_save_load_8cpp.html#a553fe24661332408e88879e7a4802b23">CopyFile</a>(<span class="keyword">const</span> <a class="code" href="../../de/df7/_strings_8h.html#afbeda3fd1bdc8c37d01bdf9f5c8274ff">String</a> &amp;from, <span class="keyword">const</span> <a class="code" href="../../de/df7/_strings_8h.html#afbeda3fd1bdc8c37d01bdf9f5c8274ff">String</a> &amp;to) {</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="keywordtype">int</span> file_size = -1;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="keywordtype">int</span> bytes_read = 0;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keywordtype">int</span> bytes_wrote = 0;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160; </div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    FILE *copy_from = fopen(from.c_str(), <span class="stringliteral">&quot;rb&quot;</span>);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keywordflow">if</span> (copy_from) {</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        FILE *copy_to = fopen(to.c_str(), <span class="stringliteral">&quot;wb+&quot;</span>);</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        <span class="keywordflow">if</span> (copy_to) {</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;            fseek(copy_from, 0, SEEK_END);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;            file_size = ftell(copy_from);</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;            fseek(copy_from, 0, SEEK_SET);</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160; </div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#aa3b73d9ca9f2e2396cbeae1ce6ce14be">buf</a> = <span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>[file_size];</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#aa3b73d9ca9f2e2396cbeae1ce6ce14be">buf</a>) {</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;                bytes_read = fread(<a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#aa3b73d9ca9f2e2396cbeae1ce6ce14be">buf</a>, 1, file_size, copy_from);</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                <span class="keywordflow">if</span> (bytes_read == file_size) {</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                    bytes_wrote = fwrite(<a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#aa3b73d9ca9f2e2396cbeae1ce6ce14be">buf</a>, 1, file_size, copy_to);</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                }</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160; </div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                <span class="keyword">delete</span>[] <a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#aa3b73d9ca9f2e2396cbeae1ce6ce14be">buf</a>;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;            }</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;            fclose(copy_to);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        }</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        fclose(copy_from);</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    }</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160; </div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordflow">return</span> file_size != -1 &amp;&amp; bytes_read == bytes_wrote;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;}</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; </div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="../../dd/de7/_save_load_8h.html#aec4ea4d9c15c927eed9a2a9227c4b16c">   77</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d4/d9d/_save_load_8cpp.html#aec4ea4d9c15c927eed9a2a9227c4b16c">LoadGame</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> uSlot) {</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <a class="code" href="../../d6/d5b/mm7__data_8cpp.html#a3bb76097823a7b5e500113be90ab6aaf">MapsLongTimers_count</a> = 0;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d4/d9d/_save_load_8cpp.html#a4fb8a51afce2e5a598706c1f4820d6b1">pSavegameUsedSlots</a>[uSlot]) {</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        <a class="code" href="../../d3/df2/_audio_player_8cpp.html#a3ee6d655d35b46ebac53ef678255f75b">pAudioPlayer</a>-&gt;<a class="code" href="../../d7/dc2/class_audio_player.html#afa0c135f321bd87b4d4ad2dcad3833e3">PlaySound</a>(<a class="code" href="../../dd/d7b/_audio_player_8h.html#aa4689ee7c9a692044aebd36cb0915e61a123c1f950456a478ca87f718b9f8d30d">SOUND_error</a>, 0, 0, -1, 0, 0);</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        <a class="code" href="../../de/d8c/_engine_2_ioc_container_8cpp.html#a9be76595edb968c5dfb165ec86ba2959">logger</a>-&gt;<a class="code" href="../../d6/d70/class_log.html#ac0de2621497ca3b2fbf208624c08bcdf">Warning</a>(L<span class="stringliteral">&quot;LoadGame: slot %u is empty&quot;</span>, uSlot);</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    }</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160; </div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <a class="code" href="../../de/d42/_l_o_d_8cpp.html#aef85f9958d2146e2fa92b9b5f9c184fd">pNew_LOD</a>-&gt;<a class="code" href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#afeb4addbf259dbd7a4dbe4659c5291a5">CloseWriteFile</a>();</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <a class="code" href="../../de/df7/_strings_8h.html#afbeda3fd1bdc8c37d01bdf9f5c8274ff">String</a> filename = <span class="stringliteral">&quot;saves\\&quot;</span> + <a class="code" href="../../d4/d9d/_save_load_8cpp.html#af77ad39a7afaff97a0912f094c676a05">pSavegameList</a>-&gt;<a class="code" href="../../dd/df4/struct_savegame_list.html#a899494f772cbbfacd5c1c3c1e7725c91">pFileList</a>[uSlot];</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    filename = <a class="code" href="../../d4/d68/_engine_8cpp.html#a7a083a74e008e624d001444406d58c6d">MakeDataPath</a>(filename.c_str());</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <a class="code" href="../../de/df7/_strings_8h.html#afbeda3fd1bdc8c37d01bdf9f5c8274ff">String</a> to_file_path = <a class="code" href="../../d4/d68/_engine_8cpp.html#a7a083a74e008e624d001444406d58c6d">MakeDataPath</a>(<span class="stringliteral">&quot;data\\new.lod&quot;</span>);</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    remove(to_file_path.c_str());</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d4/d9d/_save_load_8cpp.html#a553fe24661332408e88879e7a4802b23">CopyFile</a>(filename, to_file_path)) {</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        Error(<span class="stringliteral">&quot;Failed to copy: %s&quot;</span>, filename.c_str());</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    }</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <a class="code" href="../../de/d42/_l_o_d_8cpp.html#aef85f9958d2146e2fa92b9b5f9c184fd">pNew_LOD</a>-&gt;<a class="code" href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#aafc283e61cafbda02bf0c4828e579046">LoadFile</a>(to_file_path, 0);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160; </div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    static_assert(<span class="keyword">sizeof</span>(<a class="code" href="../../d1/d2a/struct_savegame_header.html">SavegameHeader</a>) == 100, <span class="stringliteral">&quot;Wrong type size&quot;</span>);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <a class="code" href="../../d1/d2a/struct_savegame_header.html">SavegameHeader</a> *header = (<a class="code" href="../../d1/d2a/struct_savegame_header.html">SavegameHeader</a>*)<a class="code" href="../../de/d42/_l_o_d_8cpp.html#aef85f9958d2146e2fa92b9b5f9c184fd">pNew_LOD</a>-&gt;<a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#ae4069f908e27c3507a03d2bb12ad6f0f">LoadRaw</a>(<span class="stringliteral">&quot;header.bin&quot;</span>);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordflow">if</span> (header == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        <a class="code" href="../../de/d8c/_engine_2_ioc_container_8cpp.html#a9be76595edb968c5dfb165ec86ba2959">logger</a>-&gt;<a class="code" href="../../d6/d70/class_log.html#ac0de2621497ca3b2fbf208624c08bcdf">Warning</a>(L<span class="stringliteral">&quot;%S&quot;</span>, <a class="code" href="../../dd/d8c/_localization_8cpp.html#acce22610cffe19ad6cc8f577cd611b8b">localization</a>-&gt;<a class="code" href="../../dd/d88/class_localization.html#aa585c1180dc1a338b5822de8e413d2d6">FormatString</a>(612, 100).c_str());  <span class="comment">// Savegame damaged! Code=%d</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    }</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    {</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        <a class="code" href="../../d6/dee/struct_party___image___m_m7.html">Party_Image_MM7</a> *serialization = (<a class="code" href="../../d6/dee/struct_party___image___m_m7.html">Party_Image_MM7</a>*)<a class="code" href="../../de/d42/_l_o_d_8cpp.html#aef85f9958d2146e2fa92b9b5f9c184fd">pNew_LOD</a>-&gt;<a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#ae4069f908e27c3507a03d2bb12ad6f0f">LoadRaw</a>(<span class="stringliteral">&quot;party.bin&quot;</span>);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        <span class="keywordflow">if</span> (serialization == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            <a class="code" href="../../de/d8c/_engine_2_ioc_container_8cpp.html#a9be76595edb968c5dfb165ec86ba2959">logger</a>-&gt;<a class="code" href="../../d6/d70/class_log.html#ac0de2621497ca3b2fbf208624c08bcdf">Warning</a>(L<span class="stringliteral">&quot;%S&quot;</span>, <a class="code" href="../../dd/d8c/_localization_8cpp.html#acce22610cffe19ad6cc8f577cd611b8b">localization</a>-&gt;<a class="code" href="../../dd/d88/class_localization.html#aa585c1180dc1a338b5822de8e413d2d6">FormatString</a>(612, 101).c_str());  <span class="comment">// Savegame damaged! Code=%d</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;            serialization-&gt;<a class="code" href="../../d6/dee/struct_party___image___m_m7.html#a92a73dd3a76ebe5fdd53a6ef891e1160">Deserialize</a>(<a class="code" href="../../da/db4/_party_8cpp.html#a638b1d8b985f1c7f8b69f2d81286f98e">pParty</a>);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            free(serialization);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160; </div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; 4; i++) {</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                <a class="code" href="../../d3/db1/struct_player.html">Player</a> *player = &amp;<a class="code" href="../../da/db4/_party_8cpp.html#a638b1d8b985f1c7f8b69f2d81286f98e">pParty</a>-&gt;<a class="code" href="../../d0/d14/struct_party.html#a25894a432feab69bcbbff2194bac47dd">pPlayers</a>[i];</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> j = 0; j &lt; 5; j++) {</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                    <span class="keywordflow">if</span> (j &gt;= player-&gt;<a class="code" href="../../d3/db1/struct_player.html#abf8028151ac9cbcaf4dbfc54e2439aa2">vBeacons</a>.size()) {</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                    }</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                    <a class="code" href="../../df/d7d/struct_lloyd_beacon.html">LloydBeacon</a> &amp;beacon = player-&gt;<a class="code" href="../../d3/db1/struct_player.html#abf8028151ac9cbcaf4dbfc54e2439aa2">vBeacons</a>[j];</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                    <a class="code" href="../../de/df7/_strings_8h.html#afbeda3fd1bdc8c37d01bdf9f5c8274ff">String</a> str = <a class="code" href="../../d8/d44/_strings_8cpp.html#aebf99e80337d8db0a005aebe8a13fb7f">StringPrintf</a>(<span class="stringliteral">&quot;lloyd%d%d.pcx&quot;</span>, i + 1, j + 1);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                    beacon.<a class="code" href="../../df/d7d/struct_lloyd_beacon.html#adbba0d774b6da3e6794273c98f0c5db8">image</a> = <a class="code" href="../../de/d73/class_image.html#aafa267b1b060db2b6bb76bd36c5812f0">Image::Create</a>(<span class="keyword">new</span> <a class="code" href="../../d1/dd6/class_p_c_x___l_o_d___file___loader.html">PCX_LOD_File_Loader</a>(<a class="code" href="../../de/d42/_l_o_d_8cpp.html#aef85f9958d2146e2fa92b9b5f9c184fd">pNew_LOD</a>, str));</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                    beacon.<a class="code" href="../../df/d7d/struct_lloyd_beacon.html#adbba0d774b6da3e6794273c98f0c5db8">image</a>-&gt;<a class="code" href="../../de/d73/class_image.html#a9241b1c53141c78273e4060a91634d47">GetWidth</a>();</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                }</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            }</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        }</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    }</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160; </div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    {</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        <a class="code" href="../../d4/dfe/struct_timer___image___m_m7.html">Timer_Image_MM7</a> *serialization = (<a class="code" href="../../d4/dfe/struct_timer___image___m_m7.html">Timer_Image_MM7</a>*)<a class="code" href="../../de/d42/_l_o_d_8cpp.html#aef85f9958d2146e2fa92b9b5f9c184fd">pNew_LOD</a>-&gt;<a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#ae4069f908e27c3507a03d2bb12ad6f0f">LoadRaw</a>(<span class="stringliteral">&quot;clock.bin&quot;</span>);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        <span class="keywordflow">if</span> (serialization == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;            <a class="code" href="../../de/d8c/_engine_2_ioc_container_8cpp.html#a9be76595edb968c5dfb165ec86ba2959">logger</a>-&gt;<a class="code" href="../../d6/d70/class_log.html#ac0de2621497ca3b2fbf208624c08bcdf">Warning</a>(L<span class="stringliteral">&quot;%S&quot;</span>, <a class="code" href="../../dd/d8c/_localization_8cpp.html#acce22610cffe19ad6cc8f577cd611b8b">localization</a>-&gt;<a class="code" href="../../dd/d88/class_localization.html#aa585c1180dc1a338b5822de8e413d2d6">FormatString</a>(612, 102).c_str());  <span class="comment">// Savegame damaged! Code=%d</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            serialization-&gt;<a class="code" href="../../d4/dfe/struct_timer___image___m_m7.html#a606c4081df8af01c20eb3c29206449c3">Deserialize</a>(<a class="code" href="../../db/d84/_time_8cpp.html#a9b16df08347bd1a24e9e426848ffca3c">pEventTimer</a>);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            free(serialization);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        }</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    }</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160; </div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    {</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        <a class="code" href="../../d2/d11/struct_other_overlay_list___image___m_m7.html">OtherOverlayList_Image_MM7</a> *serialization = (<a class="code" href="../../d2/d11/struct_other_overlay_list___image___m_m7.html">OtherOverlayList_Image_MM7</a>*)<a class="code" href="../../de/d42/_l_o_d_8cpp.html#aef85f9958d2146e2fa92b9b5f9c184fd">pNew_LOD</a>-&gt;<a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#ae4069f908e27c3507a03d2bb12ad6f0f">LoadRaw</a>(<span class="stringliteral">&quot;overlay.bin&quot;</span>);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <span class="keywordflow">if</span> (serialization == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            <a class="code" href="../../de/d8c/_engine_2_ioc_container_8cpp.html#a9be76595edb968c5dfb165ec86ba2959">logger</a>-&gt;<a class="code" href="../../d6/d70/class_log.html#ac0de2621497ca3b2fbf208624c08bcdf">Warning</a>(L<span class="stringliteral">&quot;%S&quot;</span>, <a class="code" href="../../dd/d8c/_localization_8cpp.html#acce22610cffe19ad6cc8f577cd611b8b">localization</a>-&gt;<a class="code" href="../../dd/d88/class_localization.html#aa585c1180dc1a338b5822de8e413d2d6">FormatString</a>(612, 103).c_str());  <span class="comment">// Savegame damaged! Code=%d</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;            serialization-&gt;<a class="code" href="../../d2/d11/struct_other_overlay_list___image___m_m7.html#ac20dd36ff7616f00775bbc4059bf4403">Deserialize</a>(<a class="code" href="../../de/d68/_overlays_8cpp.html#aa512635acfca2f1fa4fb7976cf2f01f5">pOtherOverlayList</a>);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;            free(serialization);</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        }</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    }</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160; </div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    {</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        <a class="code" href="../../da/d9d/struct_n_p_c_data___image___m_m7.html">NPCData_Image_MM7</a> *serialization = (<a class="code" href="../../da/d9d/struct_n_p_c_data___image___m_m7.html">NPCData_Image_MM7</a>*)<a class="code" href="../../de/d42/_l_o_d_8cpp.html#aef85f9958d2146e2fa92b9b5f9c184fd">pNew_LOD</a>-&gt;<a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#ae4069f908e27c3507a03d2bb12ad6f0f">LoadRaw</a>(<span class="stringliteral">&quot;npcdata.bin&quot;</span>);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <span class="keywordflow">if</span> (serialization == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            <a class="code" href="../../de/d8c/_engine_2_ioc_container_8cpp.html#a9be76595edb968c5dfb165ec86ba2959">logger</a>-&gt;<a class="code" href="../../d6/d70/class_log.html#ac0de2621497ca3b2fbf208624c08bcdf">Warning</a>(L<span class="stringliteral">&quot;%S&quot;</span>, <a class="code" href="../../dd/d8c/_localization_8cpp.html#acce22610cffe19ad6cc8f577cd611b8b">localization</a>-&gt;<a class="code" href="../../dd/d88/class_localization.html#aa585c1180dc1a338b5822de8e413d2d6">FormatString</a>(612, 104).c_str());  <span class="comment">// Savegame damaged! Code=%d</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; 501; ++i) {</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                serialization[i].<a class="code" href="../../da/d9d/struct_n_p_c_data___image___m_m7.html#a1b65cf38ec745766701f4418edbad95d">Deserialize</a>(<a class="code" href="../../d1/d6c/_n_p_c_8cpp.html#a5c8b4db1afd780cdf7ff9ccd02e7a542">pNPCStats</a>-&gt;<a class="code" href="../../d5/d11/struct_n_p_c_stats.html#a1ab51e9b32da89c5c41b2769960cfd52">pNewNPCData</a> + i);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            }</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            <a class="code" href="../../d1/d6c/_n_p_c_8cpp.html#a5c8b4db1afd780cdf7ff9ccd02e7a542">pNPCStats</a>-&gt;<a class="code" href="../../d5/d11/struct_n_p_c_stats.html#acf328fedd0f2521f9dabd071086a14ee">_476C60_on_load_game</a>();</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            free(serialization);</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        }</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    }</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160; </div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    {</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        <span class="keywordtype">void</span> *npcgroup = <a class="code" href="../../de/d42/_l_o_d_8cpp.html#aef85f9958d2146e2fa92b9b5f9c184fd">pNew_LOD</a>-&gt;<a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#ae4069f908e27c3507a03d2bb12ad6f0f">LoadRaw</a>(<span class="stringliteral">&quot;npcgroup.bin&quot;</span>);</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        <span class="keywordflow">if</span> (npcgroup == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;            <a class="code" href="../../de/d8c/_engine_2_ioc_container_8cpp.html#a9be76595edb968c5dfb165ec86ba2959">logger</a>-&gt;<a class="code" href="../../d6/d70/class_log.html#ac0de2621497ca3b2fbf208624c08bcdf">Warning</a>(L<span class="stringliteral">&quot;%S&quot;</span>, <a class="code" href="../../dd/d8c/_localization_8cpp.html#acce22610cffe19ad6cc8f577cd611b8b">localization</a>-&gt;<a class="code" href="../../dd/d88/class_localization.html#aa585c1180dc1a338b5822de8e413d2d6">FormatString</a>(612, 105).c_str());  <span class="comment">// Savegame damaged! Code=%d</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;            <a class="code" href="../../d9/d30/_s_d_l__assert_8h.html#afedcea68cf85ee469ab1ea390bbe0abb">__debugbreak</a>();</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">sizeof</span>(<a class="code" href="../../d1/d6c/_n_p_c_8cpp.html#a5c8b4db1afd780cdf7ff9ccd02e7a542">pNPCStats</a>-&gt;<a class="code" href="../../d5/d11/struct_n_p_c_stats.html#af63e699d3c1607b59e7d9f6823b2370b">pGroups_copy</a>) != 102) {</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            <a class="code" href="../../de/d8c/_engine_2_ioc_container_8cpp.html#a9be76595edb968c5dfb165ec86ba2959">logger</a>-&gt;<a class="code" href="../../d6/d70/class_log.html#ac0de2621497ca3b2fbf208624c08bcdf">Warning</a>(L<span class="stringliteral">&quot;NPCStats: deserialization warning&quot;</span>);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;            memcpy(<a class="code" href="../../d1/d6c/_n_p_c_8cpp.html#a5c8b4db1afd780cdf7ff9ccd02e7a542">pNPCStats</a>-&gt;<a class="code" href="../../d5/d11/struct_n_p_c_stats.html#af63e699d3c1607b59e7d9f6823b2370b">pGroups_copy</a>, npcgroup, <span class="keyword">sizeof</span>(<a class="code" href="../../d1/d6c/_n_p_c_8cpp.html#a5c8b4db1afd780cdf7ff9ccd02e7a542">pNPCStats</a>-&gt;<a class="code" href="../../d5/d11/struct_n_p_c_stats.html#af63e699d3c1607b59e7d9f6823b2370b">pGroups_copy</a>));</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        }</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        free(npcgroup);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    }</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160; </div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <a class="code" href="../../d6/d5b/mm7__data_8cpp.html#aea2cd445c717797ec38d3ac259b5f20b">uActiveCharacter</a> = 0;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d2/d83/_m_m7_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> i = 0; i &lt; 4; ++i) {</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../da/db4/_party_8cpp.html#a638b1d8b985f1c7f8b69f2d81286f98e">pParty</a>-&gt;<a class="code" href="../../d0/d14/struct_party.html#a25894a432feab69bcbbff2194bac47dd">pPlayers</a>[i].CanAct()) {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;            <a class="code" href="../../d6/d5b/mm7__data_8cpp.html#aea2cd445c717797ec38d3ac259b5f20b">uActiveCharacter</a> = i + 1;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        }</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    }</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment">    for (uint i = 0; i &lt; 4; ++i) {</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="comment">        if (pParty-&gt;pPlayers[i].uQuickSpell) {</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="comment">            AA1058_PartyQuickSpellSound[i].AddPartySpellSound(</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment">                pParty-&gt;pPlayers[i].uQuickSpell, i + 1);</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">        }</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment">        for (uint j = 0; j &lt; 2; ++j) {</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment">            uint uEquipIdx = pParty-&gt;pPlayers[i].pEquipment.pIndices[j];</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment">            if (uEquipIdx) {</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment">                int pItemID = pParty-&gt;pPlayers[i]</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment">                                  .pInventoryItemList[uEquipIdx - 1]</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment">                                  .uItemID;</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment">                if (pItemsTable-&gt;pItems[pItemID].uEquipType == EQUIP_WAND &amp;&amp;</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment">                    pItemID) {       // жезл</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment">                    __debugbreak();  // looks like offset in player&#39;s inventory</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment">                                     // and wand_lut much like case in 0042ECB5</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment">                    stru_A750F8[i].AddPartySpellSound(</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">                        wand_spell_ids[pItemID - ITEM_WAND_FIRE], i + 9);</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment">                }</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment">            }</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment">        }</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">    }</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <a class="code" href="../../dc/dce/_g_u_i_window_8cpp.html#a9cf585dbf96fdd1acbe15981837ebdb2">current_screen_type</a> = <a class="code" href="../../d5/d0b/_g_u_i_window_8h.html#af188298480c77be8835d6760fa6edfd7a1b14f33469f90b26e5f73747bcbd62f8">CURRENT_SCREEN::SCREEN_GAME</a>;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160; </div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <a class="code" href="../../d7/d19/_viewport_8h.html#a3728133a9af71bc7d784f76d49025ec0">viewparams</a>-&gt;<a class="code" href="../../d4/d10/struct_viewing_params.html#a0bb88f953083fe55c27db34b5b774956">bRedrawGameUI</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160; </div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <a class="code" href="../../dc/dce/_g_u_i_window_8cpp.html#a3146e8710350a4cfa1f0315a8e85b33e">SetUserInterface</a>(<a class="code" href="../../da/db4/_party_8cpp.html#a638b1d8b985f1c7f8b69f2d81286f98e">pParty</a>-&gt;<a class="code" href="../../d0/d14/struct_party.html#a0333a828cb051d9f86e142230644cce3">alignment</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160; </div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <a class="code" href="../../db/d84/_time_8cpp.html#a9b16df08347bd1a24e9e426848ffca3c">pEventTimer</a>-&gt;<a class="code" href="../../d8/da1/struct_timer.html#ad3b4e386f8ebb885fa2ef6fcac8d9ca3">Resume</a>();</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <a class="code" href="../../db/d84/_time_8cpp.html#a9b16df08347bd1a24e9e426848ffca3c">pEventTimer</a>-&gt;<a class="code" href="../../d8/da1/struct_timer.html#aea7d51a94464d7581670110ba03492a4">StopGameTime</a>();</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160; </div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../de/d42/_l_o_d_8cpp.html#a137bcff77c678b90cc1007a592cbb644">pGames_LOD</a>-&gt;<a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#a5f308ac99a49c87179a5dff49084b81f">DoesContainerExist</a>(header-&gt;<a class="code" href="../../d1/d2a/struct_savegame_header.html#a3eeaf2e0f110ab3159d759aff0cf3200">pLocationName</a>)) {</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        Error(<span class="stringliteral">&quot;Unable to find: %s!&quot;</span>, header-&gt;<a class="code" href="../../d1/d2a/struct_savegame_header.html#a3eeaf2e0f110ab3159d759aff0cf3200">pLocationName</a>);</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    }</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160; </div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <a class="code" href="../../d6/d5b/mm7__data_8cpp.html#a88ebc50ce00b0ed9170a4da4a7d99ce2">pCurrentMapName</a> = header-&gt;<a class="code" href="../../d1/d2a/struct_savegame_header.html#a3eeaf2e0f110ab3159d759aff0cf3200">pLocationName</a>;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    free(header);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160; </div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <a class="code" href="../../d6/d5b/mm7__data_8cpp.html#a26a3f7145319f5176397704ba8ea67e7">dword_6BE364_game_settings_1</a> |= GAME_SETTINGS_2000 | GAME_SETTINGS_0001;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160; </div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d2/d83/_m_m7_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> i = 0; i &lt; <a class="code" href="../../d4/d9d/_save_load_8cpp.html#a033a1ba287ab22cc861c572de6754aee">uNumSavegameFiles</a>; ++i) {</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d4/d9d/_save_load_8cpp.html#a075d49ecfaa98693083d42393d861311">pSavegameThumbnails</a>[i] != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            <a class="code" href="../../d4/d9d/_save_load_8cpp.html#a075d49ecfaa98693083d42393d861311">pSavegameThumbnails</a>[i]-&gt;Release();</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            <a class="code" href="../../d4/d9d/_save_load_8cpp.html#a075d49ecfaa98693083d42393d861311">pSavegameThumbnails</a>[i] = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        }</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    }</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160; </div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <a class="code" href="../../d3/df2/_audio_player_8cpp.html#a3ee6d655d35b46ebac53ef678255f75b">pAudioPlayer</a>-&gt;<a class="code" href="../../d7/dc2/class_audio_player.html#a46e9038c208f7910e8f649f9726db63d">SetMusicVolume</a>(<a class="code" href="../../d4/d68/_engine_8cpp.html#a911c866a46f710d4f1b358efcfb2604a">engine</a>-&gt;config-&gt;music_level);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <a class="code" href="../../d3/df2/_audio_player_8cpp.html#a3ee6d655d35b46ebac53ef678255f75b">pAudioPlayer</a>-&gt;<a class="code" href="../../d7/dc2/class_audio_player.html#ab10041b12971aa0d8c366c47be9f1fe2">SetMasterVolume</a>(<a class="code" href="../../d4/d68/_engine_8cpp.html#a911c866a46f710d4f1b358efcfb2604a">engine</a>-&gt;config-&gt;sound_level);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d4/d68/_engine_8cpp.html#a911c866a46f710d4f1b358efcfb2604a">engine</a>-&gt;config-&gt;turn_speed &gt; 0) {</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        <a class="code" href="../../da/db4/_party_8cpp.html#a638b1d8b985f1c7f8b69f2d81286f98e">pParty</a>-&gt;<a class="code" href="../../d0/d14/struct_party.html#a58acc77e1ce8db07f410d3557b8f4805">sRotationY</a> = <a class="code" href="../../d4/d68/_engine_8cpp.html#a911c866a46f710d4f1b358efcfb2604a">engine</a>-&gt;config-&gt;turn_speed * <a class="code" href="../../da/db4/_party_8cpp.html#a638b1d8b985f1c7f8b69f2d81286f98e">pParty</a>-&gt;<a class="code" href="../../d0/d14/struct_party.html#a58acc77e1ce8db07f410d3557b8f4805">sRotationY</a> / <a class="code" href="../../d4/d68/_engine_8cpp.html#a911c866a46f710d4f1b358efcfb2604a">engine</a>-&gt;config-&gt;turn_speed;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    }</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <a class="code" href="../../d4/d68/_engine_8cpp.html#a618e8a6c6e0a2f7d5c0153a88795407c">MM7Initialization</a>();</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <a class="code" href="../../d6/d5b/mm7__data_8cpp.html#ae0c51d71714abe0cc2f685a8d819da8a">bFlashQuestBook</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <a class="code" href="../../d7/d19/_viewport_8h.html#a3728133a9af71bc7d784f76d49025ec0">viewparams</a>-&gt;<a class="code" href="../../d4/d10/struct_viewing_params.html#a0bb88f953083fe55c27db34b5b774956">bRedrawGameUI</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;}</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160; </div>
<div class="line"><a name="l00238"></a><span class="lineno"><a class="line" href="../../dd/de7/_save_load_8h.html#a8877c76af6a19304100073ae590e1b8d">  238</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d4/d9d/_save_load_8cpp.html#a8877c76af6a19304100073ae590e1b8d">SaveGame</a>(<span class="keywordtype">bool</span> IsAutoSAve, <span class="keywordtype">bool</span> NotSaveWorld) {</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <a class="code" href="../../d6/d5b/mm7__data_8cpp.html#a257735b3196bfed72cc1f5c4404e62f4">s_SavedMapName</a> = <a class="code" href="../../d6/d5b/mm7__data_8cpp.html#a88ebc50ce00b0ed9170a4da4a7d99ce2">pCurrentMapName</a>;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d5b/mm7__data_8cpp.html#a88ebc50ce00b0ed9170a4da4a7d99ce2">pCurrentMapName</a> == <span class="stringliteral">&quot;d05.blv&quot;</span>) {  <span class="comment">// arena</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    }</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160; </div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keywordtype">char</span> *uncompressed_buff = (<span class="keywordtype">char</span> *)malloc(1000000);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160; </div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keywordtype">int</span> pPositionX = <a class="code" href="../../da/db4/_party_8cpp.html#a638b1d8b985f1c7f8b69f2d81286f98e">pParty</a>-&gt;<a class="code" href="../../d0/d14/struct_party.html#a9131ac68bf00fcaf956e6b6d2dde7a6d">vPosition</a>.x;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keywordtype">int</span> pPositionY = <a class="code" href="../../da/db4/_party_8cpp.html#a638b1d8b985f1c7f8b69f2d81286f98e">pParty</a>-&gt;<a class="code" href="../../d0/d14/struct_party.html#a9131ac68bf00fcaf956e6b6d2dde7a6d">vPosition</a>.y;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="keywordtype">int</span> pPositionZ = <a class="code" href="../../da/db4/_party_8cpp.html#a638b1d8b985f1c7f8b69f2d81286f98e">pParty</a>-&gt;<a class="code" href="../../d0/d14/struct_party.html#a9131ac68bf00fcaf956e6b6d2dde7a6d">vPosition</a>.z;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordtype">int</span> sPRotationY = <a class="code" href="../../da/db4/_party_8cpp.html#a638b1d8b985f1c7f8b69f2d81286f98e">pParty</a>-&gt;<a class="code" href="../../d0/d14/struct_party.html#a58acc77e1ce8db07f410d3557b8f4805">sRotationY</a>;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keywordtype">int</span> sPRotationX = <a class="code" href="../../da/db4/_party_8cpp.html#a638b1d8b985f1c7f8b69f2d81286f98e">pParty</a>-&gt;<a class="code" href="../../d0/d14/struct_party.html#adcfe721445b79ef3f4cfdd51a2ee0ba1">sRotationX</a>;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <a class="code" href="../../da/db4/_party_8cpp.html#a638b1d8b985f1c7f8b69f2d81286f98e">pParty</a>-&gt;<a class="code" href="../../d0/d14/struct_party.html#a9131ac68bf00fcaf956e6b6d2dde7a6d">vPosition</a>.x = <a class="code" href="../../da/db4/_party_8cpp.html#a638b1d8b985f1c7f8b69f2d81286f98e">pParty</a>-&gt;<a class="code" href="../../d0/d14/struct_party.html#abc53dc7de7d979c792b62807ce270deb">vPrevPosition</a>.x;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <a class="code" href="../../da/db4/_party_8cpp.html#a638b1d8b985f1c7f8b69f2d81286f98e">pParty</a>-&gt;<a class="code" href="../../d0/d14/struct_party.html#a9131ac68bf00fcaf956e6b6d2dde7a6d">vPosition</a>.z = <a class="code" href="../../da/db4/_party_8cpp.html#a638b1d8b985f1c7f8b69f2d81286f98e">pParty</a>-&gt;<a class="code" href="../../d0/d14/struct_party.html#abc53dc7de7d979c792b62807ce270deb">vPrevPosition</a>.z;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <a class="code" href="../../da/db4/_party_8cpp.html#a638b1d8b985f1c7f8b69f2d81286f98e">pParty</a>-&gt;<a class="code" href="../../d0/d14/struct_party.html#a9131ac68bf00fcaf956e6b6d2dde7a6d">vPosition</a>.y = <a class="code" href="../../da/db4/_party_8cpp.html#a638b1d8b985f1c7f8b69f2d81286f98e">pParty</a>-&gt;<a class="code" href="../../d0/d14/struct_party.html#abc53dc7de7d979c792b62807ce270deb">vPrevPosition</a>.y;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160; </div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <a class="code" href="../../da/db4/_party_8cpp.html#a638b1d8b985f1c7f8b69f2d81286f98e">pParty</a>-&gt;<a class="code" href="../../d0/d14/struct_party.html#af03c6334d1ca2b54dbf154a07d02b456">uFallStartY</a> = <a class="code" href="../../da/db4/_party_8cpp.html#a638b1d8b985f1c7f8b69f2d81286f98e">pParty</a>-&gt;<a class="code" href="../../d0/d14/struct_party.html#abc53dc7de7d979c792b62807ce270deb">vPrevPosition</a>.z;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <a class="code" href="../../da/db4/_party_8cpp.html#a638b1d8b985f1c7f8b69f2d81286f98e">pParty</a>-&gt;<a class="code" href="../../d0/d14/struct_party.html#a58acc77e1ce8db07f410d3557b8f4805">sRotationY</a> = <a class="code" href="../../da/db4/_party_8cpp.html#a638b1d8b985f1c7f8b69f2d81286f98e">pParty</a>-&gt;<a class="code" href="../../d0/d14/struct_party.html#a97f3bf27f5e2cb3474e167f447e3e0f9">sPrevRotationY</a>;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <a class="code" href="../../da/db4/_party_8cpp.html#a638b1d8b985f1c7f8b69f2d81286f98e">pParty</a>-&gt;<a class="code" href="../../d0/d14/struct_party.html#adcfe721445b79ef3f4cfdd51a2ee0ba1">sRotationX</a> = <a class="code" href="../../da/db4/_party_8cpp.html#a638b1d8b985f1c7f8b69f2d81286f98e">pParty</a>-&gt;<a class="code" href="../../d0/d14/struct_party.html#aa3fef4a02006fb192fd0ab6b32ce2718">sPrevRotationX</a>;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d1/d4a/_indoor_8cpp.html#af7004771e2f64ebae04197860cd1f3d3">uCurrentlyLoadedLevelType</a> == <a class="code" href="../../da/dc7/_indoor_8h.html#a24bf8802234f411139f3a641894c3f70a15a823faa9b1cebf4eec0ccc61356569">LEVEL_Indoor</a>)</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        <a class="code" href="../../d1/d4a/_indoor_8cpp.html#a9b7a8d8a38babff41b0d4655a053ca75">pIndoor</a>-&gt;<a class="code" href="../../d6/d9e/struct_indoor_location.html#a98ec4eb44ff7818bec1bb450bfef2e4d">stru1</a>.<a class="code" href="../../d5/da2/struct_location_time__stru1.html#ae5ccb819e3e328a4ae4c35a444162eb3">last_visit</a> = <a class="code" href="../../da/db4/_party_8cpp.html#a638b1d8b985f1c7f8b69f2d81286f98e">pParty</a>-&gt;<a class="code" href="../../d0/d14/struct_party.html#a2e22e5307901cb1acb688185168b6161">GetPlayingTime</a>();</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <a class="code" href="../../d1/d03/_outdoor_8cpp.html#af1ccdd58891375c26aa795fcdd97aa32">pOutdoor</a>-&gt;<a class="code" href="../../d1/d55/struct_outdoor_location.html#ad06de299b017339b1aba11b734ece0ad">loc_time</a>.<a class="code" href="../../d5/da2/struct_location_time__stru1.html#ae5ccb819e3e328a4ae4c35a444162eb3">last_visit</a> = <a class="code" href="../../da/db4/_party_8cpp.html#a638b1d8b985f1c7f8b69f2d81286f98e">pParty</a>-&gt;<a class="code" href="../../d0/d14/struct_party.html#a2e22e5307901cb1acb688185168b6161">GetPlayingTime</a>();</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160; </div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> buf_size = 0;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <a class="code" href="../../da/d20/_i_render_8h.html#a21d31464313b2c66ff88d4aa97b66143">render</a>-&gt;PackScreenshot(150, 112, uncompressed_buff, 1000000, &amp;buf_size);  <span class="comment">// создание скриншота</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160; </div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="comment">// saving - please wait</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160; </div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="comment">// if (current_screen_type == SCREEN_SAVEGAME) {</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="comment">//    render-&gt;DrawTextureAlphaNew(8 / 640.0f, 8 / 480.0f,</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="comment">//        saveload_ui_loadsave);</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="comment">//    render-&gt;DrawTextureAlphaNew(18 / 640.0f, 141 / 480.0f,</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="comment">//        saveload_ui_loadsave);</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="comment">//    int text_pos = pFontSmallnum-&gt;AlignText_Center(186, localization-&gt;GetString(190));</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="comment">//    pGUIWindow_CurrentMenu-&gt;DrawText(pFontSmallnum, text_pos + 25, 219, 0,</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="comment">//        localization-&gt;GetString(190), 0, 0,</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="comment">//        0);  // Сохранение</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="comment">//    text_pos = pFontSmallnum-&gt;AlignText_Center(</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="comment">//        186, pSavegameHeader[uLoadGameUI_SelectedSlot].pName);</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="comment">//    pGUIWindow_CurrentMenu-&gt;DrawTextInRect(</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="comment">//        pFontSmallnum, text_pos + 25, 259, 0,</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="comment">//        pSavegameHeader[uLoadGameUI_SelectedSlot].pName, 185, 0);</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="comment">//    text_pos =</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="comment">//        pFontSmallnum-&gt;AlignText_Center(186, localization-&gt;GetString(165));</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="comment">//    pGUIWindow_CurrentMenu-&gt;DrawText(pFontSmallnum, text_pos + 25, 299, 0,</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="comment">//        localization-&gt;GetString(165), 0, 0,</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="comment">//        0);  // Пожалуйста, подождите</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="comment">//    render-&gt;Present();</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="comment">//}</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160; </div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../de/d42/_l_o_d_8cpp.html#aef85f9958d2146e2fa92b9b5f9c184fd">pNew_LOD</a>-&gt;<a class="code" href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#ab648acee2342b9ad720942ffa90536a0">Write</a>(<span class="stringliteral">&quot;image.pcx&quot;</span>, uncompressed_buff, buf_size, 0)) {</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <span class="keyword">auto</span> error_message = <a class="code" href="../../dd/d8c/_localization_8cpp.html#acce22610cffe19ad6cc8f577cd611b8b">localization</a>-&gt;<a class="code" href="../../dd/d88/class_localization.html#aa585c1180dc1a338b5822de8e413d2d6">FormatString</a>(612, 200);  <span class="comment">// Savegame damaged! Code=%d</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        <a class="code" href="../../de/d8c/_engine_2_ioc_container_8cpp.html#a9be76595edb968c5dfb165ec86ba2959">logger</a>-&gt;<a class="code" href="../../d6/d70/class_log.html#ac0de2621497ca3b2fbf208624c08bcdf">Warning</a>(L<span class="stringliteral">&quot;%S&quot;</span>, error_message.c_str());</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    }</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160; </div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    static_assert(<span class="keyword">sizeof</span>(<a class="code" href="../../d1/d2a/struct_savegame_header.html">SavegameHeader</a>) == 100, <span class="stringliteral">&quot;Wrong type size&quot;</span>);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <a class="code" href="../../d1/d2a/struct_savegame_header.html">SavegameHeader</a> save_header;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    memset(save_header.<a class="code" href="../../d1/d2a/struct_savegame_header.html#a79a850cc7cfb6c9604f4da1d980bb42d">pName</a>, 0, 20);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    memset(save_header.<a class="code" href="../../d1/d2a/struct_savegame_header.html#a3eeaf2e0f110ab3159d759aff0cf3200">pLocationName</a>, 0, 20);</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    memset(save_header.<a class="code" href="../../d1/d2a/struct_savegame_header.html#a498cd8efd032df223343653a96f66af4">field_30</a>, 0, 52);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    strcpy(save_header.<a class="code" href="../../d1/d2a/struct_savegame_header.html#a3eeaf2e0f110ab3159d759aff0cf3200">pLocationName</a>, <a class="code" href="../../d6/d5b/mm7__data_8cpp.html#a88ebc50ce00b0ed9170a4da4a7d99ce2">pCurrentMapName</a>.c_str());</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    save_header.<a class="code" href="../../d1/d2a/struct_savegame_header.html#afc751539e34adab1584014bf58642f18">playing_time</a> = <a class="code" href="../../da/db4/_party_8cpp.html#a638b1d8b985f1c7f8b69f2d81286f98e">pParty</a>-&gt;<a class="code" href="../../d0/d14/struct_party.html#a2e22e5307901cb1acb688185168b6161">GetPlayingTime</a>();</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../de/d42/_l_o_d_8cpp.html#aef85f9958d2146e2fa92b9b5f9c184fd">pNew_LOD</a>-&gt;<a class="code" href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#ab648acee2342b9ad720942ffa90536a0">Write</a>(<span class="stringliteral">&quot;header.bin&quot;</span>, &amp;save_header, <span class="keyword">sizeof</span>(<a class="code" href="../../d1/d2a/struct_savegame_header.html">SavegameHeader</a>), 0)) {</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        <span class="keyword">auto</span> error_message = <a class="code" href="../../dd/d8c/_localization_8cpp.html#acce22610cffe19ad6cc8f577cd611b8b">localization</a>-&gt;<a class="code" href="../../dd/d88/class_localization.html#aa585c1180dc1a338b5822de8e413d2d6">FormatString</a>(612, 201);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        <a class="code" href="../../de/d8c/_engine_2_ioc_container_8cpp.html#a9be76595edb968c5dfb165ec86ba2959">logger</a>-&gt;<a class="code" href="../../d6/d70/class_log.html#ac0de2621497ca3b2fbf208624c08bcdf">Warning</a>(L<span class="stringliteral">&quot;%S&quot;</span>, error_message.c_str());</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    }</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160; </div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    {</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        <a class="code" href="../../d6/dee/struct_party___image___m_m7.html">Party_Image_MM7</a> serialization;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        serialization.<a class="code" href="../../d6/dee/struct_party___image___m_m7.html#a4967c0e2b901dd89d9d318219fc6f4b1">Serialize</a>(<a class="code" href="../../da/db4/_party_8cpp.html#a638b1d8b985f1c7f8b69f2d81286f98e">pParty</a>);</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160; </div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../de/d42/_l_o_d_8cpp.html#aef85f9958d2146e2fa92b9b5f9c184fd">pNew_LOD</a>-&gt;<a class="code" href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#ab648acee2342b9ad720942ffa90536a0">Write</a>(<span class="stringliteral">&quot;party.bin&quot;</span>, &amp;serialization, <span class="keyword">sizeof</span>(serialization), 0)) {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;            <span class="keyword">auto</span> error_message = <a class="code" href="../../dd/d8c/_localization_8cpp.html#acce22610cffe19ad6cc8f577cd611b8b">localization</a>-&gt;<a class="code" href="../../dd/d88/class_localization.html#aa585c1180dc1a338b5822de8e413d2d6">FormatString</a>(612, 202);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;            <a class="code" href="../../de/d8c/_engine_2_ioc_container_8cpp.html#a9be76595edb968c5dfb165ec86ba2959">logger</a>-&gt;<a class="code" href="../../d6/d70/class_log.html#ac0de2621497ca3b2fbf208624c08bcdf">Warning</a>(L<span class="stringliteral">&quot;%S&quot;</span>, error_message.c_str());</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        }</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    }</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160; </div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    {</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <a class="code" href="../../d4/dfe/struct_timer___image___m_m7.html">Timer_Image_MM7</a> serialization;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        serialization.<a class="code" href="../../d4/dfe/struct_timer___image___m_m7.html#ac5a80cf88fe49c3d347c7cc2a0bf4e87">Serialize</a>(<a class="code" href="../../db/d84/_time_8cpp.html#a9b16df08347bd1a24e9e426848ffca3c">pEventTimer</a>);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160; </div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../de/d42/_l_o_d_8cpp.html#aef85f9958d2146e2fa92b9b5f9c184fd">pNew_LOD</a>-&gt;<a class="code" href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#ab648acee2342b9ad720942ffa90536a0">Write</a>(<span class="stringliteral">&quot;clock.bin&quot;</span>, &amp;serialization, <span class="keyword">sizeof</span>(serialization), 0)) {</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            <span class="keyword">auto</span> error_message = <a class="code" href="../../dd/d8c/_localization_8cpp.html#acce22610cffe19ad6cc8f577cd611b8b">localization</a>-&gt;<a class="code" href="../../dd/d88/class_localization.html#aa585c1180dc1a338b5822de8e413d2d6">FormatString</a>(612, 203);</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;            <a class="code" href="../../de/d8c/_engine_2_ioc_container_8cpp.html#a9be76595edb968c5dfb165ec86ba2959">logger</a>-&gt;<a class="code" href="../../d6/d70/class_log.html#ac0de2621497ca3b2fbf208624c08bcdf">Warning</a>(L<span class="stringliteral">&quot;%S&quot;</span>, error_message.c_str());</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        }</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    }</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160; </div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    {</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        <a class="code" href="../../d2/d11/struct_other_overlay_list___image___m_m7.html">OtherOverlayList_Image_MM7</a> serialization;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        serialization.<a class="code" href="../../d2/d11/struct_other_overlay_list___image___m_m7.html#a92e3eb5addc38f74203813f2779b3d8a">Serialize</a>(<a class="code" href="../../de/d68/_overlays_8cpp.html#aa512635acfca2f1fa4fb7976cf2f01f5">pOtherOverlayList</a>);</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160; </div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../de/d42/_l_o_d_8cpp.html#aef85f9958d2146e2fa92b9b5f9c184fd">pNew_LOD</a>-&gt;<a class="code" href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#ab648acee2342b9ad720942ffa90536a0">Write</a>(<span class="stringliteral">&quot;overlay.bin&quot;</span>, &amp;serialization, <span class="keyword">sizeof</span>(serialization), 0)) {</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;            <span class="keyword">auto</span> error_message = <a class="code" href="../../dd/d8c/_localization_8cpp.html#acce22610cffe19ad6cc8f577cd611b8b">localization</a>-&gt;<a class="code" href="../../dd/d88/class_localization.html#aa585c1180dc1a338b5822de8e413d2d6">FormatString</a>(612, 204);</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;            <a class="code" href="../../de/d8c/_engine_2_ioc_container_8cpp.html#a9be76595edb968c5dfb165ec86ba2959">logger</a>-&gt;<a class="code" href="../../d6/d70/class_log.html#ac0de2621497ca3b2fbf208624c08bcdf">Warning</a>(L<span class="stringliteral">&quot;%S&quot;</span>, error_message.c_str());</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        }</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    }</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160; </div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    {</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        <a class="code" href="../../da/d9d/struct_n_p_c_data___image___m_m7.html">NPCData_Image_MM7</a> serialization[501];</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; 501; ++i) {</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;            serialization[i].<a class="code" href="../../da/d9d/struct_n_p_c_data___image___m_m7.html#a21a7364805270a638e2d10bca9c3912d">Serialize</a>(<a class="code" href="../../d1/d6c/_n_p_c_8cpp.html#a5c8b4db1afd780cdf7ff9ccd02e7a542">pNPCStats</a>-&gt;<a class="code" href="../../d5/d11/struct_n_p_c_stats.html#a1ab51e9b32da89c5c41b2769960cfd52">pNewNPCData</a> + i);</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        }</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160; </div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../de/d42/_l_o_d_8cpp.html#aef85f9958d2146e2fa92b9b5f9c184fd">pNew_LOD</a>-&gt;<a class="code" href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#ab648acee2342b9ad720942ffa90536a0">Write</a>(<span class="stringliteral">&quot;npcdata.bin&quot;</span>, serialization, <span class="keyword">sizeof</span>(serialization), 0)) {</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;            <span class="keyword">auto</span> error_message = <a class="code" href="../../dd/d8c/_localization_8cpp.html#acce22610cffe19ad6cc8f577cd611b8b">localization</a>-&gt;<a class="code" href="../../dd/d88/class_localization.html#aa585c1180dc1a338b5822de8e413d2d6">FormatString</a>(612, 205);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;            <a class="code" href="../../de/d8c/_engine_2_ioc_container_8cpp.html#a9be76595edb968c5dfb165ec86ba2959">logger</a>-&gt;<a class="code" href="../../d6/d70/class_log.html#ac0de2621497ca3b2fbf208624c08bcdf">Warning</a>(L<span class="stringliteral">&quot;%S&quot;</span>, error_message.c_str());</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        }</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    }</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160; </div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../de/d42/_l_o_d_8cpp.html#aef85f9958d2146e2fa92b9b5f9c184fd">pNew_LOD</a>-&gt;<a class="code" href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#ab648acee2342b9ad720942ffa90536a0">Write</a>(<span class="stringliteral">&quot;npcgroup.bin&quot;</span>, <a class="code" href="../../d1/d6c/_n_p_c_8cpp.html#a5c8b4db1afd780cdf7ff9ccd02e7a542">pNPCStats</a>-&gt;<a class="code" href="../../d5/d11/struct_n_p_c_stats.html#af63e699d3c1607b59e7d9f6823b2370b">pGroups_copy</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d1/d6c/_n_p_c_8cpp.html#a5c8b4db1afd780cdf7ff9ccd02e7a542">pNPCStats</a>-&gt;<a class="code" href="../../d5/d11/struct_n_p_c_stats.html#af63e699d3c1607b59e7d9f6823b2370b">pGroups_copy</a>), 0)) {</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        <span class="keyword">auto</span> error_message = <a class="code" href="../../dd/d8c/_localization_8cpp.html#acce22610cffe19ad6cc8f577cd611b8b">localization</a>-&gt;<a class="code" href="../../dd/d88/class_localization.html#aa585c1180dc1a338b5822de8e413d2d6">FormatString</a>(612, 206);</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        <a class="code" href="../../de/d8c/_engine_2_ioc_container_8cpp.html#a9be76595edb968c5dfb165ec86ba2959">logger</a>-&gt;<a class="code" href="../../d6/d70/class_log.html#ac0de2621497ca3b2fbf208624c08bcdf">Warning</a>(L<span class="stringliteral">&quot;%S&quot;</span>, error_message.c_str());</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    }</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160; </div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; 4; ++i) {  <span class="comment">// 4 - players</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        <a class="code" href="../../d3/db1/struct_player.html">Player</a> *player = &amp;<a class="code" href="../../da/db4/_party_8cpp.html#a638b1d8b985f1c7f8b69f2d81286f98e">pParty</a>-&gt;<a class="code" href="../../d0/d14/struct_party.html#a25894a432feab69bcbbff2194bac47dd">pPlayers</a>[i];</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> j = 0; j &lt; 5; ++j) {  <span class="comment">// 5 - images</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;            <span class="keywordflow">if</span> (j &gt;= player-&gt;<a class="code" href="../../d3/db1/struct_player.html#abf8028151ac9cbcaf4dbfc54e2439aa2">vBeacons</a>.size()) {</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;            }</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;            <a class="code" href="../../df/d7d/struct_lloyd_beacon.html">LloydBeacon</a> *beacon = &amp;player-&gt;<a class="code" href="../../d3/db1/struct_player.html#abf8028151ac9cbcaf4dbfc54e2439aa2">vBeacons</a>[j];</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;            <a class="code" href="../../de/d73/class_image.html">Image</a> *<a class="code" href="../../df/d32/_s_d_l__egl_8h.html#a0a221b005894579fea3b9eb7bfc2ee71">image</a> = beacon-&gt;<a class="code" href="../../df/d7d/struct_lloyd_beacon.html#adbba0d774b6da3e6794273c98f0c5db8">image</a>;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;            <span class="keywordflow">if</span> ((beacon-&gt;<a class="code" href="../../df/d7d/struct_lloyd_beacon.html#a9b5862f6570b9e5e663f84b022b157f8">uBeaconTime</a> != 0) &amp;&amp; (<a class="code" href="../../df/d32/_s_d_l__egl_8h.html#a0a221b005894579fea3b9eb7bfc2ee71">image</a> != <span class="keyword">nullptr</span>)) {</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">void</span> *<a class="code" href="../../df/dc4/_s_d_l__opengl_8h.html#ada7ad693ea2e311b8103f4693fc35f80">pixels</a> = <a class="code" href="../../df/d32/_s_d_l__egl_8h.html#a0a221b005894579fea3b9eb7bfc2ee71">image</a>-&gt;<a class="code" href="../../de/d73/class_image.html#acfd22d055cadfeed00655c82f4ffdaa2">GetPixels</a>(<a class="code" href="../../d9/de5/_image_8h.html#a9852684147e651e988ed71ddc71426d5a084250a20788687c01a5edbee1ba4826">IMAGE_FORMAT_R5G6B5</a>);</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pcx_data_size = 30000;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                <span class="keywordtype">void</span> *pcx_data = malloc(pcx_data_size);</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                <a class="code" href="../../d2/d17/namespace_p_c_x.html#a151713aa9441a236085d884ecbb4d9be">PCX::Encode16</a>(<a class="code" href="../../df/dc4/_s_d_l__opengl_8h.html#ada7ad693ea2e311b8103f4693fc35f80">pixels</a>, <a class="code" href="../../df/d32/_s_d_l__egl_8h.html#a0a221b005894579fea3b9eb7bfc2ee71">image</a>-&gt;GetWidth(), <a class="code" href="../../df/d32/_s_d_l__egl_8h.html#a0a221b005894579fea3b9eb7bfc2ee71">image</a>-&gt;GetHeight(),</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                              pcx_data, pcx_data_size, &amp;pcx_data_size);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                <a class="code" href="../../de/df7/_strings_8h.html#afbeda3fd1bdc8c37d01bdf9f5c8274ff">String</a> str = <a class="code" href="../../d8/d44/_strings_8cpp.html#aebf99e80337d8db0a005aebe8a13fb7f">StringPrintf</a>(<span class="stringliteral">&quot;lloyd%d%d.pcx&quot;</span>, i + 1, j + 1);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../de/d42/_l_o_d_8cpp.html#aef85f9958d2146e2fa92b9b5f9c184fd">pNew_LOD</a>-&gt;<a class="code" href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#ab648acee2342b9ad720942ffa90536a0">Write</a>(str, pcx_data, pcx_data_size, 0)) {</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                    <span class="keyword">auto</span> error_message = <a class="code" href="../../dd/d8c/_localization_8cpp.html#acce22610cffe19ad6cc8f577cd611b8b">localization</a>-&gt;<a class="code" href="../../dd/d88/class_localization.html#aa585c1180dc1a338b5822de8e413d2d6">FormatString</a>(612, 207);</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                    <a class="code" href="../../de/d8c/_engine_2_ioc_container_8cpp.html#a9be76595edb968c5dfb165ec86ba2959">logger</a>-&gt;<a class="code" href="../../d6/d70/class_log.html#ac0de2621497ca3b2fbf208624c08bcdf">Warning</a>(L<span class="stringliteral">&quot;%S&quot;</span>, error_message.c_str());</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                }</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                free(pcx_data);</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;            }</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        }</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    }</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160; </div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="keywordflow">if</span> (!NotSaveWorld) {  <span class="comment">// autosave for change location</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        <a class="code" href="../../d9/ded/_sprite_object_8cpp.html#aaba2939e1540dd4a568dbcdb4591117b">CompactLayingItemsList</a>();</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        <span class="keywordtype">char</span> *compressed_buf = (<span class="keywordtype">char</span> *)malloc(1000000);</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <span class="keywordflow">if</span> (compressed_buf == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;            <a class="code" href="../../de/d8c/_engine_2_ioc_container_8cpp.html#a9be76595edb968c5dfb165ec86ba2959">logger</a>-&gt;<a class="code" href="../../d6/d70/class_log.html#ac0de2621497ca3b2fbf208624c08bcdf">Warning</a>(L<span class="stringliteral">&quot;Malloc error&quot;</span>);</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;            Error(<span class="stringliteral">&quot;Malloc&quot;</span>);  <span class="comment">// is this recoverable</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        }</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        <a class="code" href="../../d9/d1c/struct_o_d_m_header.html">ODMHeader</a> *odm_data = (<a class="code" href="../../d9/d1c/struct_o_d_m_header.html">ODMHeader</a>*)compressed_buf;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        odm_data-&gt;<a class="code" href="../../d9/d1c/struct_o_d_m_header.html#af5ae59cca4a51296f2d982c9b2cf5eea">uVersion</a> = 91969;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        odm_data-&gt;<a class="code" href="../../d9/d1c/struct_o_d_m_header.html#a84e54e0850baa75cbf296d7d9e52ffb2">pMagic</a>[0] = <span class="charliteral">&#39;m&#39;</span>;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        odm_data-&gt;<a class="code" href="../../d9/d1c/struct_o_d_m_header.html#a84e54e0850baa75cbf296d7d9e52ffb2">pMagic</a>[1] = <span class="charliteral">&#39;v&#39;</span>;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        odm_data-&gt;<a class="code" href="../../d9/d1c/struct_o_d_m_header.html#a84e54e0850baa75cbf296d7d9e52ffb2">pMagic</a>[2] = <span class="charliteral">&#39;i&#39;</span>;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        odm_data-&gt;<a class="code" href="../../d9/d1c/struct_o_d_m_header.html#a84e54e0850baa75cbf296d7d9e52ffb2">pMagic</a>[3] = <span class="charliteral">&#39;i&#39;</span>;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        odm_data-&gt;<a class="code" href="../../d9/d1c/struct_o_d_m_header.html#af1928ec9511ef03503a706eb45a90e69">uCompressedSize</a> = 0;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        odm_data-&gt;<a class="code" href="../../d9/d1c/struct_o_d_m_header.html#a31673a0e27489f85de06e7c41894fdf3">uDecompressedSize</a> = 0;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160; </div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        <span class="keywordtype">char</span> *data_write_pos = uncompressed_buff;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d1/d4a/_indoor_8cpp.html#af7004771e2f64ebae04197860cd1f3d3">uCurrentlyLoadedLevelType</a> == <a class="code" href="../../da/dc7/_indoor_8h.html#a24bf8802234f411139f3a641894c3f70a15a823faa9b1cebf4eec0ccc61356569">LEVEL_Indoor</a>) {</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;            <a class="code" href="../../d1/d4a/_indoor_8cpp.html#a9b7a8d8a38babff41b0d4655a053ca75">pIndoor</a>-&gt;<a class="code" href="../../d6/d9e/struct_indoor_location.html#a8d6608b1e7dddb1aad6f0764087aaf9a">dlv</a>.<a class="code" href="../../db/df7/struct_d_d_m___d_l_v___header.html#a3c14fd796d6726c52bf9e427d8f5244d">uNumFacesInBModels</a> = <a class="code" href="../../d1/d4a/_indoor_8cpp.html#a9b7a8d8a38babff41b0d4655a053ca75">pIndoor</a>-&gt;<a class="code" href="../../d6/d9e/struct_indoor_location.html#ae170b3b5807eda1154200d5b1cea24a7">uNumFaces</a>;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;            <a class="code" href="../../d1/d4a/_indoor_8cpp.html#a9b7a8d8a38babff41b0d4655a053ca75">pIndoor</a>-&gt;<a class="code" href="../../d6/d9e/struct_indoor_location.html#a8d6608b1e7dddb1aad6f0764087aaf9a">dlv</a>.<a class="code" href="../../db/df7/struct_d_d_m___d_l_v___header.html#a41fac427de155ce608800e3c8e388e1a">uNumBModels</a> = 0;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;            <a class="code" href="../../d1/d4a/_indoor_8cpp.html#a9b7a8d8a38babff41b0d4655a053ca75">pIndoor</a>-&gt;<a class="code" href="../../d6/d9e/struct_indoor_location.html#a8d6608b1e7dddb1aad6f0764087aaf9a">dlv</a>.<a class="code" href="../../db/df7/struct_d_d_m___d_l_v___header.html#adf3c0775064f52712f2f6611c8407ed7">uNumDecorations</a> = <a class="code" href="../../d1/d3f/_decoration_8cpp.html#a101fc537db69c0c4d78b106b256c4cfc">uNumLevelDecorations</a>;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;            memcpy(data_write_pos, &amp;<a class="code" href="../../d1/d4a/_indoor_8cpp.html#a9b7a8d8a38babff41b0d4655a053ca75">pIndoor</a>-&gt;<a class="code" href="../../d6/d9e/struct_indoor_location.html#a8d6608b1e7dddb1aad6f0764087aaf9a">dlv</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../db/df7/struct_d_d_m___d_l_v___header.html">DDM_DLV_Header</a>));  <span class="comment">// 0x28</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;            data_write_pos += <span class="keyword">sizeof</span>(<a class="code" href="../../db/df7/struct_d_d_m___d_l_v___header.html">DDM_DLV_Header</a>);</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            memcpy(data_write_pos, <a class="code" href="../../d1/d4a/_indoor_8cpp.html#a9b7a8d8a38babff41b0d4655a053ca75">pIndoor</a>-&gt;<a class="code" href="../../d6/d9e/struct_indoor_location.html#af3d956d757ebafe20a35f4a6c94ac103">_visible_outlines</a>, 0x36B);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;            data_write_pos += 875;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; (<span class="keywordtype">signed</span> int)<a class="code" href="../../d1/d4a/_indoor_8cpp.html#a9b7a8d8a38babff41b0d4655a053ca75">pIndoor</a>-&gt;<a class="code" href="../../d6/d9e/struct_indoor_location.html#ae170b3b5807eda1154200d5b1cea24a7">uNumFaces</a>; ++i) {</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                memcpy(data_write_pos, &amp;<a class="code" href="../../d1/d4a/_indoor_8cpp.html#a9b7a8d8a38babff41b0d4655a053ca75">pIndoor</a>-&gt;<a class="code" href="../../d6/d9e/struct_indoor_location.html#a27ea6b1952ead8f9acbb8766511457d7">pFaces</a>[i].<a class="code" href="../../d9/ded/struct_b_l_v_face.html#a53874a062912a47d57a0ad755c1fc3d9">uAttributes</a>, 4);</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                data_write_pos += 4;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;            }</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160; </div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; (<span class="keywordtype">signed</span> int)<a class="code" href="../../d1/d3f/_decoration_8cpp.html#a101fc537db69c0c4d78b106b256c4cfc">uNumLevelDecorations</a>; ++i) {</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                memcpy(data_write_pos, &amp;<a class="code" href="../../d1/d3f/_decoration_8cpp.html#a30fe70a9ffc6c9e200b414bc5b3e3e8b">pLevelDecorations</a>[i].uFlags, 2);</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                data_write_pos += 2;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;            }</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;            memcpy(data_write_pos, &amp;<a class="code" href="../../d4/d59/_actor_8cpp.html#a673064c6f7b303e07d7c34a53473435f">uNumActors</a>, 4);</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;            data_write_pos += 4;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;            memcpy(data_write_pos, &amp;<a class="code" href="../../d4/d59/_actor_8cpp.html#ab7c12523a0048f72c6ed89eff8330548">pActors</a>, <a class="code" href="../../d4/d59/_actor_8cpp.html#a673064c6f7b303e07d7c34a53473435f">uNumActors</a> * <span class="keyword">sizeof</span>(<a class="code" href="../../da/d35/struct_actor.html">Actor</a>));</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;            data_write_pos += <a class="code" href="../../d4/d59/_actor_8cpp.html#a673064c6f7b303e07d7c34a53473435f">uNumActors</a> * <span class="keyword">sizeof</span>(<a class="code" href="../../da/d35/struct_actor.html">Actor</a>);</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;            memcpy(data_write_pos, &amp;<a class="code" href="../../d9/ded/_sprite_object_8cpp.html#ad75c008e353d000e9258ef3884674d18">uNumSpriteObjects</a>, 4);</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;            data_write_pos += 4;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;            memcpy(data_write_pos, <a class="code" href="../../d9/ded/_sprite_object_8cpp.html#a52287337197f435e50cf4450fd11db77">pSpriteObjects</a>.data(),</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                   112 * <a class="code" href="../../d9/ded/_sprite_object_8cpp.html#ad75c008e353d000e9258ef3884674d18">uNumSpriteObjects</a>);</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;            data_write_pos += 112 * <a class="code" href="../../d9/ded/_sprite_object_8cpp.html#ad75c008e353d000e9258ef3884674d18">uNumSpriteObjects</a>;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160; </div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;            data_write_pos = <a class="code" href="../../d8/d67/_chest_8cpp.html#a83ef29e58e4690b446af1b06f66bdbd7">ChestsSerialize</a>(data_write_pos);</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160; </div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;            memcpy(data_write_pos, <a class="code" href="../../d1/d4a/_indoor_8cpp.html#a9b7a8d8a38babff41b0d4655a053ca75">pIndoor</a>-&gt;<a class="code" href="../../d6/d9e/struct_indoor_location.html#aec43a49f702195ab4679e275313e78a2">pDoors</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d1/dcf/struct_b_l_v_door.html">BLVDoor</a>) * 200);</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;            data_write_pos += 16000;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;            memcpy(data_write_pos, <a class="code" href="../../d1/d4a/_indoor_8cpp.html#a9b7a8d8a38babff41b0d4655a053ca75">pIndoor</a>-&gt;<a class="code" href="../../d6/d9e/struct_indoor_location.html#a34b55058c3e789e4a30ce3dbc23d19a0">ptr_0002B4_doors_ddata</a>,</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                   <a class="code" href="../../d1/d4a/_indoor_8cpp.html#a9b7a8d8a38babff41b0d4655a053ca75">pIndoor</a>-&gt;<a class="code" href="../../d6/d9e/struct_indoor_location.html#aa8b1296c7b5d806c6bba8fc526f4f3a7">blv</a>.<a class="code" href="../../d8/d34/struct_b_l_v_header.html#aab300995ae5ead83fd1a28b79dab295d">uDoors_ddata_Size</a>);</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;            data_write_pos += <a class="code" href="../../d1/d4a/_indoor_8cpp.html#a9b7a8d8a38babff41b0d4655a053ca75">pIndoor</a>-&gt;<a class="code" href="../../d6/d9e/struct_indoor_location.html#aa8b1296c7b5d806c6bba8fc526f4f3a7">blv</a>.<a class="code" href="../../d8/d34/struct_b_l_v_header.html#aab300995ae5ead83fd1a28b79dab295d">uDoors_ddata_Size</a>;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;            memcpy(data_write_pos, &amp;<a class="code" href="../../d6/d5b/mm7__data_8cpp.html#a820b7032fb7d7cfff6d46feb02d3932d">stru_5E4C90_MapPersistVars</a>, 0xC8);</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;            data_write_pos += 200;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;            memcpy(data_write_pos, &amp;<a class="code" href="../../d1/d4a/_indoor_8cpp.html#a9b7a8d8a38babff41b0d4655a053ca75">pIndoor</a>-&gt;<a class="code" href="../../d6/d9e/struct_indoor_location.html#a98ec4eb44ff7818bec1bb450bfef2e4d">stru1</a>, 0x38);</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;            data_write_pos += 56;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160; </div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        } <span class="keywordflow">else</span> {  <span class="comment">// for Outdoor</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;            <a class="code" href="../../d1/d03/_outdoor_8cpp.html#af1ccdd58891375c26aa795fcdd97aa32">pOutdoor</a>-&gt;<a class="code" href="../../d1/d55/struct_outdoor_location.html#a93ca7972b7acfc6e4a8331e5ff3771b6">ddm</a>.<a class="code" href="../../db/df7/struct_d_d_m___d_l_v___header.html#a3c14fd796d6726c52bf9e427d8f5244d">uNumFacesInBModels</a> = 0;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="../../db/dd9/class_b_s_p_model.html">BSPModel</a> &amp;model : <a class="code" href="../../d1/d03/_outdoor_8cpp.html#af1ccdd58891375c26aa795fcdd97aa32">pOutdoor</a>-&gt;<a class="code" href="../../d1/d55/struct_outdoor_location.html#adc49ad49f40d3fa90b95598be875df49">pBModels</a>) {</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                <a class="code" href="../../d1/d03/_outdoor_8cpp.html#af1ccdd58891375c26aa795fcdd97aa32">pOutdoor</a>-&gt;<a class="code" href="../../d1/d55/struct_outdoor_location.html#a93ca7972b7acfc6e4a8331e5ff3771b6">ddm</a>.<a class="code" href="../../db/df7/struct_d_d_m___d_l_v___header.html#a3c14fd796d6726c52bf9e427d8f5244d">uNumFacesInBModels</a> += model.<a class="code" href="../../db/dd9/class_b_s_p_model.html#a054a4c6bb89e654f8de85ba8bf61ba85">pFaces</a>.size();</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;            }</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;            <a class="code" href="../../d1/d03/_outdoor_8cpp.html#af1ccdd58891375c26aa795fcdd97aa32">pOutdoor</a>-&gt;<a class="code" href="../../d1/d55/struct_outdoor_location.html#a93ca7972b7acfc6e4a8331e5ff3771b6">ddm</a>.<a class="code" href="../../db/df7/struct_d_d_m___d_l_v___header.html#a41fac427de155ce608800e3c8e388e1a">uNumBModels</a> = <a class="code" href="../../d1/d03/_outdoor_8cpp.html#af1ccdd58891375c26aa795fcdd97aa32">pOutdoor</a>-&gt;<a class="code" href="../../d1/d55/struct_outdoor_location.html#adc49ad49f40d3fa90b95598be875df49">pBModels</a>.size();</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;            <a class="code" href="../../d1/d03/_outdoor_8cpp.html#af1ccdd58891375c26aa795fcdd97aa32">pOutdoor</a>-&gt;<a class="code" href="../../d1/d55/struct_outdoor_location.html#a93ca7972b7acfc6e4a8331e5ff3771b6">ddm</a>.<a class="code" href="../../db/df7/struct_d_d_m___d_l_v___header.html#adf3c0775064f52712f2f6611c8407ed7">uNumDecorations</a> = <a class="code" href="../../d1/d3f/_decoration_8cpp.html#a101fc537db69c0c4d78b106b256c4cfc">uNumLevelDecorations</a>;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;            memcpy(data_write_pos, &amp;<a class="code" href="../../d1/d03/_outdoor_8cpp.html#af1ccdd58891375c26aa795fcdd97aa32">pOutdoor</a>-&gt;<a class="code" href="../../d1/d55/struct_outdoor_location.html#a93ca7972b7acfc6e4a8331e5ff3771b6">ddm</a>,</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                   <span class="keyword">sizeof</span>(<a class="code" href="../../db/df7/struct_d_d_m___d_l_v___header.html">DDM_DLV_Header</a>));  <span class="comment">// 0x28</span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;            data_write_pos += <span class="keyword">sizeof</span>(<a class="code" href="../../db/df7/struct_d_d_m___d_l_v___header.html">DDM_DLV_Header</a>);</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;            memcpy(data_write_pos, <a class="code" href="../../d1/d03/_outdoor_8cpp.html#af1ccdd58891375c26aa795fcdd97aa32">pOutdoor</a>-&gt;<a class="code" href="../../d1/d55/struct_outdoor_location.html#a43456d9de8fff715ebcfc86308fc40f9">uFullyRevealedCellOnMap</a>, 0x3C8);</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;            data_write_pos += 968;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            memcpy(data_write_pos, <a class="code" href="../../d1/d03/_outdoor_8cpp.html#af1ccdd58891375c26aa795fcdd97aa32">pOutdoor</a>-&gt;<a class="code" href="../../d1/d55/struct_outdoor_location.html#a93470b274e5ee8ff7f686c35ee12f610">uPartiallyRevealedCellOnMap</a>,</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                   0x3C8);</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;            data_write_pos += 968;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="../../db/dd9/class_b_s_p_model.html">BSPModel</a> &amp;model : <a class="code" href="../../d1/d03/_outdoor_8cpp.html#af1ccdd58891375c26aa795fcdd97aa32">pOutdoor</a>-&gt;<a class="code" href="../../d1/d55/struct_outdoor_location.html#adc49ad49f40d3fa90b95598be875df49">pBModels</a>) {</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="../../d3/df8/struct_o_d_m_face.html">ODMFace</a> &amp;<a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a676ca580c460c0154eb58200433d2a9e">face</a> : model.<a class="code" href="../../db/dd9/class_b_s_p_model.html#a054a4c6bb89e654f8de85ba8bf61ba85">pFaces</a>) {</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                    memcpy(data_write_pos, &amp;(<a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a676ca580c460c0154eb58200433d2a9e">face</a>.uAttributes), 4);</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                    data_write_pos += 4;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                }</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;            }</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160; </div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; <a class="code" href="../../d1/d3f/_decoration_8cpp.html#a101fc537db69c0c4d78b106b256c4cfc">uNumLevelDecorations</a>; ++i) {</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                memcpy(data_write_pos, &amp;<a class="code" href="../../d1/d3f/_decoration_8cpp.html#a30fe70a9ffc6c9e200b414bc5b3e3e8b">pLevelDecorations</a>[i].uFlags, 2);</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                data_write_pos += 2;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;            }</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;            memcpy(data_write_pos, &amp;<a class="code" href="../../d4/d59/_actor_8cpp.html#a673064c6f7b303e07d7c34a53473435f">uNumActors</a>, 4);</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;            data_write_pos += 4;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;            memcpy(data_write_pos, &amp;<a class="code" href="../../d4/d59/_actor_8cpp.html#ab7c12523a0048f72c6ed89eff8330548">pActors</a>, <a class="code" href="../../d4/d59/_actor_8cpp.html#a673064c6f7b303e07d7c34a53473435f">uNumActors</a> * <span class="keyword">sizeof</span>(<a class="code" href="../../da/d35/struct_actor.html">Actor</a>));</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;            data_write_pos += <a class="code" href="../../d4/d59/_actor_8cpp.html#a673064c6f7b303e07d7c34a53473435f">uNumActors</a> * <span class="keyword">sizeof</span>(<a class="code" href="../../da/d35/struct_actor.html">Actor</a>);</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;            memcpy(data_write_pos, &amp;<a class="code" href="../../d9/ded/_sprite_object_8cpp.html#ad75c008e353d000e9258ef3884674d18">uNumSpriteObjects</a>, 4);</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;            data_write_pos += 4;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;            memcpy(data_write_pos, &amp;<a class="code" href="../../d9/ded/_sprite_object_8cpp.html#a52287337197f435e50cf4450fd11db77">pSpriteObjects</a>,</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                   <a class="code" href="../../d9/ded/_sprite_object_8cpp.html#ad75c008e353d000e9258ef3884674d18">uNumSpriteObjects</a> * <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d5a/struct_sprite_object.html">SpriteObject</a>));</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;            data_write_pos += <a class="code" href="../../d9/ded/_sprite_object_8cpp.html#ad75c008e353d000e9258ef3884674d18">uNumSpriteObjects</a> * <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d5a/struct_sprite_object.html">SpriteObject</a>);</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160; </div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;            data_write_pos = <a class="code" href="../../d8/d67/_chest_8cpp.html#a83ef29e58e4690b446af1b06f66bdbd7">ChestsSerialize</a>(data_write_pos);</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160; </div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;            memcpy(data_write_pos, &amp;<a class="code" href="../../d6/d5b/mm7__data_8cpp.html#a820b7032fb7d7cfff6d46feb02d3932d">stru_5E4C90_MapPersistVars</a>, 0xC8);</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;            data_write_pos += 200;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;            memcpy(data_write_pos, &amp;<a class="code" href="../../d1/d03/_outdoor_8cpp.html#af1ccdd58891375c26aa795fcdd97aa32">pOutdoor</a>-&gt;<a class="code" href="../../d1/d55/struct_outdoor_location.html#ad06de299b017339b1aba11b734ece0ad">loc_time</a>, 0x38);</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;            data_write_pos += 56;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        }</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160; </div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> compressed_block_size = 1000000 - <span class="keyword">sizeof</span>(<a class="code" href="../../d9/d1c/struct_o_d_m_header.html">ODMHeader</a>);</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        <span class="keywordtype">size_t</span> Size = data_write_pos - uncompressed_buff;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a1dbb21208b9047cc8031ca9c840d3c2f">res</a> = <a class="code" href="../../d9/d3e/namespacezlib.html#abce69f330c230c102535d820ca92bf9c">zlib::Compress</a>(compressed_buf + <span class="keyword">sizeof</span>(<a class="code" href="../../d9/d1c/struct_o_d_m_header.html">ODMHeader</a>), &amp;compressed_block_size, uncompressed_buff, Size);</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a1dbb21208b9047cc8031ca9c840d3c2f">res</a> || (compressed_block_size &gt; Size)) {</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;            memcpy((<span class="keywordtype">void</span> *)(compressed_buf + <span class="keyword">sizeof</span>(<a class="code" href="../../d9/d1c/struct_o_d_m_header.html">ODMHeader</a>)), uncompressed_buff, Size);</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;            compressed_block_size = Size;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        }</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160; </div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        odm_data-&gt;<a class="code" href="../../d9/d1c/struct_o_d_m_header.html#af1928ec9511ef03503a706eb45a90e69">uCompressedSize</a> = compressed_block_size;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        odm_data-&gt;<a class="code" href="../../d9/d1c/struct_o_d_m_header.html#a31673a0e27489f85de06e7c41894fdf3">uDecompressedSize</a> = Size;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160; </div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        <a class="code" href="../../de/df7/_strings_8h.html#afbeda3fd1bdc8c37d01bdf9f5c8274ff">String</a> file_name = <a class="code" href="../../d6/d5b/mm7__data_8cpp.html#a88ebc50ce00b0ed9170a4da4a7d99ce2">pCurrentMapName</a>;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        <span class="keywordtype">size_t</span> pos = file_name.find_last_of(<span class="stringliteral">&quot;.&quot;</span>);</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        file_name[pos + 1] = <span class="charliteral">&#39;d&#39;</span>;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../de/d42/_l_o_d_8cpp.html#aef85f9958d2146e2fa92b9b5f9c184fd">pNew_LOD</a>-&gt;<a class="code" href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#ab648acee2342b9ad720942ffa90536a0">Write</a>(file_name, compressed_buf, compressed_block_size + <span class="keyword">sizeof</span>(<a class="code" href="../../d9/d1c/struct_o_d_m_header.html">ODMHeader</a>), 0)) {</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;            <span class="keyword">auto</span> error_message = <a class="code" href="../../dd/d8c/_localization_8cpp.html#acce22610cffe19ad6cc8f577cd611b8b">localization</a>-&gt;<a class="code" href="../../dd/d88/class_localization.html#aa585c1180dc1a338b5822de8e413d2d6">FormatString</a>(612, 208);</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;            <a class="code" href="../../de/d8c/_engine_2_ioc_container_8cpp.html#a9be76595edb968c5dfb165ec86ba2959">logger</a>-&gt;<a class="code" href="../../d6/d70/class_log.html#ac0de2621497ca3b2fbf208624c08bcdf">Warning</a>(L<span class="stringliteral">&quot;%S&quot;</span>, error_message.c_str());</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        }</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        free(compressed_buf);</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    }</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    free(uncompressed_buff);</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="keywordflow">if</span> (IsAutoSAve) {</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d4/d9d/_save_load_8cpp.html#a553fe24661332408e88879e7a4802b23">CopyFile</a>(<a class="code" href="../../d4/d68/_engine_8cpp.html#a7a083a74e008e624d001444406d58c6d">MakeDataPath</a>(<span class="stringliteral">&quot;data\\new.lod&quot;</span>),</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                      <a class="code" href="../../d4/d68/_engine_8cpp.html#a7a083a74e008e624d001444406d58c6d">MakeDataPath</a>(<span class="stringliteral">&quot;saves\\autosave.mm7&quot;</span>))) {</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;            <a class="code" href="../../de/d8c/_engine_2_ioc_container_8cpp.html#a9be76595edb968c5dfb165ec86ba2959">logger</a>-&gt;<a class="code" href="../../d6/d70/class_log.html#ac0de2621497ca3b2fbf208624c08bcdf">Warning</a>(L<span class="stringliteral">&quot;Copy autosave.mm7 failed&quot;</span>);</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        }</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    }</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <a class="code" href="../../da/db4/_party_8cpp.html#a638b1d8b985f1c7f8b69f2d81286f98e">pParty</a>-&gt;<a class="code" href="../../d0/d14/struct_party.html#a9131ac68bf00fcaf956e6b6d2dde7a6d">vPosition</a>.x = pPositionX;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <a class="code" href="../../da/db4/_party_8cpp.html#a638b1d8b985f1c7f8b69f2d81286f98e">pParty</a>-&gt;<a class="code" href="../../d0/d14/struct_party.html#a9131ac68bf00fcaf956e6b6d2dde7a6d">vPosition</a>.y = pPositionY;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <a class="code" href="../../da/db4/_party_8cpp.html#a638b1d8b985f1c7f8b69f2d81286f98e">pParty</a>-&gt;<a class="code" href="../../d0/d14/struct_party.html#a9131ac68bf00fcaf956e6b6d2dde7a6d">vPosition</a>.z = pPositionZ;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <a class="code" href="../../da/db4/_party_8cpp.html#a638b1d8b985f1c7f8b69f2d81286f98e">pParty</a>-&gt;<a class="code" href="../../d0/d14/struct_party.html#af03c6334d1ca2b54dbf154a07d02b456">uFallStartY</a> = pPositionZ;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <a class="code" href="../../da/db4/_party_8cpp.html#a638b1d8b985f1c7f8b69f2d81286f98e">pParty</a>-&gt;<a class="code" href="../../d0/d14/struct_party.html#a58acc77e1ce8db07f410d3557b8f4805">sRotationY</a> = sPRotationY;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <a class="code" href="../../da/db4/_party_8cpp.html#a638b1d8b985f1c7f8b69f2d81286f98e">pParty</a>-&gt;<a class="code" href="../../d0/d14/struct_party.html#adcfe721445b79ef3f4cfdd51a2ee0ba1">sRotationX</a> = sPRotationX;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;}</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160; </div>
<div class="line"><a name="l00514"></a><span class="lineno"><a class="line" href="../../dd/de7/_save_load_8h.html#a5560a432d5ca59965633a942bb26666f">  514</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d4/d9d/_save_load_8cpp.html#a5560a432d5ca59965633a942bb26666f">DoSavegame</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> uSlot) {</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d5b/mm7__data_8cpp.html#a88ebc50ce00b0ed9170a4da4a7d99ce2">pCurrentMapName</a> != <span class="stringliteral">&quot;d05.blv&quot;</span>) {  <span class="comment">// Not Arena(не Арена)</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        <a class="code" href="../../d4/d9d/_save_load_8cpp.html#a8877c76af6a19304100073ae590e1b8d">SaveGame</a>(0, 0);</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        strcpy(<a class="code" href="../../d4/d9d/_save_load_8cpp.html#a2717bc6f95074a0dfef7748ec3cd5d3a">pSavegameHeader</a>[uSlot].pLocationName, <a class="code" href="../../d6/d5b/mm7__data_8cpp.html#a88ebc50ce00b0ed9170a4da4a7d99ce2">pCurrentMapName</a>.c_str());</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        <a class="code" href="../../d4/d9d/_save_load_8cpp.html#a2717bc6f95074a0dfef7748ec3cd5d3a">pSavegameHeader</a>[uSlot].playing_time = <a class="code" href="../../da/db4/_party_8cpp.html#a638b1d8b985f1c7f8b69f2d81286f98e">pParty</a>-&gt;<a class="code" href="../../d0/d14/struct_party.html#a2e22e5307901cb1acb688185168b6161">GetPlayingTime</a>();</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        <a class="code" href="../../de/d42/_l_o_d_8cpp.html#aef85f9958d2146e2fa92b9b5f9c184fd">pNew_LOD</a>-&gt;<a class="code" href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#ab648acee2342b9ad720942ffa90536a0">Write</a>(<span class="stringliteral">&quot;header.bin&quot;</span>, &amp;<a class="code" href="../../d4/d9d/_save_load_8cpp.html#a2717bc6f95074a0dfef7748ec3cd5d3a">pSavegameHeader</a>[uSlot], <span class="keyword">sizeof</span>(<a class="code" href="../../d1/d2a/struct_savegame_header.html">SavegameHeader</a>), 0);</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        <a class="code" href="../../de/d42/_l_o_d_8cpp.html#aef85f9958d2146e2fa92b9b5f9c184fd">pNew_LOD</a>-&gt;<a class="code" href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#afeb4addbf259dbd7a4dbe4659c5291a5">CloseWriteFile</a>();  <span class="comment">//закрыть</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        <a class="code" href="../../de/df7/_strings_8h.html#afbeda3fd1bdc8c37d01bdf9f5c8274ff">String</a> file_path = <a class="code" href="../../d8/d44/_strings_8cpp.html#aebf99e80337d8db0a005aebe8a13fb7f">StringPrintf</a>(<span class="stringliteral">&quot;saves\\save%03d.mm7&quot;</span>, uSlot);</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        file_path = <a class="code" href="../../d4/d68/_engine_8cpp.html#a7a083a74e008e624d001444406d58c6d">MakeDataPath</a>(file_path.c_str());</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        <a class="code" href="../../d4/d9d/_save_load_8cpp.html#a553fe24661332408e88879e7a4802b23">CopyFile</a>(<a class="code" href="../../d4/d68/_engine_8cpp.html#a7a083a74e008e624d001444406d58c6d">MakeDataPath</a>(<span class="stringliteral">&quot;data\\new.lod&quot;</span>), file_path);</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    }</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <a class="code" href="../../dc/dce/_g_u_i_window_8cpp.html#a9cafb995f3f6b03139380e5fb4fee184">GUI_UpdateWindows</a>();</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <a class="code" href="../../dc/dce/_g_u_i_window_8cpp.html#a92046372c9dbad521216a485de9e5731">pGUIWindow_CurrentMenu</a>-&gt;<a class="code" href="../../d4/d38/class_g_u_i_window.html#aaf2e6a2022904abc2d253e9d4acd5d99">Release</a>();</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <a class="code" href="../../dc/dce/_g_u_i_window_8cpp.html#a9cf585dbf96fdd1acbe15981837ebdb2">current_screen_type</a> = <a class="code" href="../../d5/d0b/_g_u_i_window_8h.html#af188298480c77be8835d6760fa6edfd7a1b14f33469f90b26e5f73747bcbd62f8">CURRENT_SCREEN::SCREEN_GAME</a>;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160; </div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <a class="code" href="../../d7/d19/_viewport_8h.html#a3728133a9af71bc7d784f76d49025ec0">viewparams</a>-&gt;<a class="code" href="../../d4/d10/struct_viewing_params.html#a0bb88f953083fe55c27db34b5b774956">bRedrawGameUI</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d2/d83/_m_m7_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> i = 0; i &lt; <a class="code" href="../../dd/de7/_save_load_8h.html#a057d24aa837c1a458ebddedc4b21bea3">MAX_SAVE_SLOTS</a>; i++) {</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d4/d9d/_save_load_8cpp.html#a075d49ecfaa98693083d42393d861311">pSavegameThumbnails</a>[i] != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;            <a class="code" href="../../d4/d9d/_save_load_8cpp.html#a075d49ecfaa98693083d42393d861311">pSavegameThumbnails</a>[i]-&gt;Release();</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;            <a class="code" href="../../d4/d9d/_save_load_8cpp.html#a075d49ecfaa98693083d42393d861311">pSavegameThumbnails</a>[i] = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        }</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    }</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160; </div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d5b/mm7__data_8cpp.html#a88ebc50ce00b0ed9170a4da4a7d99ce2">pCurrentMapName</a> != <span class="stringliteral">&quot;d05.blv&quot;</span>)</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        <a class="code" href="../../de/d42/_l_o_d_8cpp.html#aef85f9958d2146e2fa92b9b5f9c184fd">pNew_LOD</a>-&gt;<a class="code" href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#aad84dd1910dc1e0792222eeb04e5a780">_4621A7</a>();</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;        <a class="code" href="../../d4/dca/_u_i_status_bar_8cpp.html#abe7a1f2130faa2a0a455965241061a8c">GameUI_StatusBar_OnEvent</a>(<a class="code" href="../../dd/d8c/_localization_8cpp.html#acce22610cffe19ad6cc8f577cd611b8b">localization</a>-&gt;<a class="code" href="../../dd/d88/class_localization.html#a0eb0a17fdf90f6a420eeac65bf62436f">GetString</a>(583), 2);  <span class="comment">// &quot;No saving in the Arena&quot;</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160; </div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <a class="code" href="../../db/d84/_time_8cpp.html#a9b16df08347bd1a24e9e426848ffca3c">pEventTimer</a>-&gt;<a class="code" href="../../d8/da1/struct_timer.html#ad3b4e386f8ebb885fa2ef6fcac8d9ca3">Resume</a>();</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <a class="code" href="../../d4/dca/_u_i_status_bar_8cpp.html#abe7a1f2130faa2a0a455965241061a8c">GameUI_StatusBar_OnEvent</a>(<a class="code" href="../../dd/d8c/_localization_8cpp.html#acce22610cffe19ad6cc8f577cd611b8b">localization</a>-&gt;<a class="code" href="../../dd/d88/class_localization.html#a0eb0a17fdf90f6a420eeac65bf62436f">GetString</a>(656), 2);  <span class="comment">// &quot;Game Saved!&quot;</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <a class="code" href="../../d7/d19/_viewport_8h.html#a3728133a9af71bc7d784f76d49025ec0">viewparams</a>-&gt;<a class="code" href="../../d4/d10/struct_viewing_params.html#a0bb88f953083fe55c27db34b5b774956">bRedrawGameUI</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;}</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160; </div>
<div class="line"><a name="l00547"></a><span class="lineno"><a class="line" href="../../dd/df4/struct_savegame_list.html#ad9b0bed61e5dacbe0da7b9cf4a922622">  547</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dd/df4/struct_savegame_list.html#ad9b0bed61e5dacbe0da7b9cf4a922622">SavegameList::Initialize</a>() {</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <a class="code" href="../../d4/d9d/_save_load_8cpp.html#af77ad39a7afaff97a0912f094c676a05">pSavegameList</a>-&gt;<a class="code" href="../../dd/df4/struct_savegame_list.html#a638b1a307a34674f75b1330631fbeb3a">Reset</a>();</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <a class="code" href="../../d4/d9d/_save_load_8cpp.html#a033a1ba287ab22cc861c572de6754aee">uNumSavegameFiles</a> = 0;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160; </div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <a class="code" href="../../de/df7/_strings_8h.html#afbeda3fd1bdc8c37d01bdf9f5c8274ff">String</a> saves_dir = <a class="code" href="../../d4/d68/_engine_8cpp.html#a7a083a74e008e624d001444406d58c6d">MakeDataPath</a>(<span class="stringliteral">&quot;Saves&quot;</span>);</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    std::vector&lt;String&gt; files = <a class="code" href="../../d4/ddd/_api_8h.html#a57e533599a2f36c46d01cf3855ba76ee">OS_FindFiles</a>(saves_dir, <span class="stringliteral">&quot;*.mm7&quot;</span>);</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="../../de/df7/_strings_8h.html#afbeda3fd1bdc8c37d01bdf9f5c8274ff">String</a> &amp;<a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#ab25d8cd967ccbd19b630d7100ff8f67e">path</a> : files) {</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        <a class="code" href="../../d4/d9d/_save_load_8cpp.html#af77ad39a7afaff97a0912f094c676a05">pSavegameList</a>-&gt;<a class="code" href="../../dd/df4/struct_savegame_list.html#a899494f772cbbfacd5c1c3c1e7725c91">pFileList</a>[<a class="code" href="../../d4/d9d/_save_load_8cpp.html#a033a1ba287ab22cc861c572de6754aee">uNumSavegameFiles</a>++] = <a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#ab25d8cd967ccbd19b630d7100ff8f67e">path</a>;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    }</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;}</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160; </div>
<div class="line"><a name="l00558"></a><span class="lineno"><a class="line" href="../../dd/df4/struct_savegame_list.html#aae508c1b56dd1083c75f2ba6a731667a">  558</a></span>&#160;<a class="code" href="../../dd/df4/struct_savegame_list.html#aae508c1b56dd1083c75f2ba6a731667a">SavegameList::SavegameList</a>() { <a class="code" href="../../dd/df4/struct_savegame_list.html#a638b1a307a34674f75b1330631fbeb3a">Reset</a>(); }</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160; </div>
<div class="line"><a name="l00560"></a><span class="lineno"><a class="line" href="../../dd/df4/struct_savegame_list.html#a638b1a307a34674f75b1330631fbeb3a">  560</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dd/df4/struct_savegame_list.html#a638b1a307a34674f75b1330631fbeb3a">SavegameList::Reset</a>() {</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; <a class="code" href="../../dd/de7/_save_load_8h.html#a057d24aa837c1a458ebddedc4b21bea3">MAX_SAVE_SLOTS</a>; j++) {</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        this-&gt;<a class="code" href="../../dd/df4/struct_savegame_list.html#a899494f772cbbfacd5c1c3c1e7725c91">pFileList</a>[j].clear();</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    }</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;}</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160; </div>
<div class="line"><a name="l00566"></a><span class="lineno"><a class="line" href="../../dd/de7/_save_load_8h.html#ab496492a832e3fe2f04f9a23bdf3dd2a">  566</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d4/d9d/_save_load_8cpp.html#ab496492a832e3fe2f04f9a23bdf3dd2a">SaveNewGame</a>() {</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../de/d42/_l_o_d_8cpp.html#aef85f9958d2146e2fa92b9b5f9c184fd">pNew_LOD</a> != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        <a class="code" href="../../de/d42/_l_o_d_8cpp.html#aef85f9958d2146e2fa92b9b5f9c184fd">pNew_LOD</a>-&gt;<a class="code" href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#afeb4addbf259dbd7a4dbe4659c5291a5">CloseWriteFile</a>();</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    }</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160; </div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <a class="code" href="../../de/df7/_strings_8h.html#afbeda3fd1bdc8c37d01bdf9f5c8274ff">String</a> file_path = <a class="code" href="../../d4/d68/_engine_8cpp.html#a7a083a74e008e624d001444406d58c6d">MakeDataPath</a>(<span class="stringliteral">&quot;data\\new.lod&quot;</span>);</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    remove(file_path.c_str());  <span class="comment">// удалить new.lod</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160; </div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <a class="code" href="../../dc/d2a/struct_l_o_d_1_1_file_header.html">LOD::FileHeader</a> header;  <span class="comment">// заголовок</span></div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    strcpy(header.<a class="code" href="../../dc/d2a/struct_l_o_d_1_1_file_header.html#a833f5d53e54590004623bf162dd78072">LodVersion</a>, <span class="stringliteral">&quot;MMVII&quot;</span>);</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    strcpy(header.<a class="code" href="../../dc/d2a/struct_l_o_d_1_1_file_header.html#aab9c4281d51e391cb41d969216f1a17b">LodDescription</a>, <span class="stringliteral">&quot;newmaps for MMVII&quot;</span>);</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    header.<a class="code" href="../../dc/d2a/struct_l_o_d_1_1_file_header.html#aee287b83a43727c658827999bd82a801">LODSize</a> = 100;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    header.<a class="code" href="../../dc/d2a/struct_l_o_d_1_1_file_header.html#a4c13cf5cb5f91e479cf12a0f6fa77b7f">dword_0000A8</a> = 0;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160; </div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <a class="code" href="../../de/d42/_l_o_d_8cpp.html#aef85f9958d2146e2fa92b9b5f9c184fd">pNew_LOD</a>-&gt;<a class="code" href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#af9d92a6612fd61455a2eb8a6e874f6a6">CreateNewLod</a>(&amp;header, <span class="stringliteral">&quot;current&quot;</span>, file_path);  <span class="comment">// создаётся new.lod в дирректории</span></div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../de/d42/_l_o_d_8cpp.html#aef85f9958d2146e2fa92b9b5f9c184fd">pNew_LOD</a>-&gt;<a class="code" href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#aafc283e61cafbda02bf0c4828e579046">LoadFile</a>(file_path, <span class="keyword">false</span>)) {  <span class="comment">// загрузить файл new.lod(isFileOpened = true)</span></div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        <a class="code" href="../../de/d42/_l_o_d_8cpp.html#aef85f9958d2146e2fa92b9b5f9c184fd">pNew_LOD</a>-&gt;<a class="code" href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#aa23b1e6780c9e8a1a2db3e617aa252ca">CreateTempFile</a>();  <span class="comment">// создаётся временный файл OutputFileHandle</span></div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        <a class="code" href="../../de/d42/_l_o_d_8cpp.html#aef85f9958d2146e2fa92b9b5f9c184fd">pNew_LOD</a>-&gt;<a class="code" href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#aeb8bca77951d1bdca4969a4b1ce3eeae">ClearSubNodes</a>();</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160; </div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = <a class="code" href="../../de/d42/_l_o_d_8cpp.html#a137bcff77c678b90cc1007a592cbb644">pGames_LOD</a>-&gt;<a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#a0cbd11dc40049f05d547c4073900e598">GetSubNodesCount</a>() / 2; i &lt; pGames_LOD-&gt;GetSubNodesCount(); ++i) {  <span class="comment">// копирование файлов с 76 по 151</span></div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;            <a class="code" href="../../de/df7/_strings_8h.html#afbeda3fd1bdc8c37d01bdf9f5c8274ff">String</a> <a class="code" href="../../df/d32/_s_d_l__egl_8h.html#aaced7cfc21e7d37775d6921bb8177239">name</a> = <a class="code" href="../../de/d42/_l_o_d_8cpp.html#a137bcff77c678b90cc1007a592cbb644">pGames_LOD</a>-&gt;<a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#a76ad87710f9789b6d473a3e6695d04bf">GetSubNodeName</a>(i);</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;            <span class="keywordtype">size_t</span> <a class="code" href="../../db/d76/group__lavu__mem__funcs.html#ga3d1e3edfcf61ca2d831883e1afbad89e">size</a> = 0;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;            <span class="keywordtype">void</span> *<a class="code" href="../../df/dc4/_s_d_l__opengl_8h.html#a2e335d56e2846b0fea47eed068b2d34a">data</a> = <a class="code" href="../../de/d42/_l_o_d_8cpp.html#a137bcff77c678b90cc1007a592cbb644">pGames_LOD</a>-&gt;<a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#ae4069f908e27c3507a03d2bb12ad6f0f">LoadRaw</a>(<a class="code" href="../../df/d32/_s_d_l__egl_8h.html#aaced7cfc21e7d37775d6921bb8177239">name</a>, &amp;<a class="code" href="../../db/d76/group__lavu__mem__funcs.html#ga3d1e3edfcf61ca2d831883e1afbad89e">size</a>);</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;            <a class="code" href="../../de/d42/_l_o_d_8cpp.html#aef85f9958d2146e2fa92b9b5f9c184fd">pNew_LOD</a>-&gt;<a class="code" href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#a8c729016eb47a76a3f9242978c4ab87a">AppendDirectory</a>(<a class="code" href="../../df/d32/_s_d_l__egl_8h.html#aaced7cfc21e7d37775d6921bb8177239">name</a>, <a class="code" href="../../df/dc4/_s_d_l__opengl_8h.html#a2e335d56e2846b0fea47eed068b2d34a">data</a>, <a class="code" href="../../db/d76/group__lavu__mem__funcs.html#ga3d1e3edfcf61ca2d831883e1afbad89e">size</a>);</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;            free(<a class="code" href="../../df/dc4/_s_d_l__opengl_8h.html#a2e335d56e2846b0fea47eed068b2d34a">data</a>);</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        }</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160; </div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        strcpy(<a class="code" href="../../d4/d9d/_save_load_8cpp.html#a2717bc6f95074a0dfef7748ec3cd5d3a">pSavegameHeader</a>[0].pLocationName, <span class="stringliteral">&quot;out01.odm&quot;</span>);</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;        <a class="code" href="../../de/d42/_l_o_d_8cpp.html#aef85f9958d2146e2fa92b9b5f9c184fd">pNew_LOD</a>-&gt;<a class="code" href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#a8c729016eb47a76a3f9242978c4ab87a">AppendDirectory</a>(<span class="stringliteral">&quot;header.bin&quot;</span>, &amp;<a class="code" href="../../d4/d9d/_save_load_8cpp.html#a2717bc6f95074a0dfef7748ec3cd5d3a">pSavegameHeader</a>[0], <span class="keyword">sizeof</span>(<a class="code" href="../../d1/d2a/struct_savegame_header.html">SavegameHeader</a>));</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160; </div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        <a class="code" href="../../de/d42/_l_o_d_8cpp.html#aef85f9958d2146e2fa92b9b5f9c184fd">pNew_LOD</a>-&gt;<a class="code" href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#a9edb5a59b1a9ca2ea1526b3f52ef8cd5">FixDirectoryOffsets</a>();</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160; </div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        <a class="code" href="../../da/db4/_party_8cpp.html#a638b1d8b985f1c7f8b69f2d81286f98e">pParty</a>-&gt;<a class="code" href="../../d0/d14/struct_party.html#abc53dc7de7d979c792b62807ce270deb">vPrevPosition</a>.x = 12552;</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        <a class="code" href="../../da/db4/_party_8cpp.html#a638b1d8b985f1c7f8b69f2d81286f98e">pParty</a>-&gt;<a class="code" href="../../d0/d14/struct_party.html#abc53dc7de7d979c792b62807ce270deb">vPrevPosition</a>.y = 1816;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        <a class="code" href="../../da/db4/_party_8cpp.html#a638b1d8b985f1c7f8b69f2d81286f98e">pParty</a>-&gt;<a class="code" href="../../d0/d14/struct_party.html#abc53dc7de7d979c792b62807ce270deb">vPrevPosition</a>.z = 0;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160; </div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        <a class="code" href="../../da/db4/_party_8cpp.html#a638b1d8b985f1c7f8b69f2d81286f98e">pParty</a>-&gt;<a class="code" href="../../d0/d14/struct_party.html#a9131ac68bf00fcaf956e6b6d2dde7a6d">vPosition</a>.x = 12552;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        <a class="code" href="../../da/db4/_party_8cpp.html#a638b1d8b985f1c7f8b69f2d81286f98e">pParty</a>-&gt;<a class="code" href="../../d0/d14/struct_party.html#a9131ac68bf00fcaf956e6b6d2dde7a6d">vPosition</a>.y = 1816;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        <a class="code" href="../../da/db4/_party_8cpp.html#a638b1d8b985f1c7f8b69f2d81286f98e">pParty</a>-&gt;<a class="code" href="../../d0/d14/struct_party.html#a9131ac68bf00fcaf956e6b6d2dde7a6d">vPosition</a>.z = 0;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160; </div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        <a class="code" href="../../da/db4/_party_8cpp.html#a638b1d8b985f1c7f8b69f2d81286f98e">pParty</a>-&gt;<a class="code" href="../../d0/d14/struct_party.html#af03c6334d1ca2b54dbf154a07d02b456">uFallStartY</a> = 0;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160; </div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        <a class="code" href="../../da/db4/_party_8cpp.html#a638b1d8b985f1c7f8b69f2d81286f98e">pParty</a>-&gt;<a class="code" href="../../d0/d14/struct_party.html#aa3fef4a02006fb192fd0ab6b32ce2718">sPrevRotationX</a> = 0;</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        <a class="code" href="../../da/db4/_party_8cpp.html#a638b1d8b985f1c7f8b69f2d81286f98e">pParty</a>-&gt;<a class="code" href="../../d0/d14/struct_party.html#a97f3bf27f5e2cb3474e167f447e3e0f9">sPrevRotationY</a> = 512;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160; </div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        <a class="code" href="../../da/db4/_party_8cpp.html#a638b1d8b985f1c7f8b69f2d81286f98e">pParty</a>-&gt;<a class="code" href="../../d0/d14/struct_party.html#adcfe721445b79ef3f4cfdd51a2ee0ba1">sRotationX</a> = 0;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        <a class="code" href="../../da/db4/_party_8cpp.html#a638b1d8b985f1c7f8b69f2d81286f98e">pParty</a>-&gt;<a class="code" href="../../d0/d14/struct_party.html#a58acc77e1ce8db07f410d3557b8f4805">sRotationY</a> = 512;</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160; </div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        <a class="code" href="../../d4/d9d/_save_load_8cpp.html#a8877c76af6a19304100073ae590e1b8d">SaveGame</a>(1, 1);</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    }</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="astruct_sprite_object_html"><div class="ttname"><a href="../../d0/d5a/struct_sprite_object.html">SpriteObject</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dd4/_sprite_object_8h_source.html#l00189">SpriteObject.h:189</a></div></div>
<div class="ttc" id="astruct_player_html"><div class="ttname"><a href="../../d3/db1/struct_player.html">Player</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l00401">Player.h:401</a></div></div>
<div class="ttc" id="a_actor_8cpp_html_a673064c6f7b303e07d7c34a53473435f"><div class="ttname"><a href="../../d4/d59/_actor_8cpp.html#a673064c6f7b303e07d7c34a53473435f">uNumActors</a></div><div class="ttdeci">size_t uNumActors</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d59/_actor_8cpp_source.html#l00039">Actor.cpp:39</a></div></div>
<div class="ttc" id="astruct_party_html_a9131ac68bf00fcaf956e6b6d2dde7a6d"><div class="ttname"><a href="../../d0/d14/struct_party.html#a9131ac68bf00fcaf956e6b6d2dde7a6d">Party::vPosition</a></div><div class="ttdeci">Vec3_int_ vPosition</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d38/_party_8h_source.html#l00250">Party.h:250</a></div></div>
<div class="ttc" id="a_s_d_l__opengl__glext_8h_html_a676ca580c460c0154eb58200433d2a9e"><div class="ttname"><a href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a676ca580c460c0154eb58200433d2a9e">face</a></div><div class="ttdeci">GLenum GLuint GLint GLenum face</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d32/_s_d_l__opengl__glext_8h_source.html#l03022">SDL_opengl_glext.h:3022</a></div></div>
<div class="ttc" id="a_l_o_d_8cpp_html_aef85f9958d2146e2fa92b9b5f9c184fd"><div class="ttname"><a href="../../de/d42/_l_o_d_8cpp.html#aef85f9958d2146e2fa92b9b5f9c184fd">pNew_LOD</a></div><div class="ttdeci">LOD::WriteableFile * pNew_LOD</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00024">LOD.cpp:24</a></div></div>
<div class="ttc" id="aclass_l_o_d_1_1_writeable_file_html_a9edb5a59b1a9ca2ea1526b3f52ef8cd5"><div class="ttname"><a href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#a9edb5a59b1a9ca2ea1526b3f52ef8cd5">LOD::WriteableFile::FixDirectoryOffsets</a></div><div class="ttdeci">int FixDirectoryOffsets()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00452">LOD.cpp:452</a></div></div>
<div class="ttc" id="aclass_audio_player_html_ab10041b12971aa0d8c366c47be9f1fe2"><div class="ttname"><a href="../../d7/dc2/class_audio_player.html#ab10041b12971aa0d8c366c47be9f1fe2">AudioPlayer::SetMasterVolume</a></div><div class="ttdeci">void SetMasterVolume(int level)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/df2/_audio_player_8cpp_source.html#l00183">AudioPlayer.cpp:183</a></div></div>
<div class="ttc" id="aclass_localization_html_a0eb0a17fdf90f6a420eeac65bf62436f"><div class="ttname"><a href="../../dd/d88/class_localization.html#a0eb0a17fdf90f6a420eeac65bf62436f">Localization::GetString</a></div><div class="ttdeci">const char * GetString(unsigned int index) const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d8c/_localization_8cpp_source.html#l00013">Localization.cpp:13</a></div></div>
<div class="ttc" id="a_decoration_8cpp_html_a30fe70a9ffc6c9e200b414bc5b3e3e8b"><div class="ttname"><a href="../../d1/d3f/_decoration_8cpp.html#a30fe70a9ffc6c9e200b414bc5b3e3e8b">pLevelDecorations</a></div><div class="ttdeci">std::array&lt; LevelDecoration, 3000 &gt; pLevelDecorations</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3f/_decoration_8cpp_source.html#l00008">Decoration.cpp:8</a></div></div>
<div class="ttc" id="aclass_l_o_d_1_1_writeable_file_html_aafc283e61cafbda02bf0c4828e579046"><div class="ttname"><a href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#aafc283e61cafbda02bf0c4828e579046">LOD::WriteableFile::LoadFile</a></div><div class="ttdeci">bool LoadFile(const String &amp;pFilename, bool bWriting)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00686">LOD.cpp:686</a></div></div>
<div class="ttc" id="a_viewport_8h_html"><div class="ttname"><a href="../../d7/d19/_viewport_8h.html">Viewport.h</a></div></div>
<div class="ttc" id="aclass_l_o_d_1_1_file_html_a0cbd11dc40049f05d547c4073900e598"><div class="ttname"><a href="../../dd/da7/class_l_o_d_1_1_file.html#a0cbd11dc40049f05d547c4073900e598">LOD::File::GetSubNodesCount</a></div><div class="ttdeci">size_t GetSubNodesCount() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00072">LOD.h:72</a></div></div>
<div class="ttc" id="a_g_u_i_window_8cpp_html_a3146e8710350a4cfa1f0315a8e85b33e"><div class="ttname"><a href="../../dc/dce/_g_u_i_window_8cpp.html#a3146e8710350a4cfa1f0315a8e85b33e">SetUserInterface</a></div><div class="ttdeci">void SetUserInterface(PartyAlignment align, bool bReplace)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dce/_g_u_i_window_8cpp_source.html#l01032">GUIWindow.cpp:1032</a></div></div>
<div class="ttc" id="a_l_o_d_8h_html"><div class="ttname"><a href="../../d3/db2/_l_o_d_8h.html">LOD.h</a></div></div>
<div class="ttc" id="astruct_party_html_a2e22e5307901cb1acb688185168b6161"><div class="ttname"><a href="../../d0/d14/struct_party.html#a2e22e5307901cb1acb688185168b6161">Party::GetPlayingTime</a></div><div class="ttdeci">GameTime &amp; GetPlayingTime()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d38/_party_8h_source.html#l00230">Party.h:230</a></div></div>
<div class="ttc" id="aclass_audio_player_html_a46e9038c208f7910e8f649f9726db63d"><div class="ttname"><a href="../../d7/dc2/class_audio_player.html#a46e9038c208f7910e8f649f9726db63d">AudioPlayer::SetMusicVolume</a></div><div class="ttdeci">void SetMusicVolume(int music_level)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/df2/_audio_player_8cpp_source.html#l00165">AudioPlayer.cpp:165</a></div></div>
<div class="ttc" id="astruct_other_overlay_list___image___m_m7_html_a92e3eb5addc38f74203813f2779b3d8a"><div class="ttname"><a href="../../d2/d11/struct_other_overlay_list___image___m_m7.html#a92e3eb5addc38f74203813f2779b3d8a">OtherOverlayList_Image_MM7::Serialize</a></div><div class="ttdeci">void Serialize(struct OtherOverlayList *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4f/_legacy_images_8cpp_source.html#l00169">LegacyImages.cpp:169</a></div></div>
<div class="ttc" id="astruct_l_o_d_1_1_file_header_html_aab9c4281d51e391cb41d969216f1a17b"><div class="ttname"><a href="../../dc/d2a/struct_l_o_d_1_1_file_header.html#aab9c4281d51e391cb41d969216f1a17b">LOD::FileHeader::LodDescription</a></div><div class="ttdeci">char LodDescription[80]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00036">LOD.h:36</a></div></div>
<div class="ttc" id="astruct_timer_html_ad3b4e386f8ebb885fa2ef6fcac8d9ca3"><div class="ttname"><a href="../../d8/da1/struct_timer.html#ad3b4e386f8ebb885fa2ef6fcac8d9ca3">Timer::Resume</a></div><div class="ttdeci">void Resume()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d84/_time_8cpp_source.html#l00027">Time.cpp:27</a></div></div>
<div class="ttc" id="astruct_outdoor_location_html_adc49ad49f40d3fa90b95598be875df49"><div class="ttname"><a href="../../d1/d55/struct_outdoor_location.html#adc49ad49f40d3fa90b95598be875df49">OutdoorLocation::pBModels</a></div><div class="ttdeci">BSPModelList pBModels</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dfb/_outdoor_8h_source.html#l00119">Outdoor.h:119</a></div></div>
<div class="ttc" id="a_save_load_8cpp_html_ab496492a832e3fe2f04f9a23bdf3dd2a"><div class="ttname"><a href="../../d4/d9d/_save_load_8cpp.html#ab496492a832e3fe2f04f9a23bdf3dd2a">SaveNewGame</a></div><div class="ttdeci">void SaveNewGame()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d9d/_save_load_8cpp_source.html#l00566">SaveLoad.cpp:566</a></div></div>
<div class="ttc" id="a_sprite_object_8cpp_html_a52287337197f435e50cf4450fd11db77"><div class="ttname"><a href="../../d9/ded/_sprite_object_8cpp.html#a52287337197f435e50cf4450fd11db77">pSpriteObjects</a></div><div class="ttdeci">std::array&lt; SpriteObject, MAX_SPRITE_OBJECTS &gt; pSpriteObjects</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/ded/_sprite_object_8cpp_source.html#l00034">SpriteObject.cpp:34</a></div></div>
<div class="ttc" id="anamespace_p_c_x_html_a151713aa9441a236085d884ecbb4d9be"><div class="ttname"><a href="../../d2/d17/namespace_p_c_x.html#a151713aa9441a236085d884ecbb4d9be">PCX::Encode16</a></div><div class="ttdeci">void Encode16(const void *picture_data, unsigned int width, unsigned int height, void *pcx_data, int max_buff_size, unsigned int *packed_size)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d09/_p_c_x_8cpp_source.html#l00297">PCX.cpp:297</a></div></div>
<div class="ttc" id="astruct_party_html_aa3fef4a02006fb192fd0ab6b32ce2718"><div class="ttname"><a href="../../d0/d14/struct_party.html#aa3fef4a02006fb192fd0ab6b32ce2718">Party::sPrevRotationX</a></div><div class="ttdeci">int sPrevRotationX</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d38/_party_8h_source.html#l00255">Party.h:255</a></div></div>
<div class="ttc" id="astruct_outdoor_location_html_a43456d9de8fff715ebcfc86308fc40f9"><div class="ttname"><a href="../../d1/d55/struct_outdoor_location.html#a43456d9de8fff715ebcfc86308fc40f9">OutdoorLocation::uFullyRevealedCellOnMap</a></div><div class="ttdeci">unsigned char uFullyRevealedCellOnMap[88][11]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dfb/_outdoor_8h_source.html#l00134">Outdoor.h:134</a></div></div>
<div class="ttc" id="astruct_party_html_adcfe721445b79ef3f4cfdd51a2ee0ba1"><div class="ttname"><a href="../../d0/d14/struct_party.html#adcfe721445b79ef3f4cfdd51a2ee0ba1">Party::sRotationX</a></div><div class="ttdeci">int sRotationX</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d38/_party_8h_source.html#l00252">Party.h:252</a></div></div>
<div class="ttc" id="a_legacy_images_8h_html"><div class="ttname"><a href="../../da/dd3/_legacy_images_8h.html">LegacyImages.h</a></div></div>
<div class="ttc" id="a_g_u_i_window_8cpp_html_a92046372c9dbad521216a485de9e5731"><div class="ttname"><a href="../../dc/dce/_g_u_i_window_8cpp.html#a92046372c9dbad521216a485de9e5731">pGUIWindow_CurrentMenu</a></div><div class="ttdeci">GUIWindow * pGUIWindow_CurrentMenu</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dce/_g_u_i_window_8cpp_source.html#l00054">GUIWindow.cpp:54</a></div></div>
<div class="ttc" id="anamespacezlib_html_abce69f330c230c102535d820ca92bf9c"><div class="ttname"><a href="../../d9/d3e/namespacezlib.html#abce69f330c230c102535d820ca92bf9c">zlib::Compress</a></div><div class="ttdeci">int Compress(void *dest, unsigned int *destLen, void *source, unsigned int sourceLen)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d23/_zlib_wrapper_8cpp_source.html#l00011">ZlibWrapper.cpp:11</a></div></div>
<div class="ttc" id="astruct_actor_html"><div class="ttname"><a href="../../da/d35/struct_actor.html">Actor</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/deb/_actor_8h_source.html#l00151">Actor.h:151</a></div></div>
<div class="ttc" id="aclass_audio_player_html_afa0c135f321bd87b4d4ad2dcad3833e3"><div class="ttname"><a href="../../d7/dc2/class_audio_player.html#afa0c135f321bd87b4d4ad2dcad3833e3">AudioPlayer::PlaySound</a></div><div class="ttdeci">void PlaySound(SoundID eSoundID, int pid, unsigned int uNumRepeats, int x, int y, int a7)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/df2/_audio_player_8cpp_source.html#l00195">AudioPlayer.cpp:195</a></div></div>
<div class="ttc" id="astruct_indoor_location_html_a98ec4eb44ff7818bec1bb450bfef2e4d"><div class="ttname"><a href="../../d6/d9e/struct_indoor_location.html#a98ec4eb44ff7818bec1bb450bfef2e4d">IndoorLocation::stru1</a></div><div class="ttdeci">LocationTime_stru1 stru1</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc7/_indoor_8h_source.html#l00649">Indoor.h:649</a></div></div>
<div class="ttc" id="a_sprite_object_8h_html"><div class="ttname"><a href="../../d4/dd4/_sprite_object_8h.html">SpriteObject.h</a></div></div>
<div class="ttc" id="a_engine_8cpp_html_a911c866a46f710d4f1b358efcfb2604a"><div class="ttname"><a href="../../d4/d68/_engine_8cpp.html#a911c866a46f710d4f1b358efcfb2604a">engine</a></div><div class="ttdeci">std::shared_ptr&lt; Engine &gt; engine</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d68/_engine_8cpp_source.html#l00130">Engine.cpp:130</a></div></div>
<div class="ttc" id="aclass_l_o_d_1_1_writeable_file_html_aad84dd1910dc1e0792222eeb04e5a780"><div class="ttname"><a href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#aad84dd1910dc1e0792222eeb04e5a780">LOD::WriteableFile::_4621A7</a></div><div class="ttdeci">bool _4621A7()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00446">LOD.cpp:446</a></div></div>
<div class="ttc" id="a_audio_player_8h_html_aa4689ee7c9a692044aebd36cb0915e61a123c1f950456a478ca87f718b9f8d30d"><div class="ttname"><a href="../../dd/d7b/_audio_player_8h.html#aa4689ee7c9a692044aebd36cb0915e61a123c1f950456a478ca87f718b9f8d30d">SOUND_error</a></div><div class="ttdeci">@ SOUND_error</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7b/_audio_player_8h_source.html#l00019">AudioPlayer.h:19</a></div></div>
<div class="ttc" id="astruct_n_p_c_stats_html_af63e699d3c1607b59e7d9f6823b2370b"><div class="ttname"><a href="../../d5/d11/struct_n_p_c_stats.html#af63e699d3c1607b59e7d9f6823b2370b">NPCStats::pGroups_copy</a></div><div class="ttdeci">uint16_t pGroups_copy[51]</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dbc/_n_p_c_8h_source.html#l00177">NPC.h:177</a></div></div>
<div class="ttc" id="aclass_l_o_d_1_1_file_html_a5f308ac99a49c87179a5dff49084b81f"><div class="ttname"><a href="../../dd/da7/class_l_o_d_1_1_file.html#a5f308ac99a49c87179a5dff49084b81f">LOD::File::DoesContainerExist</a></div><div class="ttdeci">bool DoesContainerExist(const String &amp;filename)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00833">LOD.cpp:833</a></div></div>
<div class="ttc" id="a_localization_8cpp_html_acce22610cffe19ad6cc8f577cd611b8b"><div class="ttname"><a href="../../dd/d8c/_localization_8cpp.html#acce22610cffe19ad6cc8f577cd611b8b">localization</a></div><div class="ttdeci">Localization * localization</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d8c/_localization_8cpp_source.html#l00011">Localization.cpp:11</a></div></div>
<div class="ttc" id="astruct_savegame_header_html_a3eeaf2e0f110ab3159d759aff0cf3200"><div class="ttname"><a href="../../d1/d2a/struct_savegame_header.html#a3eeaf2e0f110ab3159d759aff0cf3200">SavegameHeader::pLocationName</a></div><div class="ttdeci">char pLocationName[20]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de7/_save_load_8h_source.html#l00020">SaveLoad.h:20</a></div></div>
<div class="ttc" id="a_overlays_8h_html"><div class="ttname"><a href="../../db/dac/_overlays_8h.html">Overlays.h</a></div></div>
<div class="ttc" id="a_save_load_8cpp_html_a5560a432d5ca59965633a942bb26666f"><div class="ttname"><a href="../../d4/d9d/_save_load_8cpp.html#a5560a432d5ca59965633a942bb26666f">DoSavegame</a></div><div class="ttdeci">void DoSavegame(unsigned int uSlot)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d9d/_save_load_8cpp_source.html#l00514">SaveLoad.cpp:514</a></div></div>
<div class="ttc" id="a_p_c_x_8h_html"><div class="ttname"><a href="../../d3/ddc/_p_c_x_8h.html">PCX.h</a></div></div>
<div class="ttc" id="a_save_load_8cpp_html_a4fb8a51afce2e5a598706c1f4820d6b1"><div class="ttname"><a href="../../d4/d9d/_save_load_8cpp.html#a4fb8a51afce2e5a598706c1f4820d6b1">pSavegameUsedSlots</a></div><div class="ttdeci">std::array&lt; unsigned int, MAX_SAVE_SLOTS &gt; pSavegameUsedSlots</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d9d/_save_load_8cpp_source.html#l00043">SaveLoad.cpp:43</a></div></div>
<div class="ttc" id="astruct_party_html_a25894a432feab69bcbbff2194bac47dd"><div class="ttname"><a href="../../d0/d14/struct_party.html#a25894a432feab69bcbbff2194bac47dd">Party::pPlayers</a></div><div class="ttdeci">std::array&lt; Player, 4 &gt; pPlayers</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d38/_party_8h_source.html#l00310">Party.h:310</a></div></div>
<div class="ttc" id="a_save_load_8cpp_html_a033a1ba287ab22cc861c572de6754aee"><div class="ttname"><a href="../../d4/d9d/_save_load_8cpp.html#a033a1ba287ab22cc861c572de6754aee">uNumSavegameFiles</a></div><div class="ttdeci">unsigned int uNumSavegameFiles</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d9d/_save_load_8cpp_source.html#l00042">SaveLoad.cpp:42</a></div></div>
<div class="ttc" id="aclass_g_u_i_window_html_aaf2e6a2022904abc2d253e9d4acd5d99"><div class="ttname"><a href="../../d4/d38/class_g_u_i_window.html#aaf2e6a2022904abc2d253e9d4acd5d99">GUIWindow::Release</a></div><div class="ttdeci">virtual void Release()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dce/_g_u_i_window_8cpp_source.html#l00292">GUIWindow.cpp:292</a></div></div>
<div class="ttc" id="a_g_u_i_font_8h_html"><div class="ttname"><a href="../../d0/d34/_g_u_i_font_8h.html">GUIFont.h</a></div></div>
<div class="ttc" id="astruct_l_o_d_1_1_file_header_html_aee287b83a43727c658827999bd82a801"><div class="ttname"><a href="../../dc/d2a/struct_l_o_d_1_1_file_header.html#aee287b83a43727c658827999bd82a801">LOD::FileHeader::LODSize</a></div><div class="ttdeci">uint32_t LODSize</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00037">LOD.h:37</a></div></div>
<div class="ttc" id="a_image_loader_8h_html"><div class="ttname"><a href="../../dd/d5b/_image_loader_8h.html">ImageLoader.h</a></div></div>
<div class="ttc" id="a_s_d_l__opengl__glext_8h_html_ab25d8cd967ccbd19b630d7100ff8f67e"><div class="ttname"><a href="../../d0/d32/_s_d_l__opengl__glext_8h.html#ab25d8cd967ccbd19b630d7100ff8f67e">path</a></div><div class="ttdeci">GLsizei const GLchar *const  * path</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d32/_s_d_l__opengl__glext_8h_source.html#l03733">SDL_opengl_glext.h:3733</a></div></div>
<div class="ttc" id="aclass_l_o_d_1_1_writeable_file_html_afeb4addbf259dbd7a4dbe4659c5291a5"><div class="ttname"><a href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#afeb4addbf259dbd7a4dbe4659c5291a5">LOD::WriteableFile::CloseWriteFile</a></div><div class="ttdeci">void CloseWriteFile()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00530">LOD.cpp:530</a></div></div>
<div class="ttc" id="astruct_b_l_v_header_html_aab300995ae5ead83fd1a28b79dab295d"><div class="ttname"><a href="../../d8/d34/struct_b_l_v_header.html#aab300995ae5ead83fd1a28b79dab295d">BLVHeader::uDoors_ddata_Size</a></div><div class="ttdeci">unsigned int uDoors_ddata_Size</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc7/_indoor_8h_source.html#l00333">Indoor.h:333</a></div></div>
<div class="ttc" id="a_indoor_8cpp_html_a9b7a8d8a38babff41b0d4655a053ca75"><div class="ttname"><a href="../../d1/d4a/_indoor_8cpp.html#a9b7a8d8a38babff41b0d4655a053ca75">pIndoor</a></div><div class="ttdeci">IndoorLocation * pIndoor</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d4a/_indoor_8cpp_source.html#l00049">Indoor.cpp:49</a></div></div>
<div class="ttc" id="a_chest_8h_html"><div class="ttname"><a href="../../d7/d0e/_chest_8h.html">Chest.h</a></div></div>
<div class="ttc" id="a_engine_8h_html"><div class="ttname"><a href="../../de/dcf/_engine_8h.html">Engine.h</a></div></div>
<div class="ttc" id="a_g_u_i_window_8cpp_html_a9cf585dbf96fdd1acbe15981837ebdb2"><div class="ttname"><a href="../../dc/dce/_g_u_i_window_8cpp.html#a9cf585dbf96fdd1acbe15981837ebdb2">current_screen_type</a></div><div class="ttdeci">enum CURRENT_SCREEN current_screen_type</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dce/_g_u_i_window_8cpp_source.html#l00083">GUIWindow.cpp:83</a></div></div>
<div class="ttc" id="astruct_other_overlay_list___image___m_m7_html"><div class="ttname"><a href="../../d2/d11/struct_other_overlay_list___image___m_m7.html">OtherOverlayList_Image_MM7</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd3/_legacy_images_8h_source.html#l00547">LegacyImages.h:547</a></div></div>
<div class="ttc" id="astruct_party___image___m_m7_html_a4967c0e2b901dd89d9d318219fc6f4b1"><div class="ttname"><a href="../../d6/dee/struct_party___image___m_m7.html#a4967c0e2b901dd89d9d318219fc6f4b1">Party_Image_MM7::Serialize</a></div><div class="ttdeci">void Serialize(struct Party *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4f/_legacy_images_8cpp_source.html#l00261">LegacyImages.cpp:261</a></div></div>
<div class="ttc" id="astruct_party_html_af03c6334d1ca2b54dbf154a07d02b456"><div class="ttname"><a href="../../d0/d14/struct_party.html#af03c6334d1ca2b54dbf154a07d02b456">Party::uFallStartY</a></div><div class="ttdeci">int uFallStartY</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d38/_party_8h_source.html#l00265">Party.h:265</a></div></div>
<div class="ttc" id="a_api_8h_html_a57e533599a2f36c46d01cf3855ba76ee"><div class="ttname"><a href="../../d4/ddd/_api_8h.html#a57e533599a2f36c46d01cf3855ba76ee">OS_FindFiles</a></div><div class="ttdeci">std::vector&lt; std::string &gt; OS_FindFiles(const std::string &amp;folder, const std::string &amp;mask)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d84/_lin_8cpp_source.html#l00060">Lin.cpp:60</a></div></div>
<div class="ttc" id="a_actor_8h_html"><div class="ttname"><a href="../../de/deb/_actor_8h.html">Actor.h</a></div></div>
<div class="ttc" id="astruct_o_d_m_header_html_af1928ec9511ef03503a706eb45a90e69"><div class="ttname"><a href="../../d9/d1c/struct_o_d_m_header.html#af1928ec9511ef03503a706eb45a90e69">ODMHeader::uCompressedSize</a></div><div class="ttdeci">uint32_t uCompressedSize</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dfb/_outdoor_8h_source.html#l00016">Outdoor.h:16</a></div></div>
<div class="ttc" id="astruct_outdoor_location_html_a93470b274e5ee8ff7f686c35ee12f610"><div class="ttname"><a href="../../d1/d55/struct_outdoor_location.html#a93470b274e5ee8ff7f686c35ee12f610">OutdoorLocation::uPartiallyRevealedCellOnMap</a></div><div class="ttdeci">unsigned char uPartiallyRevealedCellOnMap[88][11]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dfb/_outdoor_8h_source.html#l00138">Outdoor.h:138</a></div></div>
<div class="ttc" id="a_localization_8h_html"><div class="ttname"><a href="../../d3/d03/_localization_8h.html">Localization.h</a></div></div>
<div class="ttc" id="aclass_image_html_a9241b1c53141c78273e4060a91634d47"><div class="ttname"><a href="../../de/d73/class_image.html#a9241b1c53141c78273e4060a91634d47">Image::GetWidth</a></div><div class="ttdeci">unsigned int GetWidth()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dac/_image_8cpp_source.html#l00217">Image.cpp:217</a></div></div>
<div class="ttc" id="astruct_other_overlay_list___image___m_m7_html_ac20dd36ff7616f00775bbc4059bf4403"><div class="ttname"><a href="../../d2/d11/struct_other_overlay_list___image___m_m7.html#ac20dd36ff7616f00775bbc4059bf4403">OtherOverlayList_Image_MM7::Deserialize</a></div><div class="ttdeci">void Deserialize(struct OtherOverlayList *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4f/_legacy_images_8cpp_source.html#l00191">LegacyImages.cpp:191</a></div></div>
<div class="ttc" id="aclass_l_o_d_1_1_writeable_file_html_af9d92a6612fd61455a2eb8a6e874f6a6"><div class="ttname"><a href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#af9d92a6612fd61455a2eb8a6e874f6a6">LOD::WriteableFile::CreateNewLod</a></div><div class="ttdeci">int CreateNewLod(LOD::FileHeader *pHeader, const String &amp;root_name, const String &amp;Source)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00257">LOD.cpp:257</a></div></div>
<div class="ttc" id="astruct_savegame_list_html_ad9b0bed61e5dacbe0da7b9cf4a922622"><div class="ttname"><a href="../../dd/df4/struct_savegame_list.html#ad9b0bed61e5dacbe0da7b9cf4a922622">SavegameList::Initialize</a></div><div class="ttdeci">static void Initialize()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d9d/_save_load_8cpp_source.html#l00547">SaveLoad.cpp:547</a></div></div>
<div class="ttc" id="a_party_8cpp_html_a638b1d8b985f1c7f8b69f2d81286f98e"><div class="ttname"><a href="../../da/db4/_party_8cpp.html#a638b1d8b985f1c7f8b69f2d81286f98e">pParty</a></div><div class="ttdeci">Party * pParty</div><div class="ttdef"><b>Definition:</b> <a href="../../da/db4/_party_8cpp_source.html#l00030">Party.cpp:30</a></div></div>
<div class="ttc" id="aclass_image_html"><div class="ttname"><a href="../../de/d73/class_image.html">Image</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de5/_image_8h_source.html#l00019">Image.h:19</a></div></div>
<div class="ttc" id="astruct_o_d_m_header_html_a84e54e0850baa75cbf296d7d9e52ffb2"><div class="ttname"><a href="../../d9/d1c/struct_o_d_m_header.html#a84e54e0850baa75cbf296d7d9e52ffb2">ODMHeader::pMagic</a></div><div class="ttdeci">char pMagic[4]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dfb/_outdoor_8h_source.html#l00015">Outdoor.h:15</a></div></div>
<div class="ttc" id="astruct_d_d_m___d_l_v___header_html_a3c14fd796d6726c52bf9e427d8f5244d"><div class="ttname"><a href="../../db/df7/struct_d_d_m___d_l_v___header.html#a3c14fd796d6726c52bf9e427d8f5244d">DDM_DLV_Header::uNumFacesInBModels</a></div><div class="ttdeci">unsigned int uNumFacesInBModels</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc7/_indoor_8h_source.html#l00098">Indoor.h:98</a></div></div>
<div class="ttc" id="a_s_d_l__opengl__glext_8h_html_aa3b73d9ca9f2e2396cbeae1ce6ce14be"><div class="ttname"><a href="../../d0/d32/_s_d_l__opengl__glext_8h.html#aa3b73d9ca9f2e2396cbeae1ce6ce14be">buf</a></div><div class="ttdeci">GLenum GLuint GLenum GLsizei const GLchar * buf</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d32/_s_d_l__opengl__glext_8h_source.html#l02483">SDL_opengl_glext.h:2483</a></div></div>
<div class="ttc" id="astruct_party_html_abc53dc7de7d979c792b62807ce270deb"><div class="ttname"><a href="../../d0/d14/struct_party.html#abc53dc7de7d979c792b62807ce270deb">Party::vPrevPosition</a></div><div class="ttdeci">Vec3_int_ vPrevPosition</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d38/_party_8h_source.html#l00253">Party.h:253</a></div></div>
<div class="ttc" id="astruct_l_o_d_1_1_file_header_html_a833f5d53e54590004623bf162dd78072"><div class="ttname"><a href="../../dc/d2a/struct_l_o_d_1_1_file_header.html#a833f5d53e54590004623bf162dd78072">LOD::FileHeader::LodVersion</a></div><div class="ttdeci">char LodVersion[80]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00035">LOD.h:35</a></div></div>
<div class="ttc" id="astruct_n_p_c_stats_html_a1ab51e9b32da89c5c41b2769960cfd52"><div class="ttname"><a href="../../d5/d11/struct_n_p_c_stats.html#a1ab51e9b32da89c5c41b2769960cfd52">NPCStats::pNewNPCData</a></div><div class="ttdeci">NPCData pNewNPCData[501]</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dbc/_n_p_c_8h_source.html#l00165">NPC.h:165</a></div></div>
<div class="ttc" id="astruct_location_time__stru1_html_ae5ccb819e3e328a4ae4c35a444162eb3"><div class="ttname"><a href="../../d5/da2/struct_location_time__stru1.html#ae5ccb819e3e328a4ae4c35a444162eb3">LocationTime_stru1::last_visit</a></div><div class="ttdeci">GameTime last_visit</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc7/_indoor_8h_source.html#l00274">Indoor.h:274</a></div></div>
<div class="ttc" id="a_zlib_wrapper_8h_html"><div class="ttname"><a href="../../d5/d7a/_zlib_wrapper_8h.html">ZlibWrapper.h</a></div></div>
<div class="ttc" id="astruct_outdoor_location_html_ad06de299b017339b1aba11b734ece0ad"><div class="ttname"><a href="../../d1/d55/struct_outdoor_location.html#ad06de299b017339b1aba11b734ece0ad">OutdoorLocation::loc_time</a></div><div class="ttdeci">LocationTime_stru1 loc_time</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dfb/_outdoor_8h_source.html#l00132">Outdoor.h:132</a></div></div>
<div class="ttc" id="a_viewport_8h_html_a3728133a9af71bc7d784f76d49025ec0"><div class="ttname"><a href="../../d7/d19/_viewport_8h.html#a3728133a9af71bc7d784f76d49025ec0">viewparams</a></div><div class="ttdeci">struct ViewingParams * viewparams</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/mm7__data_8cpp_source.html#l00022">mm7_data.cpp:22</a></div></div>
<div class="ttc" id="astruct_n_p_c_data___image___m_m7_html_a1b65cf38ec745766701f4418edbad95d"><div class="ttname"><a href="../../da/d9d/struct_n_p_c_data___image___m_m7.html#a1b65cf38ec745766701f4418edbad95d">NPCData_Image_MM7::Deserialize</a></div><div class="ttdeci">void Deserialize(struct NPCData *item)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4f/_legacy_images_8cpp_source.html#l00147">LegacyImages.cpp:147</a></div></div>
<div class="ttc" id="a_engine_config_8h_html"><div class="ttname"><a href="../../d2/de1/_engine_config_8h.html">EngineConfig.h</a></div></div>
<div class="ttc" id="a_engine_8cpp_html_a618e8a6c6e0a2f7d5c0153a88795407c"><div class="ttname"><a href="../../d4/d68/_engine_8cpp.html#a618e8a6c6e0a2f7d5c0153a88795407c">MM7Initialization</a></div><div class="ttdeci">void MM7Initialization()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d68/_engine_8cpp_source.html#l01287">Engine.cpp:1287</a></div></div>
<div class="ttc" id="astru123_8h_html"><div class="ttname"><a href="../../d2/d7a/stru123_8h.html">stru123.h</a></div></div>
<div class="ttc" id="a_save_load_8h_html"><div class="ttname"><a href="../../dd/de7/_save_load_8h.html">SaveLoad.h</a></div></div>
<div class="ttc" id="astruct_b_l_v_door_html"><div class="ttname"><a href="../../d1/dcf/struct_b_l_v_door.html">BLVDoor</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc7/_indoor_8h_source.html#l00378">Indoor.h:378</a></div></div>
<div class="ttc" id="astruct_indoor_location_html_aa8b1296c7b5d806c6bba8fc526f4f3a7"><div class="ttname"><a href="../../d6/d9e/struct_indoor_location.html#aa8b1296c7b5d806c6bba8fc526f4f3a7">IndoorLocation::blv</a></div><div class="ttdeci">struct BLVHeader blv</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc7/_indoor_8h_source.html#l00626">Indoor.h:626</a></div></div>
<div class="ttc" id="a_image_8h_html_a9852684147e651e988ed71ddc71426d5a084250a20788687c01a5edbee1ba4826"><div class="ttname"><a href="../../d9/de5/_image_8h.html#a9852684147e651e988ed71ddc71426d5a084250a20788687c01a5edbee1ba4826">IMAGE_FORMAT_R5G6B5</a></div><div class="ttdeci">@ IMAGE_FORMAT_R5G6B5</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de5/_image_8h_source.html#l00005">Image.h:5</a></div></div>
<div class="ttc" id="astruct_indoor_location_html_a8d6608b1e7dddb1aad6f0764087aaf9a"><div class="ttname"><a href="../../d6/d9e/struct_indoor_location.html#a8d6608b1e7dddb1aad6f0764087aaf9a">IndoorLocation::dlv</a></div><div class="ttdeci">struct DDM_DLV_Header dlv</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc7/_indoor_8h_source.html#l00648">Indoor.h:648</a></div></div>
<div class="ttc" id="aclass_log_html_ac0de2621497ca3b2fbf208624c08bcdf"><div class="ttname"><a href="../../d6/d70/class_log.html#ac0de2621497ca3b2fbf208624c08bcdf">Log::Warning</a></div><div class="ttdeci">void Warning(const wchar_t *pFormat,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/da7/_log_8cpp_source.html#l00028">Log.cpp:28</a></div></div>
<div class="ttc" id="astruct_o_d_m_header_html"><div class="ttname"><a href="../../d9/d1c/struct_o_d_m_header.html">ODMHeader</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dfb/_outdoor_8h_source.html#l00013">Outdoor.h:13</a></div></div>
<div class="ttc" id="astruct_d_d_m___d_l_v___header_html_adf3c0775064f52712f2f6611c8407ed7"><div class="ttname"><a href="../../db/df7/struct_d_d_m___d_l_v___header.html#adf3c0775064f52712f2f6611c8407ed7">DDM_DLV_Header::uNumDecorations</a></div><div class="ttdeci">unsigned int uNumDecorations</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc7/_indoor_8h_source.html#l00099">Indoor.h:99</a></div></div>
<div class="ttc" id="a_actor_8cpp_html_ab7c12523a0048f72c6ed89eff8330548"><div class="ttname"><a href="../../d4/d59/_actor_8cpp.html#ab7c12523a0048f72c6ed89eff8330548">pActors</a></div><div class="ttdeci">std::array&lt; Actor, 500 &gt; pActors</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d59/_actor_8cpp_source.html#l00038">Actor.cpp:38</a></div></div>
<div class="ttc" id="a_party_8h_html"><div class="ttname"><a href="../../db/d38/_party_8h.html">Party.h</a></div></div>
<div class="ttc" id="a_chest_8cpp_html_a83ef29e58e4690b446af1b06f66bdbd7"><div class="ttname"><a href="../../d8/d67/_chest_8cpp.html#a83ef29e58e4690b446af1b06f66bdbd7">ChestsSerialize</a></div><div class="ttdeci">char * ChestsSerialize(char *pData)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d67/_chest_8cpp_source.html#l00486">Chest.cpp:486</a></div></div>
<div class="ttc" id="a_save_load_8cpp_html_a075d49ecfaa98693083d42393d861311"><div class="ttname"><a href="../../d4/d9d/_save_load_8cpp.html#a075d49ecfaa98693083d42393d861311">pSavegameThumbnails</a></div><div class="ttdeci">std::array&lt; Image *, MAX_SAVE_SLOTS &gt; pSavegameThumbnails</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d9d/_save_load_8cpp_source.html#l00044">SaveLoad.cpp:44</a></div></div>
<div class="ttc" id="astruct_l_o_d_1_1_file_header_html_a4c13cf5cb5f91e479cf12a0f6fa77b7f"><div class="ttname"><a href="../../dc/d2a/struct_l_o_d_1_1_file_header.html#a4c13cf5cb5f91e479cf12a0f6fa77b7f">LOD::FileHeader::dword_0000A8</a></div><div class="ttdeci">uint32_t dword_0000A8</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00038">LOD.h:38</a></div></div>
<div class="ttc" id="aclass_l_o_d_1_1_writeable_file_html_aa23b1e6780c9e8a1a2db3e617aa252ca"><div class="ttname"><a href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#aa23b1e6780c9e8a1a2db3e617aa252ca">LOD::WriteableFile::CreateTempFile</a></div><div class="ttdeci">int CreateTempFile()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00518">LOD.cpp:518</a></div></div>
<div class="ttc" id="aclass_p_c_x___l_o_d___file___loader_html"><div class="ttname"><a href="../../d1/dd6/class_p_c_x___l_o_d___file___loader.html">PCX_LOD_File_Loader</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d5b/_image_loader_8h_source.html#l00094">ImageLoader.h:94</a></div></div>
<div class="ttc" id="a_decoration_8cpp_html_a101fc537db69c0c4d78b106b256c4cfc"><div class="ttname"><a href="../../d1/d3f/_decoration_8cpp.html#a101fc537db69c0c4d78b106b256c4cfc">uNumLevelDecorations</a></div><div class="ttdeci">size_t uNumLevelDecorations</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3f/_decoration_8cpp_source.html#l00009">Decoration.cpp:9</a></div></div>
<div class="ttc" id="astruct_savegame_list_html"><div class="ttname"><a href="../../dd/df4/struct_savegame_list.html">SavegameList</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de7/_save_load_8h_source.html#l00007">SaveLoad.h:7</a></div></div>
<div class="ttc" id="a_g_u_i_window_8cpp_html_a9cafb995f3f6b03139380e5fb4fee184"><div class="ttname"><a href="../../dc/dce/_g_u_i_window_8cpp.html#a9cafb995f3f6b03139380e5fb4fee184">GUI_UpdateWindows</a></div><div class="ttdeci">void GUI_UpdateWindows()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dce/_g_u_i_window_8cpp_source.html#l00956">GUIWindow.cpp:956</a></div></div>
<div class="ttc" id="amm7__data_8cpp_html_a3bb76097823a7b5e500113be90ab6aaf"><div class="ttname"><a href="../../d6/d5b/mm7__data_8cpp.html#a3bb76097823a7b5e500113be90ab6aaf">MapsLongTimers_count</a></div><div class="ttdeci">int MapsLongTimers_count</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/mm7__data_8cpp_source.html#l00630">mm7_data.cpp:630</a></div></div>
<div class="ttc" id="astruct_d_d_m___d_l_v___header_html"><div class="ttname"><a href="../../db/df7/struct_d_d_m___d_l_v___header.html">DDM_DLV_Header</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc7/_indoor_8h_source.html#l00082">Indoor.h:82</a></div></div>
<div class="ttc" id="astruct_savegame_list_html_a638b1a307a34674f75b1330631fbeb3a"><div class="ttname"><a href="../../dd/df4/struct_savegame_list.html#a638b1a307a34674f75b1330631fbeb3a">SavegameList::Reset</a></div><div class="ttdeci">void Reset()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d9d/_save_load_8cpp_source.html#l00560">SaveLoad.cpp:560</a></div></div>
<div class="ttc" id="astruct_n_p_c_data___image___m_m7_html"><div class="ttname"><a href="../../da/d9d/struct_n_p_c_data___image___m_m7.html">NPCData_Image_MM7</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd3/_legacy_images_8h_source.html#l00087">LegacyImages.h:87</a></div></div>
<div class="ttc" id="astruct_timer___image___m_m7_html"><div class="ttname"><a href="../../d4/dfe/struct_timer___image___m_m7.html">Timer_Image_MM7</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd3/_legacy_images_8h_source.html#l00511">LegacyImages.h:511</a></div></div>
<div class="ttc" id="astruct_indoor_location_html_ae170b3b5807eda1154200d5b1cea24a7"><div class="ttname"><a href="../../d6/d9e/struct_indoor_location.html#ae170b3b5807eda1154200d5b1cea24a7">IndoorLocation::uNumFaces</a></div><div class="ttdeci">unsigned int uNumFaces</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc7/_indoor_8h_source.html#l00629">Indoor.h:629</a></div></div>
<div class="ttc" id="astruct_indoor_location_html_af3d956d757ebafe20a35f4a6c94ac103"><div class="ttname"><a href="../../d6/d9e/struct_indoor_location.html#af3d956d757ebafe20a35f4a6c94ac103">IndoorLocation::_visible_outlines</a></div><div class="ttdeci">char _visible_outlines[875]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc7/_indoor_8h_source.html#l00650">Indoor.h:650</a></div></div>
<div class="ttc" id="amm7__data_8cpp_html_ae0c51d71714abe0cc2f685a8d819da8a"><div class="ttname"><a href="../../d6/d5b/mm7__data_8cpp.html#ae0c51d71714abe0cc2f685a8d819da8a">bFlashQuestBook</a></div><div class="ttdeci">char bFlashQuestBook</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/mm7__data_8cpp_source.html#l00549">mm7_data.cpp:549</a></div></div>
<div class="ttc" id="a_l_o_d_8cpp_html_a137bcff77c678b90cc1007a592cbb644"><div class="ttname"><a href="../../de/d42/_l_o_d_8cpp.html#a137bcff77c678b90cc1007a592cbb644">pGames_LOD</a></div><div class="ttdeci">LOD::File * pGames_LOD</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00025">LOD.cpp:25</a></div></div>
<div class="ttc" id="astruct_savegame_list_html_aae508c1b56dd1083c75f2ba6a731667a"><div class="ttname"><a href="../../dd/df4/struct_savegame_list.html#aae508c1b56dd1083c75f2ba6a731667a">SavegameList::SavegameList</a></div><div class="ttdeci">SavegameList()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d9d/_save_load_8cpp_source.html#l00558">SaveLoad.cpp:558</a></div></div>
<div class="ttc" id="amm7__data_8cpp_html_a88ebc50ce00b0ed9170a4da4a7d99ce2"><div class="ttname"><a href="../../d6/d5b/mm7__data_8cpp.html#a88ebc50ce00b0ed9170a4da4a7d99ce2">pCurrentMapName</a></div><div class="ttdeci">String pCurrentMapName</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/mm7__data_8cpp_source.html#l00712">mm7_data.cpp:712</a></div></div>
<div class="ttc" id="aclass_l_o_d_1_1_writeable_file_html_ab648acee2342b9ad720942ffa90536a0"><div class="ttname"><a href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#ab648acee2342b9ad720942ffa90536a0">LOD::WriteableFile::Write</a></div><div class="ttdeci">unsigned int Write(const String &amp;file_name, const void *pDirData, size_t size, int a4)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00544">LOD.cpp:544</a></div></div>
<div class="ttc" id="astruct_party_html_a97f3bf27f5e2cb3474e167f447e3e0f9"><div class="ttname"><a href="../../d0/d14/struct_party.html#a97f3bf27f5e2cb3474e167f447e3e0f9">Party::sPrevRotationY</a></div><div class="ttdeci">int sPrevRotationY</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d38/_party_8h_source.html#l00254">Party.h:254</a></div></div>
<div class="ttc" id="astruct_party___image___m_m7_html"><div class="ttname"><a href="../../d6/dee/struct_party___image___m_m7.html">Party_Image_MM7</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd3/_legacy_images_8h_source.html#l00410">LegacyImages.h:410</a></div></div>
<div class="ttc" id="astruct_n_p_c_stats_html_acf328fedd0f2521f9dabd071086a14ee"><div class="ttname"><a href="../../d5/d11/struct_n_p_c_stats.html#acf328fedd0f2521f9dabd071086a14ee">NPCStats::_476C60_on_load_game</a></div><div class="ttdeci">void _476C60_on_load_game()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6c/_n_p_c_8cpp_source.html#l00273">NPC.cpp:273</a></div></div>
<div class="ttc" id="astruct_n_p_c_data___image___m_m7_html_a21a7364805270a638e2d10bca9c3912d"><div class="ttname"><a href="../../da/d9d/struct_n_p_c_data___image___m_m7.html#a21a7364805270a638e2d10bca9c3912d">NPCData_Image_MM7::Serialize</a></div><div class="ttdeci">void Serialize(struct NPCData *item)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4f/_legacy_images_8cpp_source.html#l00123">LegacyImages.cpp:123</a></div></div>
<div class="ttc" id="a_outdoor_8h_html"><div class="ttname"><a href="../../dc/dfb/_outdoor_8h.html">Outdoor.h</a></div></div>
<div class="ttc" id="astruct_outdoor_location_html_a93ca7972b7acfc6e4a8331e5ff3771b6"><div class="ttname"><a href="../../d1/d55/struct_outdoor_location.html#a93ca7972b7acfc6e4a8331e5ff3771b6">OutdoorLocation::ddm</a></div><div class="ttdeci">struct DDM_DLV_Header ddm</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dfb/_outdoor_8h_source.html#l00131">Outdoor.h:131</a></div></div>
<div class="ttc" id="astruct_timer_html_aea7d51a94464d7581670110ba03492a4"><div class="ttname"><a href="../../d8/da1/struct_timer.html#aea7d51a94464d7581670110ba03492a4">Timer::StopGameTime</a></div><div class="ttdeci">void StopGameTime()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d84/_time_8cpp_source.html#l00045">Time.cpp:45</a></div></div>
<div class="ttc" id="a_indoor_8h_html_a24bf8802234f411139f3a641894c3f70a15a823faa9b1cebf4eec0ccc61356569"><div class="ttname"><a href="../../da/dc7/_indoor_8h.html#a24bf8802234f411139f3a641894c3f70a15a823faa9b1cebf4eec0ccc61356569">LEVEL_Indoor</a></div><div class="ttdeci">@ LEVEL_Indoor</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc7/_indoor_8h_source.html#l00286">Indoor.h:286</a></div></div>
<div class="ttc" id="a_audio_player_8h_html"><div class="ttname"><a href="../../dd/d7b/_audio_player_8h.html">AudioPlayer.h</a></div></div>
<div class="ttc" id="amm7__data_8cpp_html_a257735b3196bfed72cc1f5c4404e62f4"><div class="ttname"><a href="../../d6/d5b/mm7__data_8cpp.html#a257735b3196bfed72cc1f5c4404e62f4">s_SavedMapName</a></div><div class="ttdeci">std::string s_SavedMapName</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/mm7__data_8cpp_source.html#l00719">mm7_data.cpp:719</a></div></div>
<div class="ttc" id="a_save_load_8h_html_a057d24aa837c1a458ebddedc4b21bea3"><div class="ttname"><a href="../../dd/de7/_save_load_8h.html#a057d24aa837c1a458ebddedc4b21bea3">MAX_SAVE_SLOTS</a></div><div class="ttdeci">constexpr unsigned int MAX_SAVE_SLOTS</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de7/_save_load_8h_source.html#l00033">SaveLoad.h:33</a></div></div>
<div class="ttc" id="a_g_u_i_window_8h_html_af188298480c77be8835d6760fa6edfd7a1b14f33469f90b26e5f73747bcbd62f8"><div class="ttname"><a href="../../d5/d0b/_g_u_i_window_8h.html#af188298480c77be8835d6760fa6edfd7a1b14f33469f90b26e5f73747bcbd62f8">CURRENT_SCREEN::SCREEN_GAME</a></div><div class="ttdeci">@ SCREEN_GAME</div></div>
<div class="ttc" id="astruct_timer___image___m_m7_html_ac5a80cf88fe49c3d347c7cc2a0bf4e87"><div class="ttname"><a href="../../d4/dfe/struct_timer___image___m_m7.html#ac5a80cf88fe49c3d347c7cc2a0bf4e87">Timer_Image_MM7::Serialize</a></div><div class="ttdeci">void Serialize(struct Timer *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4f/_legacy_images_8cpp_source.html#l00095">LegacyImages.cpp:95</a></div></div>
<div class="ttc" id="astruct_o_d_m_header_html_a31673a0e27489f85de06e7c41894fdf3"><div class="ttname"><a href="../../d9/d1c/struct_o_d_m_header.html#a31673a0e27489f85de06e7c41894fdf3">ODMHeader::uDecompressedSize</a></div><div class="ttdeci">uint32_t uDecompressedSize</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dfb/_outdoor_8h_source.html#l00017">Outdoor.h:17</a></div></div>
<div class="ttc" id="astruct_party___image___m_m7_html_a92a73dd3a76ebe5fdd53a6ef891e1160"><div class="ttname"><a href="../../d6/dee/struct_party___image___m_m7.html#a92a73dd3a76ebe5fdd53a6ef891e1160">Party_Image_MM7::Deserialize</a></div><div class="ttdeci">void Deserialize(struct Party *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4f/_legacy_images_8cpp_source.html#l00428">LegacyImages.cpp:428</a></div></div>
<div class="ttc" id="a_sprite_object_8cpp_html_ad75c008e353d000e9258ef3884674d18"><div class="ttname"><a href="../../d9/ded/_sprite_object_8cpp.html#ad75c008e353d000e9258ef3884674d18">uNumSpriteObjects</a></div><div class="ttdeci">size_t uNumSpriteObjects</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/ded/_sprite_object_8cpp_source.html#l00033">SpriteObject.cpp:33</a></div></div>
<div class="ttc" id="astruct_savegame_header_html_afc751539e34adab1584014bf58642f18"><div class="ttname"><a href="../../d1/d2a/struct_savegame_header.html#afc751539e34adab1584014bf58642f18">SavegameHeader::playing_time</a></div><div class="ttdeci">GameTime playing_time</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de7/_save_load_8h_source.html#l00021">SaveLoad.h:21</a></div></div>
<div class="ttc" id="a_s_d_l__opengl_8h_html_a2e335d56e2846b0fea47eed068b2d34a"><div class="ttname"><a href="../../df/dc4/_s_d_l__opengl_8h.html#a2e335d56e2846b0fea47eed068b2d34a">data</a></div><div class="ttdeci">GLint GLenum GLsizei GLsizei GLsizei GLint GLsizei const GLvoid * data</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dc4/_s_d_l__opengl_8h_source.html#l01974">SDL_opengl.h:1974</a></div></div>
<div class="ttc" id="a_overlays_8cpp_html_aa512635acfca2f1fa4fb7976cf2f01f5"><div class="ttname"><a href="../../de/d68/_overlays_8cpp.html#aa512635acfca2f1fa4fb7976cf2f01f5">pOtherOverlayList</a></div><div class="ttdeci">struct OtherOverlayList * pOtherOverlayList</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d68/_overlays_8cpp_source.html#l00019">Overlays.cpp:19</a></div></div>
<div class="ttc" id="a_s_d_l__egl_8h_html_aaced7cfc21e7d37775d6921bb8177239"><div class="ttname"><a href="../../df/d32/_s_d_l__egl_8h.html#aaced7cfc21e7d37775d6921bb8177239">name</a></div><div class="ttdeci">EGLImageKHR EGLint * name</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d32/_s_d_l__egl_8h_source.html#l01497">SDL_egl.h:1497</a></div></div>
<div class="ttc" id="astruct_indoor_location_html_a34b55058c3e789e4a30ce3dbc23d19a0"><div class="ttname"><a href="../../d6/d9e/struct_indoor_location.html#a34b55058c3e789e4a30ce3dbc23d19a0">IndoorLocation::ptr_0002B4_doors_ddata</a></div><div class="ttdeci">uint16_t * ptr_0002B4_doors_ddata</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc7/_indoor_8h_source.html#l00644">Indoor.h:644</a></div></div>
<div class="ttc" id="a_u_i_status_bar_8h_html"><div class="ttname"><a href="../../df/d16/_u_i_status_bar_8h.html">UIStatusBar.h</a></div></div>
<div class="ttc" id="a_engine_8cpp_html_a7a083a74e008e624d001444406d58c6d"><div class="ttname"><a href="../../d4/d68/_engine_8cpp.html#a7a083a74e008e624d001444406d58c6d">MakeDataPath</a></div><div class="ttdeci">std::string MakeDataPath(const char *file_rel_path)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d68/_engine_8cpp_source.html#l00126">Engine.cpp:126</a></div></div>
<div class="ttc" id="aclass_image_html_aafa267b1b060db2b6bb76bd36c5812f0"><div class="ttname"><a href="../../de/d73/class_image.html#aafa267b1b060db2b6bb76bd36c5812f0">Image::Create</a></div><div class="ttdeci">static Image * Create(unsigned int width, unsigned int height, IMAGE_FORMAT format, const void *pixels=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dac/_image_8cpp_source.html#l00243">Image.cpp:243</a></div></div>
<div class="ttc" id="astruct_player_html_abf8028151ac9cbcaf4dbfc54e2439aa2"><div class="ttname"><a href="../../d3/db1/struct_player.html#abf8028151ac9cbcaf4dbfc54e2439aa2">Player::vBeacons</a></div><div class="ttdeci">std::vector&lt; LloydBeacon &gt; vBeacons</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l00794">Player.h:794</a></div></div>
<div class="ttc" id="astruct_lloyd_beacon_html_adbba0d774b6da3e6794273c98f0c5db8"><div class="ttname"><a href="../../df/d7d/struct_lloyd_beacon.html#adbba0d774b6da3e6794273c98f0c5db8">LloydBeacon::image</a></div><div class="ttdeci">Image * image</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l00279">Player.h:279</a></div></div>
<div class="ttc" id="astruct_savegame_header_html_a498cd8efd032df223343653a96f66af4"><div class="ttname"><a href="../../d1/d2a/struct_savegame_header.html#a498cd8efd032df223343653a96f66af4">SavegameHeader::field_30</a></div><div class="ttdeci">char field_30[52]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de7/_save_load_8h_source.html#l00022">SaveLoad.h:22</a></div></div>
<div class="ttc" id="a_m_m7_8h_html_a91ad9478d81a7aaf2593e8d9c3d06a14"><div class="ttname"><a href="../../d2/d83/_m_m7_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a></div><div class="ttdeci">unsigned int uint</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d83/_m_m7_8h_source.html#l00004">MM7.h:4</a></div></div>
<div class="ttc" id="amm7__data_8cpp_html_aea2cd445c717797ec38d3ac259b5f20b"><div class="ttname"><a href="../../d6/d5b/mm7__data_8cpp.html#aea2cd445c717797ec38d3ac259b5f20b">uActiveCharacter</a></div><div class="ttdeci">unsigned int uActiveCharacter</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/mm7__data_8cpp_source.html#l00555">mm7_data.cpp:555</a></div></div>
<div class="ttc" id="aclass_localization_html_aa585c1180dc1a338b5822de8e413d2d6"><div class="ttname"><a href="../../dd/d88/class_localization.html#aa585c1180dc1a338b5822de8e413d2d6">Localization::FormatString</a></div><div class="ttdeci">String FormatString(unsigned int index,...) const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d8c/_localization_8cpp_source.html#l00017">Localization.cpp:17</a></div></div>
<div class="ttc" id="aclass_l_o_d_1_1_writeable_file_html_a8c729016eb47a76a3f9242978c4ab87a"><div class="ttname"><a href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#a8c729016eb47a76a3f9242978c4ab87a">LOD::WriteableFile::AppendDirectory</a></div><div class="ttdeci">bool AppendDirectory(const String &amp;file_name, const void *pData, size_t data_size)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00506">LOD.cpp:506</a></div></div>
<div class="ttc" id="a_s_d_l__assert_8h_html_afedcea68cf85ee469ab1ea390bbe0abb"><div class="ttname"><a href="../../d9/d30/_s_d_l__assert_8h.html#afedcea68cf85ee469ab1ea390bbe0abb">__debugbreak</a></div><div class="ttdeci">void __cdecl __debugbreak(void)</div></div>
<div class="ttc" id="a_n_p_c_8cpp_html_a5c8b4db1afd780cdf7ff9ccd02e7a542"><div class="ttname"><a href="../../d1/d6c/_n_p_c_8cpp.html#a5c8b4db1afd780cdf7ff9ccd02e7a542">pNPCStats</a></div><div class="ttdeci">struct NPCStats * pNPCStats</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6c/_n_p_c_8cpp_source.html#l00029">NPC.cpp:29</a></div></div>
<div class="ttc" id="aclass_b_s_p_model_html_a054a4c6bb89e654f8de85ba8bf61ba85"><div class="ttname"><a href="../../db/dd9/class_b_s_p_model.html#a054a4c6bb89e654f8de85ba8bf61ba85">BSPModel::pFaces</a></div><div class="ttdeci">std::vector&lt; ODMFace &gt; pFaces</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dbc/_b_s_p_model_8h_source.html#l00190">BSPModel.h:190</a></div></div>
<div class="ttc" id="a_u_i_status_bar_8cpp_html_abe7a1f2130faa2a0a455965241061a8c"><div class="ttname"><a href="../../d4/dca/_u_i_status_bar_8cpp.html#abe7a1f2130faa2a0a455965241061a8c">GameUI_StatusBar_OnEvent</a></div><div class="ttdeci">void GameUI_StatusBar_OnEvent(const String &amp;str, unsigned int num_seconds)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dca/_u_i_status_bar_8cpp_source.html#l00033">UIStatusBar.cpp:33</a></div></div>
<div class="ttc" id="astruct_o_d_m_face_html"><div class="ttname"><a href="../../d3/df8/struct_o_d_m_face.html">ODMFace</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dbc/_b_s_p_model_8h_source.html#l00093">BSPModel.h:93</a></div></div>
<div class="ttc" id="aclass_l_o_d_1_1_writeable_file_html_aeb8bca77951d1bdca4969a4b1ce3eeae"><div class="ttname"><a href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#aeb8bca77951d1bdca4969a4b1ce3eeae">LOD::WriteableFile::ClearSubNodes</a></div><div class="ttdeci">void ClearSubNodes()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00112">LOD.h:112</a></div></div>
<div class="ttc" id="aclass_image_html_acfd22d055cadfeed00655c82f4ffdaa2"><div class="ttname"><a href="../../de/d73/class_image.html#acfd22d055cadfeed00655c82f4ffdaa2">Image::GetPixels</a></div><div class="ttdeci">const void * GetPixels(IMAGE_FORMAT format)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dac/_image_8cpp_source.html#l00270">Image.cpp:270</a></div></div>
<div class="ttc" id="astruct_savegame_header_html_a79a850cc7cfb6c9604f4da1d980bb42d"><div class="ttname"><a href="../../d1/d2a/struct_savegame_header.html#a79a850cc7cfb6c9604f4da1d980bb42d">SavegameHeader::pName</a></div><div class="ttdeci">char pName[20]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de7/_save_load_8h_source.html#l00019">SaveLoad.h:19</a></div></div>
<div class="ttc" id="a_decoration_8h_html"><div class="ttname"><a href="../../dd/dbf/_decoration_8h.html">Decoration.h</a></div></div>
<div class="ttc" id="astruct_viewing_params_html_a0bb88f953083fe55c27db34b5b774956"><div class="ttname"><a href="../../d4/d10/struct_viewing_params.html#a0bb88f953083fe55c27db34b5b774956">ViewingParams::bRedrawGameUI</a></div><div class="ttdeci">int bRedrawGameUI</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d19/_viewport_8h_source.html#l00074">Viewport.h:74</a></div></div>
<div class="ttc" id="aclass_l_o_d_1_1_file_html_a76ad87710f9789b6d473a3e6695d04bf"><div class="ttname"><a href="../../dd/da7/class_l_o_d_1_1_file.html#a76ad87710f9789b6d473a3e6695d04bf">LOD::File::GetSubNodeName</a></div><div class="ttdeci">String GetSubNodeName(size_t index) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00071">LOD.h:71</a></div></div>
<div class="ttc" id="amm7__data_8cpp_html_a26a3f7145319f5176397704ba8ea67e7"><div class="ttname"><a href="../../d6/d5b/mm7__data_8cpp.html#a26a3f7145319f5176397704ba8ea67e7">dword_6BE364_game_settings_1</a></div><div class="ttdeci">int dword_6BE364_game_settings_1</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/mm7__data_8cpp_source.html#l00714">mm7_data.cpp:714</a></div></div>
<div class="ttc" id="a_save_load_8cpp_html_aec4ea4d9c15c927eed9a2a9227c4b16c"><div class="ttname"><a href="../../d4/d9d/_save_load_8cpp.html#aec4ea4d9c15c927eed9a2a9227c4b16c">LoadGame</a></div><div class="ttdeci">void LoadGame(unsigned int uSlot)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d9d/_save_load_8cpp_source.html#l00077">SaveLoad.cpp:77</a></div></div>
<div class="ttc" id="a_indoor_8cpp_html_af7004771e2f64ebae04197860cd1f3d3"><div class="ttname"><a href="../../d1/d4a/_indoor_8cpp.html#af7004771e2f64ebae04197860cd1f3d3">uCurrentlyLoadedLevelType</a></div><div class="ttdeci">LEVEL_TYPE uCurrentlyLoadedLevelType</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d4a/_indoor_8cpp_source.html#l00052">Indoor.cpp:52</a></div></div>
<div class="ttc" id="astruct_indoor_location_html_a27ea6b1952ead8f9acbb8766511457d7"><div class="ttname"><a href="../../d6/d9e/struct_indoor_location.html#a27ea6b1952ead8f9acbb8766511457d7">IndoorLocation::pFaces</a></div><div class="ttdeci">struct BLVFace * pFaces</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc7/_indoor_8h_source.html#l00630">Indoor.h:630</a></div></div>
<div class="ttc" id="astruct_savegame_header_html"><div class="ttname"><a href="../../d1/d2a/struct_savegame_header.html">SavegameHeader</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de7/_save_load_8h_source.html#l00018">SaveLoad.h:18</a></div></div>
<div class="ttc" id="a_save_load_8cpp_html_a553fe24661332408e88879e7a4802b23"><div class="ttname"><a href="../../d4/d9d/_save_load_8cpp.html#a553fe24661332408e88879e7a4802b23">CopyFile</a></div><div class="ttdeci">bool CopyFile(const String &amp;from, const String &amp;to)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d9d/_save_load_8cpp_source.html#l00047">SaveLoad.cpp:47</a></div></div>
<div class="ttc" id="astruct_lloyd_beacon_html"><div class="ttname"><a href="../../df/d7d/struct_lloyd_beacon.html">LloydBeacon</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l00254">Player.h:254</a></div></div>
<div class="ttc" id="a_audio_player_8cpp_html_a3ee6d655d35b46ebac53ef678255f75b"><div class="ttname"><a href="../../d3/df2/_audio_player_8cpp.html#a3ee6d655d35b46ebac53ef678255f75b">pAudioPlayer</a></div><div class="ttdeci">AudioPlayer * pAudioPlayer</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/df2/_audio_player_8cpp_source.html#l00020">AudioPlayer.cpp:20</a></div></div>
<div class="ttc" id="aclass_b_s_p_model_html"><div class="ttname"><a href="../../db/dd9/class_b_s_p_model.html">BSPModel</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dbc/_b_s_p_model_8h_source.html#l00163">BSPModel.h:163</a></div></div>
<div class="ttc" id="a_u_i_save_load_8h_html"><div class="ttname"><a href="../../d2/d13/_u_i_save_load_8h.html">UISaveLoad.h</a></div></div>
<div class="ttc" id="a_g_u_i_window_8h_html"><div class="ttname"><a href="../../d5/d0b/_g_u_i_window_8h.html">GUIWindow.h</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_ga3d1e3edfcf61ca2d831883e1afbad89e"><div class="ttname"><a href="../../db/d76/group__lavu__mem__funcs.html#ga3d1e3edfcf61ca2d831883e1afbad89e">size</a></div><div class="ttdeci">GLsizeiptr size</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d32/_s_d_l__opengl__glext_8h_source.html#l00540">SDL_opengl_glext.h:540</a></div></div>
<div class="ttc" id="a_engine_2_ioc_container_8cpp_html_a9be76595edb968c5dfb165ec86ba2959"><div class="ttname"><a href="../../de/d8c/_engine_2_ioc_container_8cpp.html#a9be76595edb968c5dfb165ec86ba2959">logger</a></div><div class="ttdeci">Log * logger</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d8c/_engine_2_ioc_container_8cpp_source.html#l00047">IocContainer.cpp:47</a></div></div>
<div class="ttc" id="amm7__data_8cpp_html_a820b7032fb7d7cfff6d46feb02d3932d"><div class="ttname"><a href="../../d6/d5b/mm7__data_8cpp.html#a820b7032fb7d7cfff6d46feb02d3932d">stru_5E4C90_MapPersistVars</a></div><div class="ttdeci">stru123 stru_5E4C90_MapPersistVars</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5b/mm7__data_8cpp_source.html#l00023">mm7_data.cpp:23</a></div></div>
<div class="ttc" id="a_s_d_l__opengl__glext_8h_html_a1dbb21208b9047cc8031ca9c840d3c2f"><div class="ttname"><a href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a1dbb21208b9047cc8031ca9c840d3c2f">res</a></div><div class="ttdeci">GLuint res</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d32/_s_d_l__opengl__glext_8h_source.html#l07940">SDL_opengl_glext.h:7940</a></div></div>
<div class="ttc" id="a_outdoor_8cpp_html_af1ccdd58891375c26aa795fcdd97aa32"><div class="ttname"><a href="../../d1/d03/_outdoor_8cpp.html#af1ccdd58891375c26aa795fcdd97aa32">pOutdoor</a></div><div class="ttdeci">OutdoorLocation * pOutdoor</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d03/_outdoor_8cpp_source.html#l00048">Outdoor.cpp:48</a></div></div>
<div class="ttc" id="astruct_d_d_m___d_l_v___header_html_a41fac427de155ce608800e3c8e388e1a"><div class="ttname"><a href="../../db/df7/struct_d_d_m___d_l_v___header.html#a41fac427de155ce608800e3c8e388e1a">DDM_DLV_Header::uNumBModels</a></div><div class="ttdeci">unsigned int uNumBModels</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc7/_indoor_8h_source.html#l00100">Indoor.h:100</a></div></div>
<div class="ttc" id="astruct_l_o_d_1_1_file_header_html"><div class="ttname"><a href="../../dc/d2a/struct_l_o_d_1_1_file_header.html">LOD::FileHeader</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00022">LOD.h:22</a></div></div>
<div class="ttc" id="astruct_lloyd_beacon_html_a9b5862f6570b9e5e663f84b022b157f8"><div class="ttname"><a href="../../df/d7d/struct_lloyd_beacon.html#a9b5862f6570b9e5e663f84b022b157f8">LloydBeacon::uBeaconTime</a></div><div class="ttdeci">GameTime uBeaconTime</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/_player_8h_source.html#l00271">Player.h:271</a></div></div>
<div class="ttc" id="a_s_d_l__egl_8h_html_a0a221b005894579fea3b9eb7bfc2ee71"><div class="ttname"><a href="../../df/d32/_s_d_l__egl_8h.html#a0a221b005894579fea3b9eb7bfc2ee71">image</a></div><div class="ttdeci">EGLImageKHR image</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d32/_s_d_l__egl_8h_source.html#l00953">SDL_egl.h:953</a></div></div>
<div class="ttc" id="a_strings_8cpp_html_aebf99e80337d8db0a005aebe8a13fb7f"><div class="ttname"><a href="../../d8/d44/_strings_8cpp.html#aebf99e80337d8db0a005aebe8a13fb7f">StringPrintf</a></div><div class="ttdeci">String StringPrintf(const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d44/_strings_8cpp_source.html#l00009">Strings.cpp:9</a></div></div>
<div class="ttc" id="a_s_d_l__opengl_8h_html_ada7ad693ea2e311b8103f4693fc35f80"><div class="ttname"><a href="../../df/dc4/_s_d_l__opengl_8h.html#ada7ad693ea2e311b8103f4693fc35f80">pixels</a></div><div class="ttdeci">GLint GLint GLsizei GLsizei GLsizei GLint GLenum GLenum const GLvoid * pixels</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dc4/_s_d_l__opengl_8h_source.html#l01572">SDL_opengl.h:1572</a></div></div>
<div class="ttc" id="astruct_party_html_a58acc77e1ce8db07f410d3557b8f4805"><div class="ttname"><a href="../../d0/d14/struct_party.html#a58acc77e1ce8db07f410d3557b8f4805">Party::sRotationY</a></div><div class="ttdeci">int sRotationY</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d38/_party_8h_source.html#l00251">Party.h:251</a></div></div>
<div class="ttc" id="astruct_savegame_list_html_a899494f772cbbfacd5c1c3c1e7725c91"><div class="ttname"><a href="../../dd/df4/struct_savegame_list.html#a899494f772cbbfacd5c1c3c1e7725c91">SavegameList::pFileList</a></div><div class="ttdeci">std::array&lt; String, 45 &gt; pFileList</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de7/_save_load_8h_source.html#l00013">SaveLoad.h:13</a></div></div>
<div class="ttc" id="aclass_l_o_d_1_1_file_html_ae4069f908e27c3507a03d2bb12ad6f0f"><div class="ttname"><a href="../../dd/da7/class_l_o_d_1_1_file.html#ae4069f908e27c3507a03d2bb12ad6f0f">LOD::File::LoadRaw</a></div><div class="ttdeci">void * LoadRaw(const String &amp;pContainer, size_t *data_size=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00895">LOD.cpp:895</a></div></div>
<div class="ttc" id="astruct_indoor_location_html_aec43a49f702195ab4679e275313e78a2"><div class="ttname"><a href="../../d6/d9e/struct_indoor_location.html#aec43a49f702195ab4679e275313e78a2">IndoorLocation::pDoors</a></div><div class="ttdeci">struct BLVDoor * pDoors</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc7/_indoor_8h_source.html#l00638">Indoor.h:638</a></div></div>
<div class="ttc" id="a_strings_8h_html_afbeda3fd1bdc8c37d01bdf9f5c8274ff"><div class="ttname"><a href="../../de/df7/_strings_8h.html#afbeda3fd1bdc8c37d01bdf9f5c8274ff">String</a></div><div class="ttdeci">std::string String</div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/_strings_8h_source.html#l00010">Strings.h:10</a></div></div>
<div class="ttc" id="a_time_8cpp_html_a9b16df08347bd1a24e9e426848ffca3c"><div class="ttname"><a href="../../db/d84/_time_8cpp.html#a9b16df08347bd1a24e9e426848ffca3c">pEventTimer</a></div><div class="ttdeci">Timer * pEventTimer</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d84/_time_8cpp_source.html#l00008">Time.cpp:8</a></div></div>
<div class="ttc" id="astruct_b_l_v_face_html_a53874a062912a47d57a0ad755c1fc3d9"><div class="ttname"><a href="../../d9/ded/struct_b_l_v_face.html#a53874a062912a47d57a0ad755c1fc3d9">BLVFace::uAttributes</a></div><div class="ttdeci">unsigned int uAttributes</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc7/_indoor_8h_source.html#l00475">Indoor.h:475</a></div></div>
<div class="ttc" id="astruct_o_d_m_header_html_af5ae59cca4a51296f2d982c9b2cf5eea"><div class="ttname"><a href="../../d9/d1c/struct_o_d_m_header.html#af5ae59cca4a51296f2d982c9b2cf5eea">ODMHeader::uVersion</a></div><div class="ttdeci">uint32_t uVersion</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dfb/_outdoor_8h_source.html#l00014">Outdoor.h:14</a></div></div>
<div class="ttc" id="a_sprite_object_8cpp_html_aaba2939e1540dd4a568dbcdb4591117b"><div class="ttname"><a href="../../d9/ded/_sprite_object_8cpp.html#aaba2939e1540dd4a568dbcdb4591117b">CompactLayingItemsList</a></div><div class="ttdeci">void CompactLayingItemsList()</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/ded/_sprite_object_8cpp_source.html#l00882">SpriteObject.cpp:882</a></div></div>
<div class="ttc" id="a_save_load_8cpp_html_a8877c76af6a19304100073ae590e1b8d"><div class="ttname"><a href="../../d4/d9d/_save_load_8cpp.html#a8877c76af6a19304100073ae590e1b8d">SaveGame</a></div><div class="ttdeci">void SaveGame(bool IsAutoSAve, bool NotSaveWorld)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d9d/_save_load_8cpp_source.html#l00238">SaveLoad.cpp:238</a></div></div>
<div class="ttc" id="a_api_8h_html"><div class="ttname"><a href="../../d4/ddd/_api_8h.html">Api.h</a></div></div>
<div class="ttc" id="a_save_load_8cpp_html_af77ad39a7afaff97a0912f094c676a05"><div class="ttname"><a href="../../d4/d9d/_save_load_8cpp.html#af77ad39a7afaff97a0912f094c676a05">pSavegameList</a></div><div class="ttdeci">struct SavegameList * pSavegameList</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d9d/_save_load_8cpp_source.html#l00041">SaveLoad.cpp:41</a></div></div>
<div class="ttc" id="astruct_party_html_a0333a828cb051d9f86e142230644cce3"><div class="ttname"><a href="../../d0/d14/struct_party.html#a0333a828cb051d9f86e142230644cce3">Party::alignment</a></div><div class="ttdeci">PartyAlignment alignment</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d38/_party_8h_source.html#l00308">Party.h:308</a></div></div>
<div class="ttc" id="astruct_timer___image___m_m7_html_a606c4081df8af01c20eb3c29206449c3"><div class="ttname"><a href="../../d4/dfe/struct_timer___image___m_m7.html#a606c4081df8af01c20eb3c29206449c3">Timer_Image_MM7::Deserialize</a></div><div class="ttdeci">void Deserialize(struct Timer *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4f/_legacy_images_8cpp_source.html#l00110">LegacyImages.cpp:110</a></div></div>
<div class="ttc" id="a_engine_2_time_8h_html"><div class="ttname"><a href="../../d0/d0e/_engine_2_time_8h.html">Time.h</a></div></div>
<div class="ttc" id="a_i_render_8h_html_a21d31464313b2c66ff88d4aa97b66143"><div class="ttname"><a href="../../da/d20/_i_render_8h.html#a21d31464313b2c66ff88d4aa97b66143">render</a></div><div class="ttdeci">std::shared_ptr&lt; IRender &gt; render</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d79/_render_open_g_l_8cpp_source.html#l00052">RenderOpenGL.cpp:52</a></div></div>
<div class="ttc" id="a_save_load_8cpp_html_a2717bc6f95074a0dfef7748ec3cd5d3a"><div class="ttname"><a href="../../d4/d9d/_save_load_8cpp.html#a2717bc6f95074a0dfef7748ec3cd5d3a">pSavegameHeader</a></div><div class="ttdeci">std::array&lt; SavegameHeader, MAX_SAVE_SLOTS &gt; pSavegameHeader</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d9d/_save_load_8cpp_source.html#l00045">SaveLoad.cpp:45</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_0b6ee6e7e9547e675db4add2e5de97da.html">Engine</a></li><li class="navelem"><a class="el" href="../../d4/d9d/_save_load_8cpp.html">SaveLoad.cpp</a></li>
    <li class="footer">Документация по World of Might and Magic. Последние изменения: Вт 7 Апр 2020 22:03:33. Создано системой
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
