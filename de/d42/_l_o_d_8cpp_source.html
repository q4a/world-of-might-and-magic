<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>World of Might and Magic: Исходный файл C:/git/world-of-might-and-magic/Engine/LOD.cpp</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">World of Might and Magic
   &#160;<span id="projectnumber">0.2.0</span>
   </div>
   <div id="projectbrief">Open reimplementation of Might and Magic 6 7 8 game engine</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Создано системой Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Поиск');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Поиск');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('de/d42/_l_o_d_8cpp_source.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">LOD.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../de/d42/_l_o_d_8cpp.html">См. документацию.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/db2/_l_o_d_8h.html">Engine/LOD.h</a>&quot;</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160; </div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../de/dcf/_engine_8h.html">Engine/Engine.h</a>&quot;</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/d7a/_zlib_wrapper_8h.html">Engine/ZlibWrapper.h</a>&quot;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160; </div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/d11/_h_w_l_container_8h.html">Engine/Graphics/HWLContainer.h</a>&quot;</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../da/d20/_i_render_8h.html">Engine/Graphics/IRender.h</a>&quot;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/d23/_sprites_8h.html">Engine/Graphics/Sprites.h</a>&quot;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160; </div>
<div class="line"><a name="l00010"></a><span class="lineno"><a class="line" href="../../d3/db2/_l_o_d_8h.html#a0658cabda1f3f14fa5dc2f10a9b5d6ec">   10</a></span>&#160;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html">LODFile_IconsBitmaps</a> *<a class="code" href="../../de/d42/_l_o_d_8cpp.html#a0658cabda1f3f14fa5dc2f10a9b5d6ec">pEvents_LOD</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160; </div>
<div class="line"><a name="l00012"></a><span class="lineno"><a class="line" href="../../d4/d5e/_g_u_i_font_8cpp.html#a69a9d0df11a07a79c1ecd460419cfcce">   12</a></span>&#160;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html">LODFile_IconsBitmaps</a> *<a class="code" href="../../de/d42/_l_o_d_8cpp.html#a69a9d0df11a07a79c1ecd460419cfcce">pIcons_LOD</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00013"></a><span class="lineno"><a class="line" href="../../d3/db2/_l_o_d_8h.html#afac4ba24476c632e2a452eaab3439550">   13</a></span>&#160;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html">LODFile_IconsBitmaps</a> *<a class="code" href="../../de/d42/_l_o_d_8cpp.html#afac4ba24476c632e2a452eaab3439550">pIcons_LOD_mm6</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00014"></a><span class="lineno"><a class="line" href="../../d3/db2/_l_o_d_8h.html#ab53efa2baacbef257db3bd287ce711b8">   14</a></span>&#160;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html">LODFile_IconsBitmaps</a> *<a class="code" href="../../de/d42/_l_o_d_8cpp.html#ab53efa2baacbef257db3bd287ce711b8">pIcons_LOD_mm8</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160; </div>
<div class="line"><a name="l00016"></a><span class="lineno"><a class="line" href="../../d3/db2/_l_o_d_8h.html#a35656858648d76649773ca0750c63b04">   16</a></span>&#160;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html">LODFile_IconsBitmaps</a> *<a class="code" href="../../de/d42/_l_o_d_8cpp.html#a35656858648d76649773ca0750c63b04">pBitmaps_LOD</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00017"></a><span class="lineno"><a class="line" href="../../d3/db2/_l_o_d_8h.html#a894b58714517c46b214d4b948a07d10f">   17</a></span>&#160;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html">LODFile_IconsBitmaps</a> *<a class="code" href="../../de/d42/_l_o_d_8cpp.html#a894b58714517c46b214d4b948a07d10f">pBitmaps_LOD_mm6</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00018"></a><span class="lineno"><a class="line" href="../../d3/db2/_l_o_d_8h.html#a00006d21981954ed6eb9dc215311a9f4">   18</a></span>&#160;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html">LODFile_IconsBitmaps</a> *<a class="code" href="../../de/d42/_l_o_d_8cpp.html#a00006d21981954ed6eb9dc215311a9f4">pBitmaps_LOD_mm8</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160; </div>
<div class="line"><a name="l00020"></a><span class="lineno"><a class="line" href="../../d3/db2/_l_o_d_8h.html#a620d8339d97670d600bd1bc9330b559c">   20</a></span>&#160;<a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html">LODFile_Sprites</a> *<a class="code" href="../../de/d42/_l_o_d_8cpp.html#a620d8339d97670d600bd1bc9330b559c">pSprites_LOD</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="../../d3/db2/_l_o_d_8h.html#a3e10725e973e2619743db9acd84c7556">   21</a></span>&#160;<a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html">LODFile_Sprites</a> *<a class="code" href="../../de/d42/_l_o_d_8cpp.html#a3e10725e973e2619743db9acd84c7556">pSprites_LOD_mm6</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="../../d3/db2/_l_o_d_8h.html#ac5f9511afbcbfb324aaeb8ecc66f45b5">   22</a></span>&#160;<a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html">LODFile_Sprites</a> *<a class="code" href="../../de/d42/_l_o_d_8cpp.html#ac5f9511afbcbfb324aaeb8ecc66f45b5">pSprites_LOD_mm8</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160; </div>
<div class="line"><a name="l00024"></a><span class="lineno"><a class="line" href="../../d3/db2/_l_o_d_8h.html#aef85f9958d2146e2fa92b9b5f9c184fd">   24</a></span>&#160;<a class="code" href="../../d6/d34/class_l_o_d_1_1_writeable_file.html">LOD::WriteableFile</a> *<a class="code" href="../../de/d42/_l_o_d_8cpp.html#aef85f9958d2146e2fa92b9b5f9c184fd">pNew_LOD</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="../../d3/db2/_l_o_d_8h.html#a137bcff77c678b90cc1007a592cbb644">   25</a></span>&#160;<a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html">LOD::File</a> *<a class="code" href="../../de/d42/_l_o_d_8cpp.html#a137bcff77c678b90cc1007a592cbb644">pGames_LOD</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160; </div>
<div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="../../de/d42/_l_o_d_8cpp.html#a5fdbac406529ea6ebd81e33dd1a8db24">   27</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../de/d42/_l_o_d_8cpp.html#a5fdbac406529ea6ebd81e33dd1a8db24">_6A0CA4_lod_binary_search</a>;</div>
<div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="../../de/d42/_l_o_d_8cpp.html#a5e3e5362d7a687a56b2fa1dcced33774">   28</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../de/d42/_l_o_d_8cpp.html#a5e3e5362d7a687a56b2fa1dcced33774">_6A0CA8_lod_unused</a>;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160; </div>
<div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a0f8ce763612ec1b73c6f7a849896aa95">   30</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a0f8ce763612ec1b73c6f7a849896aa95">LODFile_IconsBitmaps::LoadDummyTexture</a>() {</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#aab3f8f14ea26eff92a721e2d633bf2c7">uNumLoadedFiles</a>; ++i)</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a16cb22b53abeabfb0e5bb19c3ae40f11">pTextures</a>[i].<a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#a2ce37440b37d55351995559664161bd8">header</a>.pName, <span class="stringliteral">&quot;pending&quot;</span>)) <span class="keywordflow">return</span> i;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#af1497f81fa4c1f6dff3eaf1b6a4144f5">LoadTextureFromLOD</a>(&amp;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a16cb22b53abeabfb0e5bb19c3ae40f11">pTextures</a>[<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#aab3f8f14ea26eff92a721e2d633bf2c7">uNumLoadedFiles</a>], <span class="stringliteral">&quot;pending&quot;</span>,</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;                              <a class="code" href="../../d3/db2/_l_o_d_8h.html#a7359f4c244be23e8dc2b5fc4232c8c54ad6e1e94c89d0d857168b1a9278991d16">TEXTURE_24BIT_PALETTE</a>);</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;}</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160; </div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a7f1977e72c2468ad9b60878f186d09c2">   37</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a7f1977e72c2468ad9b60878f186d09c2">LODFile_IconsBitmaps::_inlined_sub2</a>() {</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    ++<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#afef1e59000ea6f4794c3a4e73c355d14">uTexturePacksCount</a>;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a66baf8178c86e1140f3de52db8afe8b2">uNumPrevLoadedFiles</a>) <a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a66baf8178c86e1140f3de52db8afe8b2">uNumPrevLoadedFiles</a> = <a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#aab3f8f14ea26eff92a721e2d633bf2c7">uNumLoadedFiles</a>;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;}</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160; </div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a867b930246771e0c360cf66cd039b6f1">   42</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a867b930246771e0c360cf66cd039b6f1">LODFile_IconsBitmaps::_inlined_sub1</a>() {</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a0e39ceca7dd9de6872262a11aae129cc">dword_11B84</a> = <a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#aab3f8f14ea26eff92a721e2d633bf2c7">uNumLoadedFiles</a>;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;}</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160; </div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="../../d4/d10/class_l_o_d_file___sprites.html#aa43c4b0a0490b8ed62bef44f8c52711e">   46</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#aa43c4b0a0490b8ed62bef44f8c52711e">LODFile_Sprites::_inlined_sub1</a>() {</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#a7dced6d107f62f030f60ec4f00fb0607">field_ECA0</a> = <a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#ae8d0c084d81390a0ae7d095fe41f3dfa">uNumLoadedSprites</a>;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;}</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160; </div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a605e364b2daffc34eb94216d609fd00c">   50</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a605e364b2daffc34eb94216d609fd00c">LODFile_IconsBitmaps::_inlined_sub0</a>() {</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#ad22040f35c72bb7f7756abfced1f9abc">dword_11B80</a> = <a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#aab3f8f14ea26eff92a721e2d633bf2c7">uNumLoadedFiles</a>;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a0e39ceca7dd9de6872262a11aae129cc">dword_11B84</a> &lt; <a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#aab3f8f14ea26eff92a721e2d633bf2c7">uNumLoadedFiles</a>) <a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a0e39ceca7dd9de6872262a11aae129cc">dword_11B84</a> = <a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#aab3f8f14ea26eff92a721e2d633bf2c7">uNumLoadedFiles</a>;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;}</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="../../d4/d10/class_l_o_d_file___sprites.html#a880e1d26583c11f3501ff4163b85737e">   55</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#a880e1d26583c11f3501ff4163b85737e">LODFile_Sprites::_inlined_sub0</a>() {</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#aeec0450ede676905e1c486c634224c29">field_ECA4</a> = <a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#ae8d0c084d81390a0ae7d095fe41f3dfa">uNumLoadedSprites</a>;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#a7dced6d107f62f030f60ec4f00fb0607">field_ECA0</a> &lt; <a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#ae8d0c084d81390a0ae7d095fe41f3dfa">uNumLoadedSprites</a>) <a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#a7dced6d107f62f030f60ec4f00fb0607">field_ECA0</a> = <a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#ae8d0c084d81390a0ae7d095fe41f3dfa">uNumLoadedSprites</a>;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;}</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160; </div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a4bfd0fb1cea836095350e047d077608f">   60</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a4bfd0fb1cea836095350e047d077608f">LODFile_IconsBitmaps::RemoveTexturesFromTextureList</a>() {</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#afef1e59000ea6f4794c3a4e73c355d14">uTexturePacksCount</a>) {</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        <span class="keywordflow">if</span> ((this-&gt;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#aab3f8f14ea26eff92a721e2d633bf2c7">uNumLoadedFiles</a> - 1) &gt;= this-&gt;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a66baf8178c86e1140f3de52db8afe8b2">uNumPrevLoadedFiles</a>) {</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="../../d2/d83/_m_m7_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> i = this-&gt;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#aab3f8f14ea26eff92a721e2d633bf2c7">uNumLoadedFiles</a> - 1;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                 i &gt;= this-&gt;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a66baf8178c86e1140f3de52db8afe8b2">uNumPrevLoadedFiles</a>; --i) {</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                this-&gt;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a16cb22b53abeabfb0e5bb19c3ae40f11">pTextures</a>[i].<a class="code" href="../../d0/ded/struct_texture___m_m7.html#a5d76b76e8d592e2cc382ca2723774b32">Release</a>();</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;            }</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        }</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        this-&gt;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#aab3f8f14ea26eff92a721e2d633bf2c7">uNumLoadedFiles</a> = this-&gt;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a66baf8178c86e1140f3de52db8afe8b2">uNumPrevLoadedFiles</a>;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        this-&gt;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a66baf8178c86e1140f3de52db8afe8b2">uNumPrevLoadedFiles</a> = 0;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        this-&gt;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#afef1e59000ea6f4794c3a4e73c355d14">uTexturePacksCount</a> = 0;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    }</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;}</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160; </div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#afad002ef11dbfec35736f189487c3778">   74</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#afad002ef11dbfec35736f189487c3778">LODFile_IconsBitmaps::RemoveTexturesPackFromTextureList</a>() {</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#afef1e59000ea6f4794c3a4e73c355d14">uTexturePacksCount</a>) {</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        this-&gt;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#afef1e59000ea6f4794c3a4e73c355d14">uTexturePacksCount</a>--;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <span class="keywordflow">if</span> (!this-&gt;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#afef1e59000ea6f4794c3a4e73c355d14">uTexturePacksCount</a>) {</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;            <span class="keywordflow">if</span> ((this-&gt;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#aab3f8f14ea26eff92a721e2d633bf2c7">uNumLoadedFiles</a> - 1) &gt;= this-&gt;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a66baf8178c86e1140f3de52db8afe8b2">uNumPrevLoadedFiles</a>) {</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="../../d2/d83/_m_m7_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> i = this-&gt;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#aab3f8f14ea26eff92a721e2d633bf2c7">uNumLoadedFiles</a> - 1;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                     i &gt;= this-&gt;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a66baf8178c86e1140f3de52db8afe8b2">uNumPrevLoadedFiles</a>; --i) {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                    this-&gt;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a16cb22b53abeabfb0e5bb19c3ae40f11">pTextures</a>[i].<a class="code" href="../../d0/ded/struct_texture___m_m7.html#a5d76b76e8d592e2cc382ca2723774b32">Release</a>();</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                }</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;            }</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;            this-&gt;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#aab3f8f14ea26eff92a721e2d633bf2c7">uNumLoadedFiles</a> = this-&gt;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a66baf8178c86e1140f3de52db8afe8b2">uNumPrevLoadedFiles</a>;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;            this-&gt;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a66baf8178c86e1140f3de52db8afe8b2">uNumPrevLoadedFiles</a> = 0;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        }</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    }</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;}</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160; </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="preprocessor">#pragma pack(push, 1)</span></div>
<div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="../../df/ddf/struct_l_o_d_sprite_line.html">   91</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../df/ddf/struct_l_o_d_sprite_line.html">LODSpriteLine</a> {</div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="../../df/ddf/struct_l_o_d_sprite_line.html#a2df6922750e9cab1f90681c27ccd93dd">   92</a></span>&#160;    <a class="code" href="../../d1/d8f/_s_d_l__config_8h.html#a269259c924dce846340ddbb810db2e3c">int16_t</a> <a class="code" href="../../df/ddf/struct_l_o_d_sprite_line.html#a2df6922750e9cab1f90681c27ccd93dd">begin</a>;</div>
<div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="../../df/ddf/struct_l_o_d_sprite_line.html#af9cf1616941f8170b9e090a2dac450fd">   93</a></span>&#160;    <a class="code" href="../../d1/d8f/_s_d_l__config_8h.html#a269259c924dce846340ddbb810db2e3c">int16_t</a> <a class="code" href="../../df/ddf/struct_l_o_d_sprite_line.html#af9cf1616941f8170b9e090a2dac450fd">end</a>;</div>
<div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="../../df/ddf/struct_l_o_d_sprite_line.html#a94a6b22607b280e45e89d3fccc4b6fd0">   94</a></span>&#160;    <a class="code" href="../../d1/d8f/_s_d_l__config_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="../../df/ddf/struct_l_o_d_sprite_line.html#a94a6b22607b280e45e89d3fccc4b6fd0">offset</a>;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;};</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="preprocessor">#pragma pack(pop)</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160; </div>
<div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="../../d4/d10/class_l_o_d_file___sprites.html#a6704a668ef693d91d861553e1c4d0c49">   98</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#a6704a668ef693d91d861553e1c4d0c49">LODFile_Sprites::LoadSpriteFromFile</a>(<a class="code" href="../../d5/d3a/struct_l_o_d_sprite.html">LODSprite</a> *pSprite, <span class="keyword">const</span> <a class="code" href="../../de/df7/_strings_8h.html#afbeda3fd1bdc8c37d01bdf9f5c8274ff">String</a> &amp;pContainer) {</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    FILE *<a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#a9727a0a74fa79d7c2f968c677320b26f">File</a> = <a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#a3b042a1ac553b2cfdf5b3a1298ce9375">FindContainer</a>(pContainer, 0);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#a9727a0a74fa79d7c2f968c677320b26f">File</a> == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    }</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160; </div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    fread(pSprite, <span class="keyword">sizeof</span>(<a class="code" href="../../d3/ddd/struct_l_o_d_sprite_header.html">LODSpriteHeader</a>), 1, <a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#a9727a0a74fa79d7c2f968c677320b26f">File</a>);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    strcpy(pSprite-&gt;<a class="code" href="../../d3/ddd/struct_l_o_d_sprite_header.html#a2b26d56c08f1c82a96575e4c696f2c12">pName</a>, pContainer.c_str());</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <a class="code" href="../../df/ddf/struct_l_o_d_sprite_line.html">LODSpriteLine</a> *pSpriteLines = <span class="keyword">new</span> <a class="code" href="../../df/ddf/struct_l_o_d_sprite_line.html">LODSpriteLine</a>[pSprite-&gt;<a class="code" href="../../d3/ddd/struct_l_o_d_sprite_header.html#a2a8759678e6fddb22a7316c3d3cc947b">uHeight</a>];</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    fread(pSpriteLines, <span class="keyword">sizeof</span>(<a class="code" href="../../df/ddf/struct_l_o_d_sprite_line.html">LODSpriteLine</a>), pSprite-&gt;<a class="code" href="../../d3/ddd/struct_l_o_d_sprite_header.html#a2a8759678e6fddb22a7316c3d3cc947b">uHeight</a>, <a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#a9727a0a74fa79d7c2f968c677320b26f">File</a>);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160; </div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <a class="code" href="../../d1/d8f/_s_d_l__config_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *pDecompressedBytes = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160; </div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keywordtype">int</span> Sizea = pSprite-&gt;<a class="code" href="../../d3/ddd/struct_l_o_d_sprite_header.html#ab98aceff3f5bef6f1c9db989cbeba57e">uSpriteSize</a>;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordflow">if</span> (pSprite-&gt;<a class="code" href="../../d3/ddd/struct_l_o_d_sprite_header.html#a74381612c6ba66765dca820a7ac1b4be">uDecompressedSize</a>) {</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        pDecompressedBytes = (<a class="code" href="../../d1/d8f/_s_d_l__config_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>*)malloc(pSprite-&gt;<a class="code" href="../../d3/ddd/struct_l_o_d_sprite_header.html#a74381612c6ba66765dca820a7ac1b4be">uDecompressedSize</a>);</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        <span class="keywordtype">void</span> *DstBufa = malloc(Sizea);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        fread(DstBufa, 1, Sizea, <a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#a9727a0a74fa79d7c2f968c677320b26f">File</a>);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <a class="code" href="../../d9/d3e/namespacezlib.html#ae552beaf4387a81c63a28b01a9cc7ab4">zlib::Uncompress</a>(pDecompressedBytes,</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                            (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *)&amp;pSprite-&gt;<a class="code" href="../../d3/ddd/struct_l_o_d_sprite_header.html#a74381612c6ba66765dca820a7ac1b4be">uDecompressedSize</a>,</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                            DstBufa, Sizea);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        pSprite-&gt;<a class="code" href="../../d3/ddd/struct_l_o_d_sprite_header.html#ab98aceff3f5bef6f1c9db989cbeba57e">uSpriteSize</a> = pSprite-&gt;<a class="code" href="../../d3/ddd/struct_l_o_d_sprite_header.html#a74381612c6ba66765dca820a7ac1b4be">uDecompressedSize</a>;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        free(DstBufa);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        pDecompressedBytes = (<a class="code" href="../../d1/d8f/_s_d_l__config_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>*)malloc(Sizea);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        fread(pDecompressedBytes, 1, Sizea, <a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#a9727a0a74fa79d7c2f968c677320b26f">File</a>);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    }</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160; </div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    pSprite-&gt;<a class="code" href="../../d5/d3a/struct_l_o_d_sprite.html#a05a06f7027ea857f4ccc1737a49462a0">bitmap</a> = <span class="keyword">new</span> <a class="code" href="../../d1/d8f/_s_d_l__config_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>[pSprite-&gt;<a class="code" href="../../d3/ddd/struct_l_o_d_sprite_header.html#aa6f9a631d6defe7d4309112ac41af225">uWidth</a> * pSprite-&gt;<a class="code" href="../../d3/ddd/struct_l_o_d_sprite_header.html#a2a8759678e6fddb22a7316c3d3cc947b">uHeight</a>];</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    memset(pSprite-&gt;<a class="code" href="../../d5/d3a/struct_l_o_d_sprite.html#a05a06f7027ea857f4ccc1737a49462a0">bitmap</a>, 0, pSprite-&gt;<a class="code" href="../../d3/ddd/struct_l_o_d_sprite_header.html#aa6f9a631d6defe7d4309112ac41af225">uWidth</a> * pSprite-&gt;<a class="code" href="../../d3/ddd/struct_l_o_d_sprite_header.html#a2a8759678e6fddb22a7316c3d3cc947b">uHeight</a>);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d2/d83/_m_m7_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> i = 0; i &lt; pSprite-&gt;<a class="code" href="../../d3/ddd/struct_l_o_d_sprite_header.html#a2a8759678e6fddb22a7316c3d3cc947b">uHeight</a>; i++) {</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <span class="keywordflow">if</span> (pSpriteLines[i].begin &gt;= 0) {</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;            memcpy(pSprite-&gt;<a class="code" href="../../d5/d3a/struct_l_o_d_sprite.html#a05a06f7027ea857f4ccc1737a49462a0">bitmap</a> + (i * pSprite-&gt;<a class="code" href="../../d3/ddd/struct_l_o_d_sprite_header.html#aa6f9a631d6defe7d4309112ac41af225">uWidth</a>) + pSpriteLines[i].<a class="code" href="../../df/ddf/struct_l_o_d_sprite_line.html#a2df6922750e9cab1f90681c27ccd93dd">begin</a>,</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                pDecompressedBytes + pSpriteLines[i].<a class="code" href="../../df/ddf/struct_l_o_d_sprite_line.html#a94a6b22607b280e45e89d3fccc4b6fd0">offset</a>,</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                pSpriteLines[i].<a class="code" href="../../df/ddf/struct_l_o_d_sprite_line.html#af9cf1616941f8170b9e090a2dac450fd">end</a> - pSpriteLines[i].<a class="code" href="../../df/ddf/struct_l_o_d_sprite_line.html#a2df6922750e9cab1f90681c27ccd93dd">begin</a>);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        }</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    }</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160; </div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keyword">delete</span>[] pSpriteLines;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160; </div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;}</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160; </div>
<div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="../../d4/d10/class_l_o_d_file___sprites.html#ab570cb1e13baf3bdd831c725bbec7489">  141</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#ab570cb1e13baf3bdd831c725bbec7489">LODFile_Sprites::LoadSprites</a>(<span class="keyword">const</span> <a class="code" href="../../de/df7/_strings_8h.html#afbeda3fd1bdc8c37d01bdf9f5c8274ff">String</a> &amp;pFilename) {</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#aa32d8447321690bead61de05f93352be">Open</a>(pFilename)) {</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    }</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160; </div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#a3272ae8caf1e5a3ffb1f2533e46a477b">LoadSubIndices</a>(<span class="stringliteral">&quot;sprites08&quot;</span>);</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;}</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160; </div>
<div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="../../d4/d10/class_l_o_d_file___sprites.html#a9196ad3e3bbbfe3a18751a754aff5661">  149</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#a9196ad3e3bbbfe3a18751a754aff5661">LODFile_Sprites::LoadSprite</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *pContainerName, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> uPaletteID) {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#ae8d0c084d81390a0ae7d095fe41f3dfa">uNumLoadedSprites</a>; ++i) {</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#a01f3e60465267cc393f56ba7c2c54647">pHardwareSprites</a>[i].pName == <a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#a2c952c2df6ae15342439a86dfe56469a">pContainerName</a>) {</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            <span class="keywordflow">return</span> i;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        }</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    }</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160; </div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#ae8d0c084d81390a0ae7d095fe41f3dfa">uNumLoadedSprites</a> &gt;= MAX_LOD_SPRITES) <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="comment">// if not loaded - load from file</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160; </div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#a01f3e60465267cc393f56ba7c2c54647">pHardwareSprites</a>) {</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        <a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#a01f3e60465267cc393f56ba7c2c54647">pHardwareSprites</a> = <span class="keyword">new</span> <a class="code" href="../../d7/dbf/class_sprite.html">Sprite</a>[MAX_LOD_SPRITES];</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    }</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160; </div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    FILE *sprite_file = <a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#a3b042a1ac553b2cfdf5b3a1298ce9375">FindContainer</a>(<a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#a2c952c2df6ae15342439a86dfe56469a">pContainerName</a>, 0);</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordflow">if</span> (!sprite_file) {</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    }</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; </div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    static_assert(<span class="keyword">sizeof</span>(<a class="code" href="../../d3/ddd/struct_l_o_d_sprite_header.html">LODSpriteHeader</a>) == 32, <span class="stringliteral">&quot;Wrong type size&quot;</span>);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160; </div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <a class="code" href="../../d5/d3a/struct_l_o_d_sprite.html">LODSprite</a> *<a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#a2ce37440b37d55351995559664161bd8">header</a> = <span class="keyword">new</span> <a class="code" href="../../d5/d3a/struct_l_o_d_sprite.html">LODSprite</a>();</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#a6704a668ef693d91d861553e1c4d0c49">LoadSpriteFromFile</a>(<a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#a2ce37440b37d55351995559664161bd8">header</a>, <a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#a2c952c2df6ae15342439a86dfe56469a">pContainerName</a>);  <span class="comment">// this line is not present here in the original.</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                                                 <span class="comment">// necessary for Grayface&#39;s mouse picking fix</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160; </div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="comment">// if (uNumLoadedSprites == 879) __debugbreak();</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160; </div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#a01f3e60465267cc393f56ba7c2c54647">pHardwareSprites</a>[<a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#ae8d0c084d81390a0ae7d095fe41f3dfa">uNumLoadedSprites</a>].<a class="code" href="../../d7/dbf/class_sprite.html#a17bba6f8577dd610dae8b296dc08e082">pName</a> = <a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#a2c952c2df6ae15342439a86dfe56469a">pContainerName</a>;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#a01f3e60465267cc393f56ba7c2c54647">pHardwareSprites</a>[<a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#ae8d0c084d81390a0ae7d095fe41f3dfa">uNumLoadedSprites</a>].<a class="code" href="../../d7/dbf/class_sprite.html#a1662017a86b618635bd2f536efd9f177">uBufferWidth</a> = <a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#a2ce37440b37d55351995559664161bd8">header</a>-&gt;uWidth;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#a01f3e60465267cc393f56ba7c2c54647">pHardwareSprites</a>[<a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#ae8d0c084d81390a0ae7d095fe41f3dfa">uNumLoadedSprites</a>].<a class="code" href="../../d7/dbf/class_sprite.html#a17340779c908defa0137d5af828d3de4">uBufferHeight</a> = <a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#a2ce37440b37d55351995559664161bd8">header</a>-&gt;uHeight;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#a01f3e60465267cc393f56ba7c2c54647">pHardwareSprites</a>[<a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#ae8d0c084d81390a0ae7d095fe41f3dfa">uNumLoadedSprites</a>].<a class="code" href="../../d7/dbf/class_sprite.html#a62adfe4afdaa3490797c49c557b4edb0">uPaletteID</a> = uPaletteID;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#a01f3e60465267cc393f56ba7c2c54647">pHardwareSprites</a>[<a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#ae8d0c084d81390a0ae7d095fe41f3dfa">uNumLoadedSprites</a>].<a class="code" href="../../d7/dbf/class_sprite.html#a3d42412fa0ae1138f7f7bcf4e8d85110">texture</a> = <a class="code" href="../../d3/d93/_assets_manager_8cpp.html#a645270130330d2d99964c967b7d33cd8">assets</a>-&gt;<a class="code" href="../../db/dd6/class_assets_manager.html#ae548bd58b748e70c6d31c96e07f2711a">GetSprite</a>(<a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#a2c952c2df6ae15342439a86dfe56469a">pContainerName</a>, uPaletteID, <a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#ae8d0c084d81390a0ae7d095fe41f3dfa">uNumLoadedSprites</a>);</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#a01f3e60465267cc393f56ba7c2c54647">pHardwareSprites</a>[<a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#ae8d0c084d81390a0ae7d095fe41f3dfa">uNumLoadedSprites</a>].<a class="code" href="../../d7/dbf/class_sprite.html#abfce29e515525d2e4caac14fad624ed1">sprite_header</a> = <a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#a2ce37440b37d55351995559664161bd8">header</a>;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160; </div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <a class="code" href="../../d8/dc7/class_h_w_l_texture.html">HWLTexture</a> *hwl = <a class="code" href="../../da/d20/_i_render_8h.html#a21d31464313b2c66ff88d4aa97b66143">render</a>-&gt;LoadHwlSprite(<a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#a2c952c2df6ae15342439a86dfe56469a">pContainerName</a>);</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordflow">if</span> (hwl) {</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#a01f3e60465267cc393f56ba7c2c54647">pHardwareSprites</a>[<a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#ae8d0c084d81390a0ae7d095fe41f3dfa">uNumLoadedSprites</a>].<a class="code" href="../../d7/dbf/class_sprite.html#a1662017a86b618635bd2f536efd9f177">uBufferWidth</a> = hwl-&gt;<a class="code" href="../../d8/dc7/class_h_w_l_texture.html#a3e1a2768419a39174f32ed7cda62cd68">uBufferWidth</a>;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        <a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#a01f3e60465267cc393f56ba7c2c54647">pHardwareSprites</a>[<a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#ae8d0c084d81390a0ae7d095fe41f3dfa">uNumLoadedSprites</a>].<a class="code" href="../../d7/dbf/class_sprite.html#a17340779c908defa0137d5af828d3de4">uBufferHeight</a> = hwl-&gt;<a class="code" href="../../d8/dc7/class_h_w_l_texture.html#a6b47be51f31e138cdb428fdbecf22091">uBufferHeight</a>;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#a01f3e60465267cc393f56ba7c2c54647">pHardwareSprites</a>[<a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#ae8d0c084d81390a0ae7d095fe41f3dfa">uNumLoadedSprites</a>].<a class="code" href="../../d7/dbf/class_sprite.html#ae81a36c461b658b8bb492dee2e341de2">uAreaX</a> = hwl-&gt;<a class="code" href="../../d8/dc7/class_h_w_l_texture.html#ab5b824897e5012cb4a43aedd8c8fcdca">uAreaX</a>;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#a01f3e60465267cc393f56ba7c2c54647">pHardwareSprites</a>[<a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#ae8d0c084d81390a0ae7d095fe41f3dfa">uNumLoadedSprites</a>].<a class="code" href="../../d7/dbf/class_sprite.html#a6e424a9e97b6a8b9fa54c44c851d53f6">uAreaY</a> = hwl-&gt;<a class="code" href="../../d8/dc7/class_h_w_l_texture.html#a0ba7d740ebe00e561490a31183b3f45c">uAreaY</a>;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#a01f3e60465267cc393f56ba7c2c54647">pHardwareSprites</a>[<a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#ae8d0c084d81390a0ae7d095fe41f3dfa">uNumLoadedSprites</a>].<a class="code" href="../../d7/dbf/class_sprite.html#a93e0288935f1c93852df5df668fd3e0d">uAreaWidth</a> = hwl-&gt;<a class="code" href="../../d8/dc7/class_h_w_l_texture.html#a42fb873b4dcf2b24f7d1455cfba85899">uAreaWidth</a>;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#a01f3e60465267cc393f56ba7c2c54647">pHardwareSprites</a>[<a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#ae8d0c084d81390a0ae7d095fe41f3dfa">uNumLoadedSprites</a>].<a class="code" href="../../d7/dbf/class_sprite.html#a0d6e78004a0f061c8c7a8d83e3481b2c">uAreaHeight</a> = hwl-&gt;<a class="code" href="../../d8/dc7/class_h_w_l_texture.html#aeeb5c09589cd4e47b55adfff5d6e88e4">uAreaHeigth</a>;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160; </div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        <span class="keyword">delete</span>[] hwl-&gt;<a class="code" href="../../d8/dc7/class_h_w_l_texture.html#a7cabda64c5a450446ead45765a8f7d7e">pPixels</a>;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        <span class="keyword">delete</span> hwl;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    }</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160; </div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    ++<a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#ae8d0c084d81390a0ae7d095fe41f3dfa">uNumLoadedSprites</a>;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#ae8d0c084d81390a0ae7d095fe41f3dfa">uNumLoadedSprites</a> - 1;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;}</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160; </div>
<div class="line"><a name="l00200"></a><span class="lineno"><a class="line" href="../../d4/d10/class_l_o_d_file___sprites.html#acebc1c7277cc997e48ee873c1ac2c41a">  200</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#acebc1c7277cc997e48ee873c1ac2c41a">LODFile_Sprites::ReleaseLostHardwareSprites</a>() {}</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160; </div>
<div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="../../d4/d10/class_l_o_d_file___sprites.html#a7cc2a39dd8b22581ebe1349541f79f32">  202</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#a7cc2a39dd8b22581ebe1349541f79f32">LODFile_Sprites::ReleaseAll</a>() {}</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160; </div>
<div class="line"><a name="l00204"></a><span class="lineno"><a class="line" href="../../d4/d10/class_l_o_d_file___sprites.html#a79f9016e3fb0defac0e5c66b696caedb">  204</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#a79f9016e3fb0defac0e5c66b696caedb">LODFile_Sprites::MoveSpritesToVideoMemory</a>() {}</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160; </div>
<div class="line"><a name="l00206"></a><span class="lineno"><a class="line" href="../../d5/d3a/struct_l_o_d_sprite.html#a613c426a8a1834c392afd497a0f5be19">  206</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d5/d3a/struct_l_o_d_sprite.html#a613c426a8a1834c392afd497a0f5be19">LODSprite::_4AD2D1_overlays</a>(<span class="keyword">struct</span> <a class="code" href="../../d2/d7a/struct_software_billboard.html">SoftwareBillboard</a> *a2, <span class="keywordtype">int</span> a3) {</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a> = (int)a2;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> v4 = a2-&gt;<a class="code" href="../../d2/d7a/struct_software_billboard.html#a2c828c0243a49998f3a60b71e46144f8">uTargetPitch</a>;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160; </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <a class="code" href="../../d1/d8f/_s_d_l__config_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> *pTarget = (<a class="code" href="../../d1/d8f/_s_d_l__config_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>*)a2-&gt;<a class="code" href="../../d2/d7a/struct_software_billboard.html#a6b31fc0e2f7fc5eb4bc63271cbdbd774">pTarget</a>;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <a class="code" href="../../d1/d8f/_s_d_l__config_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> *pPalette = a2-&gt;<a class="code" href="../../d2/d7a/struct_software_billboard.html#adee1124f71216e779f890db212d76116">pPalette</a>;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    for (<span class="keywordtype">int</span> <a class="code" href="../../df/d32/_s_d_l__egl_8h.html#a1675d9d7bb68e1657ff028643b4037e3">y</a> = 0; <a class="code" href="../../df/d32/_s_d_l__egl_8h.html#a1675d9d7bb68e1657ff028643b4037e3">y</a> &lt; <a class="code" href="../../d3/ddd/struct_l_o_d_sprite_header.html#a2a8759678e6fddb22a7316c3d3cc947b">uHeight</a>; <a class="code" href="../../df/d32/_s_d_l__egl_8h.html#a1675d9d7bb68e1657ff028643b4037e3">y</a>++) {</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../df/d32/_s_d_l__egl_8h.html#ad0e63d0edcdbd3d79554076bf309fd47">x</a> = 0; <a class="code" href="../../df/d32/_s_d_l__egl_8h.html#ad0e63d0edcdbd3d79554076bf309fd47">x</a> &lt; <a class="code" href="../../d3/ddd/struct_l_o_d_sprite_header.html#aa6f9a631d6defe7d4309112ac41af225">uWidth</a>; <a class="code" href="../../df/d32/_s_d_l__egl_8h.html#ad0e63d0edcdbd3d79554076bf309fd47">x</a>++) {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            <a class="code" href="../../d1/d8f/_s_d_l__config_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a3ea846f998d64f079b86052b6c4193a8">color</a> = <a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a6068a789bc2c3cc8cbe16e3280544c9d">bitmap</a>[<a class="code" href="../../df/d32/_s_d_l__egl_8h.html#a1675d9d7bb68e1657ff028643b4037e3">y</a> * <a class="code" href="../../d3/ddd/struct_l_o_d_sprite_header.html#aa6f9a631d6defe7d4309112ac41af225">uWidth</a> + <a class="code" href="../../df/d32/_s_d_l__egl_8h.html#ad0e63d0edcdbd3d79554076bf309fd47">x</a>];</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a3ea846f998d64f079b86052b6c4193a8">color</a> != 0) {</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                pTarget[((a2-&gt;<a class="code" href="../../d2/d7a/struct_software_billboard.html#acb1d82da7d39cd3d465c700483d9d146">screen_space_y</a> + <a class="code" href="../../df/d32/_s_d_l__egl_8h.html#a1675d9d7bb68e1657ff028643b4037e3">y</a>) * a2-&gt;<a class="code" href="../../d2/d7a/struct_software_billboard.html#a2c828c0243a49998f3a60b71e46144f8">uTargetPitch</a>) + a2-&gt;<a class="code" href="../../d2/d7a/struct_software_billboard.html#ab042717b4de36b3dcb05f28ee86fc737">screen_space_x</a> + <a class="code" href="../../df/d32/_s_d_l__egl_8h.html#ad0e63d0edcdbd3d79554076bf309fd47">x</a>] = pPalette[<a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a3ea846f998d64f079b86052b6c4193a8">color</a>];</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            }</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        }</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    }</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a>;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;}</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160; </div>
<div class="line"><a name="l00223"></a><span class="lineno"><a class="line" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a876df44c34fe3ca127c4cd69cd1c0d09">  223</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a876df44c34fe3ca127c4cd69cd1c0d09">LODFile_IconsBitmaps::ReleaseAll2</a>() {</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d2/d83/_m_m7_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> i = (<a class="code" href="../../d2/d83/_m_m7_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>)this-&gt;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a0e39ceca7dd9de6872262a11aae129cc">dword_11B84</a>; i &lt; this-&gt;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#aab3f8f14ea26eff92a721e2d633bf2c7">uNumLoadedFiles</a>; i++) {</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        this-&gt;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a16cb22b53abeabfb0e5bb19c3ae40f11">pTextures</a>[i].<a class="code" href="../../d0/ded/struct_texture___m_m7.html#a5d76b76e8d592e2cc382ca2723774b32">Release</a>();</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    }</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    this-&gt;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#afef1e59000ea6f4794c3a4e73c355d14">uTexturePacksCount</a> = 0;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    this-&gt;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a66baf8178c86e1140f3de52db8afe8b2">uNumPrevLoadedFiles</a> = 0;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    this-&gt;uNumLoadedFiles = this-&gt;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a0e39ceca7dd9de6872262a11aae129cc">dword_11B84</a>;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;}</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160; </div>
<div class="line"><a name="l00232"></a><span class="lineno"><a class="line" href="../../d4/d10/class_l_o_d_file___sprites.html#a173793f7c47dda7a0d31f9e393803ae4">  232</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#a173793f7c47dda7a0d31f9e393803ae4">LODFile_Sprites::DeleteSomeOtherSprites</a>() {</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keywordtype">int</span> *<a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a435c176a02c061b43e19bdf7c86cceae">v1</a> = (<span class="keywordtype">int</span> *)&amp;this-&gt;<a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#ae8d0c084d81390a0ae7d095fe41f3dfa">uNumLoadedSprites</a>;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="keywordtype">int</span> *<a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a0928f6d0f0f794ba000a21dfae422136">v2</a> = &amp;this-&gt;<a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#a7dced6d107f62f030f60ec4f00fb0607">field_ECA0</a>;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#aa5f15ac8ff09508b01b61c97156ffd9f">DeleteSpritesRange</a>(<a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#a7dced6d107f62f030f60ec4f00fb0607">field_ECA0</a>, <a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#ae8d0c084d81390a0ae7d095fe41f3dfa">uNumLoadedSprites</a>);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160; </div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="comment">// testing - do no reset sprite count as we are not clearing sprites</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="comment">// see sprite::release below</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160; </div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    *v1 = *<a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a0928f6d0f0f794ba000a21dfae422136">v2</a>;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;}</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160; </div>
<div class="line"><a name="l00243"></a><span class="lineno"><a class="line" href="../../dd/da7/class_l_o_d_1_1_file.html#ab71fc5e72e25e22a2712c317528db0d9">  243</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#ab71fc5e72e25e22a2712c317528db0d9">LOD::File::Close</a>() {</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#a8f762d0ab8fac8fdcf8fa4d66cec32ed">isFileOpened</a>) {</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    }</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160; </div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#a2c952c2df6ae15342439a86dfe56469a">pContainerName</a>.clear();</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#a3206b35b36bdb0effcfe6a659eaf1f91">pRoot</a>.clear();</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    free(<a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#aa9ff8061e107a4d4524340f0ce20a358">pSubIndices</a>);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#aa9ff8061e107a4d4524340f0ce20a358">pSubIndices</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    fclose(<a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#a686f8c6509748a20a067d674590c1ccb">pFile</a>);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#a8f762d0ab8fac8fdcf8fa4d66cec32ed">isFileOpened</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <a class="code" href="../../de/d42/_l_o_d_8cpp.html#a5e3e5362d7a687a56b2fa1dcced33774">_6A0CA8_lod_unused</a> = 0;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;}</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; </div>
<div class="line"><a name="l00257"></a><span class="lineno"><a class="line" href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#af9d92a6612fd61455a2eb8a6e874f6a6">  257</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#af9d92a6612fd61455a2eb8a6e874f6a6">LOD::WriteableFile::CreateNewLod</a>(<a class="code" href="../../dc/d2a/struct_l_o_d_1_1_file_header.html">LOD::FileHeader</a> *pHeader,</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                                     <span class="keyword">const</span> <a class="code" href="../../de/df7/_strings_8h.html#afbeda3fd1bdc8c37d01bdf9f5c8274ff">String</a> &amp;root_name, <span class="keyword">const</span> <a class="code" href="../../de/df7/_strings_8h.html#afbeda3fd1bdc8c37d01bdf9f5c8274ff">String</a> &amp;lod_name) {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="keywordflow">if</span> (isFileOpened) <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="keywordflow">if</span> (root_name.empty()) {</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        <span class="keywordflow">return</span> 2;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    }</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    strcpy(pHeader-&gt;<a class="code" href="../../dc/d2a/struct_l_o_d_1_1_file_header.html#aa7eba80a70657b5de410d8bb03d385dd">pSignature</a>, <span class="stringliteral">&quot;LOD&quot;</span>);</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    pHeader-&gt;<a class="code" href="../../dc/d2a/struct_l_o_d_1_1_file_header.html#aee287b83a43727c658827999bd82a801">LODSize</a> = 100;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    pHeader-&gt;<a class="code" href="../../dc/d2a/struct_l_o_d_1_1_file_header.html#a240d59af40663fc994f669ed9fd3afcf">uNumIndices</a> = 1;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160; </div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html">LOD::Directory</a> dir;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    strcpy(dir.<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html#a6c35e089ebc35dd9b6395ce39103a143">pFilename</a>, root_name.c_str());</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    dir.<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html#a6dfe8258b88fd9779ee6618fb399af4b">field_F</a> = 0;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    dir.<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html#a07c35304ad77ebcadebd6723c4a7b4b2">uDataSize</a> = 0;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    dir.<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html#ad30863092cc0c0423490917d6d2721c1">uOfsetFromSubindicesStart</a> = <span class="keyword">sizeof</span>(<a class="code" href="../../dc/d2a/struct_l_o_d_1_1_file_header.html">LOD::FileHeader</a>) + <span class="keyword">sizeof</span>(<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html">LOD::Directory</a>);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    pLODName = lod_name;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160; </div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    pFile = fopen(pLODName.c_str(), <span class="stringliteral">&quot;wb+&quot;</span>);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keywordflow">if</span> (!pFile) <span class="keywordflow">return</span> 3;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    fwrite(pHeader, <span class="keyword">sizeof</span>(<a class="code" href="../../dc/d2a/struct_l_o_d_1_1_file_header.html">LOD::FileHeader</a>), 1, pFile);</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    fwrite(&amp;dir, <span class="keyword">sizeof</span>(<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html">LOD::Directory</a>), 1, pFile);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    fclose(pFile);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    pFile = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;}</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160; </div>
<div class="line"><a name="l00283"></a><span class="lineno"><a class="line" href="../../dd/da7/class_l_o_d_1_1_file.html#a5f6af489e25a2a9a623cad5f8c923ea9">  283</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#a5f6af489e25a2a9a623cad5f8c923ea9">LOD::File::ResetSubIndices</a>() {</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="keywordflow">if</span> (!isFileOpened) {</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    }</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160; </div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    pContainerName.clear();</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    uOffsetToSubIndex = 0;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    free(pSubIndices);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    pSubIndices = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;}</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160; </div>
<div class="line"><a name="l00294"></a><span class="lineno"><a class="line" href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#a9701458ff3b4a3009e6acc4e706d2060">  294</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#a9701458ff3b4a3009e6acc4e706d2060">LOD::WriteableFile::ResetSubIndices</a>() {</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#a5f6af489e25a2a9a623cad5f8c923ea9">LOD::File::ResetSubIndices</a>();</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    uLODDataSize = 0;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;}</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160; </div>
<div class="line"><a name="l00299"></a><span class="lineno"><a class="line" href="../../d4/d10/class_l_o_d_file___sprites.html#af31329dee5aecf30f01cad682e6a6532">  299</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#af31329dee5aecf30f01cad682e6a6532">LODFile_Sprites::DeleteSomeSprites</a>() {</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keywordtype">int</span> *<a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a435c176a02c061b43e19bdf7c86cceae">v1</a> = (<span class="keywordtype">int</span> *)&amp;this-&gt;uNumLoadedSprites;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="keywordtype">int</span> *<a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a0928f6d0f0f794ba000a21dfae422136">v2</a> = &amp;this-&gt;field_ECA8;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    DeleteSpritesRange(this-&gt;field_ECA8, this-&gt;uNumLoadedSprites);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    *<a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a435c176a02c061b43e19bdf7c86cceae">v1</a> = *<a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a0928f6d0f0f794ba000a21dfae422136">v2</a>;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;}</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160; </div>
<div class="line"><a name="l00306"></a><span class="lineno"><a class="line" href="../../d4/d10/class_l_o_d_file___sprites.html#aa5f15ac8ff09508b01b61c97156ffd9f">  306</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#aa5f15ac8ff09508b01b61c97156ffd9f">LODFile_Sprites::DeleteSpritesRange</a>(<span class="keywordtype">int</span> uStartIndex, <span class="keywordtype">int</span> uStopIndex) {</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="keywordflow">if</span> (this-&gt;pHardwareSprites) {</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <span class="keywordflow">if</span> (uStartIndex &lt; uStopIndex) {</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = uStartIndex; i &lt; uStopIndex; i++) {</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                pHardwareSprites[i].Release();</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;            }</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        }</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    }</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;}</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160; </div>
<div class="line"><a name="l00316"></a><span class="lineno"><a class="line" href="../../d5/d3a/struct_l_o_d_sprite.html#a0c453eb34653c70f4ec9a4af8f9e3bbb">  316</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d5/d3a/struct_l_o_d_sprite.html#a0c453eb34653c70f4ec9a4af8f9e3bbb">LODSprite::Release</a>() {</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keywordflow">if</span> (!(this-&gt;word_1A &amp; 0x400)) {</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <span class="keyword">delete</span>[] <a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a6068a789bc2c3cc8cbe16e3280544c9d">bitmap</a>;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    }</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160; </div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    this-&gt;word_1A = 0;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    this-&gt;<a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a6068a789bc2c3cc8cbe16e3280544c9d">bitmap</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    this-&gt;pName[0] = 0;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    this-&gt;word_16 = 0;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    this-&gt;uPaletteId = 0;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    this-&gt;uTexturePitch = 0;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    this-&gt;uHeight = 0;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    this-&gt;uWidth = 0;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    this-&gt;uSpriteSize = 0;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;}</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160; </div>
<div class="line"><a name="l00332"></a><span class="lineno"><a class="line" href="../../d7/dbf/class_sprite.html#af4dbf5050ce0c7839d5c3e1efbd16a13">  332</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/dbf/class_sprite.html#af4dbf5050ce0c7839d5c3e1efbd16a13">Sprite::Release</a>() {</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160; </div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="comment">// testing actually clearing sprites on release</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="comment">// causes error - if sprite is requested multiple times asset manager can delete</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="comment">// image which may be referenced elsewhere resulting in MAV</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160; </div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="comment">// bodge for the time being, not resetting loading sprites</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="comment">// reduces memory leak on level transition</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160; </div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    this-&gt;sprite_header-&gt;Release();</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    this-&gt;<a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a8f486379aef534669f4f06f515e7ce6c">texture</a>-&gt;Release();</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    this-&gt;<a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a8f486379aef534669f4f06f515e7ce6c">texture</a> = NULL;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    this-&gt;pName = <span class="stringliteral">&quot;NULL&quot;</span>;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    this-&gt;uPaletteID = 0;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;}</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160; </div>
<div class="line"><a name="l00349"></a><span class="lineno"><a class="line" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a4dee0cef5889e168087a29bce53180c9">  349</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a4dee0cef5889e168087a29bce53180c9">LODFile_IconsBitmaps::Load</a>(<span class="keyword">const</span> <a class="code" href="../../de/df7/_strings_8h.html#afbeda3fd1bdc8c37d01bdf9f5c8274ff">String</a> &amp;pLODFilename, <span class="keyword">const</span> <a class="code" href="../../de/df7/_strings_8h.html#afbeda3fd1bdc8c37d01bdf9f5c8274ff">String</a> &amp;pFolderName) {</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="keywordflow">if</span> (!Open(pLODFilename)) {</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    }</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160; </div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="keywordflow">return</span> LoadSubIndices(pFolderName);</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;}</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160; </div>
<div class="line"><a name="l00357"></a><span class="lineno"><a class="line" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a16811d8783e355f6b3bc79d58c4b4cf1">  357</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a16811d8783e355f6b3bc79d58c4b4cf1">LODFile_IconsBitmaps::ReleaseAll</a>() {</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d2/d83/_m_m7_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> i = 0; i &lt; this-&gt;uNumLoadedFiles; i++) {</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        this-&gt;pTextures[i].Release();</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    }</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    this-&gt;uTexturePacksCount = 0;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    this-&gt;uNumPrevLoadedFiles = 0;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    this-&gt;dword_11B84 = 0;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    this-&gt;dword_11B80 = 0;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    this-&gt;uNumLoadedFiles = 0;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;}</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160; </div>
<div class="line"><a name="l00368"></a><span class="lineno"><a class="line" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a2fc325c4e49216a8478889440d643d47">  368</a></span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a2fc325c4e49216a8478889440d643d47">LODFile_IconsBitmaps::FindTextureByName</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *pName) {</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d2/d83/_m_m7_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> i = 0; i &lt; this-&gt;uNumLoadedFiles; i++) {</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        <span class="keywordflow">if</span> (!_stricmp(this-&gt;pTextures[i].header.pName, pName)) <span class="keywordflow">return</span> i;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    }</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;}</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160; </div>
<div class="line"><a name="l00375"></a><span class="lineno"><a class="line" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#af755857003247d41569d61f88e8993dd">  375</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#af755857003247d41569d61f88e8993dd">LODFile_IconsBitmaps::SyncLoadedFilesCount</a>() {</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <a class="code" href="../../d0/ded/struct_texture___m_m7.html">Texture_MM7</a> *pTex;  <span class="comment">// edx@1</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160; </div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="keywordtype">int</span> loaded_files = this-&gt;uNumLoadedFiles;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="keywordflow">for</span> (pTex = &amp;this-&gt;pTextures[loaded_files]; !pTex-&gt;<a class="code" href="../../d0/ded/struct_texture___m_m7.html#a97b3fae1ab456cc63971d88fef8a5220">header</a>.<a class="code" href="../../d6/de3/struct_texture_header.html#a4d1880dcef67ab59091b83d76e92cf0c">pName</a>[0]; --pTex)</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        --loaded_files;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="keywordflow">if</span> (loaded_files &lt; (<span class="keywordtype">signed</span> <span class="keywordtype">int</span>)this-&gt;uNumLoadedFiles) {</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        ++loaded_files;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        this-&gt;uNumLoadedFiles = loaded_files;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    }</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;}</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160; </div>
<div class="line"><a name="l00387"></a><span class="lineno"><a class="line" href="../../d4/d10/class_l_o_d_file___sprites.html#af49ed65a529b822c88e2512295ca2547">  387</a></span>&#160;<a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#af49ed65a529b822c88e2512295ca2547">LODFile_Sprites::~LODFile_Sprites</a>() {</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordflow">if</span> (this-&gt;pHardwareSprites) {</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; this-&gt;uNumLoadedSprites; ++i) {</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;            this-&gt;pHardwareSprites[i].Release();</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        }</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    }</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;}</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160; </div>
<div class="line"><a name="l00395"></a><span class="lineno"><a class="line" href="../../d5/d3a/struct_l_o_d_sprite.html#aa0fe41b264ee801bf7198d296b5e6cd2">  395</a></span>&#160;<a class="code" href="../../d5/d3a/struct_l_o_d_sprite.html#aa0fe41b264ee801bf7198d296b5e6cd2">LODSprite::~LODSprite</a>() {</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="keywordflow">if</span> (!(this-&gt;word_1A &amp; 0x400)) {</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        <span class="keyword">delete</span>[] <a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a6068a789bc2c3cc8cbe16e3280544c9d">bitmap</a>;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    }</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a6068a789bc2c3cc8cbe16e3280544c9d">bitmap</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;}</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160; </div>
<div class="line"><a name="l00402"></a><span class="lineno"><a class="line" href="../../d4/d10/class_l_o_d_file___sprites.html#af78a4ebaa4eb5fac65f67bf1e6f48b96">  402</a></span>&#160;<a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#af78a4ebaa4eb5fac65f67bf1e6f48b96">LODFile_Sprites::LODFile_Sprites</a>() : <a class="code" href="../../d7/d3d/namespace_l_o_d.html">LOD</a>::File() {</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#aeec0450ede676905e1c486c634224c29">field_ECA4</a> = 0;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#a7dced6d107f62f030f60ec4f00fb0607">field_ECA0</a> = 0;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#a01f3e60465267cc393f56ba7c2c54647">pHardwareSprites</a> = 0;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="comment">// can_load_hardware_sprites = 0;</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#ae166d0dc750252c87568a5d8ea8128b2">field_ECB4</a> = 0;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#ae8d0c084d81390a0ae7d095fe41f3dfa">uNumLoadedSprites</a> = 0;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;}</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160; </div>
<div class="line"><a name="l00411"></a><span class="lineno"><a class="line" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a72852d758b7dc7ea01fa340b2de6afda">  411</a></span>&#160;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a72852d758b7dc7ea01fa340b2de6afda">LODFile_IconsBitmaps::~LODFile_IconsBitmaps</a>() {</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d2/d83/_m_m7_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> i = 0; i &lt; this-&gt;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#aab3f8f14ea26eff92a721e2d633bf2c7">uNumLoadedFiles</a>; i++) {</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        this-&gt;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a16cb22b53abeabfb0e5bb19c3ae40f11">pTextures</a>[i].<a class="code" href="../../d0/ded/struct_texture___m_m7.html#a5d76b76e8d592e2cc382ca2723774b32">Release</a>();</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    }</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    free(this-&gt;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a1c01dd4bf92624c87f1d67b1231ab3c8">pHardwareSurfaces</a>);</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    free(this-&gt;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#ae821102d189d4e684355ce8474b88adf">pHardwareTextures</a>);</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    free(this-&gt;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a045879eced651194c9304fece2c5e1d3">ptr_011BB4</a>);</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="comment">// LOD::File::vdtor((LOD::File *)v1);</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;}</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160; </div>
<div class="line"><a name="l00421"></a><span class="lineno"><a class="line" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a0decaaa41d5f8bf4e41461592762742e">  421</a></span>&#160;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a0decaaa41d5f8bf4e41461592762742e">LODFile_IconsBitmaps::LODFile_IconsBitmaps</a>() : <a class="code" href="../../d7/d3d/namespace_l_o_d.html">LOD</a>::File() {</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="comment">/*v2 = v1-&gt;pTextures;</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="comment">    v3 = 1000;</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="comment">    do</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="comment">    {</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="comment">      Texture_MM7::Texture_MM7(v2);</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="comment">      ++v2;</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="comment">      --v3;</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="comment">    }</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="comment">    while ( v3 );*/</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    this-&gt;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#afef1e59000ea6f4794c3a4e73c355d14">uTexturePacksCount</a> = 0;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    this-&gt;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a66baf8178c86e1140f3de52db8afe8b2">uNumPrevLoadedFiles</a> = 0;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    this-&gt;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a0e39ceca7dd9de6872262a11aae129cc">dword_11B84</a> = 0;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    this-&gt;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#ad22040f35c72bb7f7756abfced1f9abc">dword_11B80</a> = 0;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    this-&gt;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#aab3f8f14ea26eff92a721e2d633bf2c7">uNumLoadedFiles</a> = 0;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    this-&gt;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#aeef1f10d837cae7959a7603437d70bf2">_011BA4_debug_paletted_pixels_uncompressed</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="comment">// this-&gt;can_load_hardware_sprites = 0;</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    this-&gt;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a1c01dd4bf92624c87f1d67b1231ab3c8">pHardwareSurfaces</a> = 0;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    this-&gt;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#ae821102d189d4e684355ce8474b88adf">pHardwareTextures</a> = 0;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    this-&gt;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a045879eced651194c9304fece2c5e1d3">ptr_011BB4</a> = 0;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    this-&gt;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a815a8b0317d8091fb49c90be49644937">uTextureRedBits</a> = 0;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    this-&gt;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a40922a3dc75166dd4897c01e7ece40bf">uTextureGreenBits</a> = 0;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    this-&gt;<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a104439898e87d726479c193944391daa">uTextureBlueBits</a> = 0;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;}</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160; </div>
<div class="line"><a name="l00446"></a><span class="lineno"><a class="line" href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#aad84dd1910dc1e0792222eeb04e5a780">  446</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#aad84dd1910dc1e0792222eeb04e5a780">LOD::WriteableFile::_4621A7</a>() {  <span class="comment">// закрыть и загрузить записываемый ф-л(при</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                                    <span class="comment">// сохранении)</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <a class="code" href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#afeb4addbf259dbd7a4dbe4659c5291a5">CloseWriteFile</a>();</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#aafc283e61cafbda02bf0c4828e579046">LoadFile</a>(<a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#a4d14fe6afb04d6cc126047e44bf82b62">pLODName</a>, 0);</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;}</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160; </div>
<div class="line"><a name="l00452"></a><span class="lineno"><a class="line" href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#a9edb5a59b1a9ca2ea1526b3f52ef8cd5">  452</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#a9edb5a59b1a9ca2ea1526b3f52ef8cd5">LOD::WriteableFile::FixDirectoryOffsets</a>() {</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> total_size = 0;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; uNumSubDirs; i++) {</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        total_size += pSubIndices[i].uDataSize;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    }</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160; </div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="comment">// fix offsets</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <span class="keywordtype">int</span> temp_offset = <span class="keyword">sizeof</span>(<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html">LOD::Directory</a>) * uNumSubDirs;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; uNumSubDirs; i++) {</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        pSubIndices[i].uOfsetFromSubindicesStart = temp_offset;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        temp_offset += pSubIndices[i].uDataSize;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    }</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160; </div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <a class="code" href="../../de/df7/_strings_8h.html#afbeda3fd1bdc8c37d01bdf9f5c8274ff">String</a> Filename = <span class="stringliteral">&quot;lod.tmp&quot;</span>;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    FILE *tmp_file = fopen(Filename.c_str(), <span class="stringliteral">&quot;wb+&quot;</span>);</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="keywordflow">if</span> (tmp_file == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        <span class="keywordflow">return</span> 5;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    }</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160; </div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    fwrite((<span class="keyword">const</span> <span class="keywordtype">void</span> *)&amp;header, <span class="keyword">sizeof</span>(<a class="code" href="../../dc/d2a/struct_l_o_d_1_1_file_header.html">LOD::FileHeader</a>), 1, tmp_file);</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160; </div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html">LOD::Directory</a> Lindx;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    strcpy(Lindx.<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html#a6c35e089ebc35dd9b6395ce39103a143">pFilename</a>, <span class="stringliteral">&quot;chapter&quot;</span>);</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    Lindx.<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html#ad30863092cc0c0423490917d6d2721c1">uOfsetFromSubindicesStart</a> = uOffsetToSubIndex;  <span class="comment">// 10h 16</span></div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    Lindx.<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html#a07c35304ad77ebcadebd6723c4a7b4b2">uDataSize</a> =</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        <span class="keyword">sizeof</span>(<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html">LOD::Directory</a>) * uNumSubDirs + total_size;  <span class="comment">// 14h 20</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    Lindx.<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html#a16089cbcd4916d32dde7a317dfb0df57">dword_000018</a> = 0;                                 <span class="comment">// 18h 24</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    Lindx.<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html#a1cf98cab9a3a11b448535dbcf07677dd">uNumSubIndices</a> = uNumSubDirs;                     <span class="comment">// 1ch 28</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    Lindx.<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html#a6eb5efcc045b07f5356a5483f78cf551">priority</a> = 0;                                  <span class="comment">// 1Eh 30</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    fwrite(&amp;Lindx, <span class="keyword">sizeof</span>(<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html">LOD::Directory</a>), 1, tmp_file);</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    fwrite(pSubIndices, <span class="keyword">sizeof</span>(<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html">LOD::Directory</a>), uNumSubDirs, tmp_file);</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    fseek(pOutputFileHandle, 0, 0);</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="keywordflow">while</span> (total_size &gt; 0) {</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        <span class="keywordtype">int</span> write_size = uIOBufferSize;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        <span class="keywordflow">if</span> (total_size &lt;= uIOBufferSize) {</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;            write_size = total_size;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        }</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        fread(pIOBuffer, 1, write_size, pOutputFileHandle);</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        fwrite(pIOBuffer, 1, write_size, tmp_file);</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        total_size -= write_size;</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    }</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160; </div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    fclose(tmp_file);</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    fclose(pOutputFileHandle);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    CloseWriteFile();</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    remove(<span class="stringliteral">&quot;lodapp.tmp&quot;</span>);</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    remove(pLODName.c_str());</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    rename(Filename.c_str(), pLODName.c_str());</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    CloseWriteFile();</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    LoadFile(pLODName.c_str(), 0);</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160; </div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;}</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160; </div>
<div class="line"><a name="l00506"></a><span class="lineno"><a class="line" href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#a8c729016eb47a76a3f9242978c4ab87a">  506</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#a8c729016eb47a76a3f9242978c4ab87a">LOD::WriteableFile::AppendDirectory</a>(<span class="keyword">const</span> <a class="code" href="../../de/df7/_strings_8h.html#afbeda3fd1bdc8c37d01bdf9f5c8274ff">String</a> &amp;file_name, <span class="keyword">const</span> <span class="keywordtype">void</span> *pData, <span class="keywordtype">size_t</span> data_size) {</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    Assert(uNumSubDirs &lt; 299);</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160; </div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html">LOD::Directory</a> dir;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    strcpy(dir.<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html#a6c35e089ebc35dd9b6395ce39103a143">pFilename</a>, file_name.c_str());</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    dir.<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html#a07c35304ad77ebcadebd6723c4a7b4b2">uDataSize</a> = data_size;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160; </div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    memcpy(&amp;pSubIndices[uNumSubDirs++], &amp;dir, <span class="keyword">sizeof</span>(<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html">LOD::Directory</a>));</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    fwrite(pData, 1, dir.<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html#a07c35304ad77ebcadebd6723c4a7b4b2">uDataSize</a>, pOutputFileHandle);</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;}</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160; </div>
<div class="line"><a name="l00518"></a><span class="lineno"><a class="line" href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#aa23b1e6780c9e8a1a2db3e617aa252ca">  518</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#aa23b1e6780c9e8a1a2db3e617aa252ca">LOD::WriteableFile::CreateTempFile</a>() {</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <span class="keywordflow">if</span> (!isFileOpened) <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160; </div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <span class="keywordflow">if</span> (pIOBuffer &amp;&amp; uIOBufferSize) {</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        uNumSubDirs = 0;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        pOutputFileHandle = fopen(<span class="stringliteral">&quot;lodapp.tmp&quot;</span>, <span class="stringliteral">&quot;wb+&quot;</span>);</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        <span class="keywordflow">return</span> pOutputFileHandle ? 1 : 7;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        <span class="keywordflow">return</span> 5;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    }</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;}</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160; </div>
<div class="line"><a name="l00530"></a><span class="lineno"><a class="line" href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#afeb4addbf259dbd7a4dbe4659c5291a5">  530</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#afeb4addbf259dbd7a4dbe4659c5291a5">LOD::WriteableFile::CloseWriteFile</a>() {</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <span class="keywordflow">if</span> (isFileOpened) {</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        pContainerName[0] = 0;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        <a class="code" href="../../de/d42/_l_o_d_8cpp.html#a5e3e5362d7a687a56b2fa1dcced33774">_6A0CA8_lod_unused</a> = 0;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160; </div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        isFileOpened = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        fflush(pFile);</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        fclose(pFile);</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        pFile = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    }</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <span class="comment">// else</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <span class="comment">// __debugbreak();</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;}</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160; </div>
<div class="line"><a name="l00544"></a><span class="lineno"><a class="line" href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#ab648acee2342b9ad720942ffa90536a0">  544</a></span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#ab648acee2342b9ad720942ffa90536a0">LOD::WriteableFile::Write</a>(<span class="keyword">const</span> <a class="code" href="../../de/df7/_strings_8h.html#afbeda3fd1bdc8c37d01bdf9f5c8274ff">String</a> &amp;file_name, <span class="keyword">const</span> <span class="keywordtype">void</span> *pDirData, <span class="keywordtype">size_t</span> <a class="code" href="../../db/d76/group__lavu__mem__funcs.html#ga3d1e3edfcf61ca2d831883e1afbad89e">size</a>, <span class="keywordtype">int</span> a4) {</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html">LOD::Directory</a> dir;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    strcpy(dir.<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html#a6c35e089ebc35dd9b6395ce39103a143">pFilename</a>, file_name.c_str());</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    dir.<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html#a07c35304ad77ebcadebd6723c4a7b4b2">uDataSize</a> = <a class="code" href="../../db/d76/group__lavu__mem__funcs.html#ga3d1e3edfcf61ca2d831883e1afbad89e">size</a>;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160; </div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <span class="comment">// insert new data in sorted index lod file</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <span class="keywordtype">bool</span> bRewrite_data = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <span class="keywordtype">int</span> insert_index = -1;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <span class="keywordflow">if</span> (!isFileOpened) {  <span class="comment">// sometimes gives crash</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    }</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <span class="keywordflow">if</span> (!pSubIndices) {</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        <span class="keywordflow">return</span> 2;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    }</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <span class="keywordflow">if</span> (!pIOBuffer || !uIOBufferSize) {</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        <span class="keywordflow">return</span> 3;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    }</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160; </div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; uNumSubDirs; i++) {</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        <span class="keywordtype">int</span> comp_res = _stricmp(pSubIndices[i].pFilename, dir.<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html#a6c35e089ebc35dd9b6395ce39103a143">pFilename</a>);</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        <span class="keywordflow">if</span> (comp_res == 0) {</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;            insert_index = i;</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;            <span class="keywordflow">if</span> (a4 == 0) {</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                bRewrite_data = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;            }</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;            <span class="keywordflow">if</span> (a4 == 1) {</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;                <span class="keywordflow">if</span> (pSubIndices[i].uNumSubIndices &lt; dir.<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html#a1cf98cab9a3a11b448535dbcf07677dd">uNumSubIndices</a>) {</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;                    <span class="keywordflow">if</span> (pSubIndices[i].priority &lt; dir.<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html#a6eb5efcc045b07f5356a5483f78cf551">priority</a>)</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;                        <span class="keywordflow">return</span> 4;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;                    bRewrite_data = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;                }</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;            }</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;            <span class="keywordflow">if</span> (a4 == 2) <span class="keywordflow">return</span> 4;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (comp_res &gt; 0) {</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;            <span class="keywordflow">if</span> (insert_index == -1) {</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                insert_index = i;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;            }</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        }</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    }</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160; </div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="keywordtype">int</span> size_correction = 0;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <a class="code" href="../../de/df7/_strings_8h.html#afbeda3fd1bdc8c37d01bdf9f5c8274ff">String</a> Filename = <span class="stringliteral">&quot;lod.tmp&quot;</span>;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    FILE *tmp_file = fopen(Filename.c_str(), <span class="stringliteral">&quot;wb+&quot;</span>);</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <span class="keywordflow">if</span> (!tmp_file) <span class="keywordflow">return</span> 5;</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="keywordflow">if</span> (!bRewrite_data)</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        size_correction = 0;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;        size_correction = pSubIndices[insert_index].uDataSize;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160; </div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <span class="comment">// create chapter index</span></div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html">LOD::Directory</a> Lindx;</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    strcpy(Lindx.<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html#a6c35e089ebc35dd9b6395ce39103a143">pFilename</a>, <span class="stringliteral">&quot;chapter&quot;</span>);</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    Lindx.<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html#a16089cbcd4916d32dde7a317dfb0df57">dword_000018</a> = 0;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    Lindx.<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html#a6eb5efcc045b07f5356a5483f78cf551">priority</a> = 0;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    Lindx.<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html#a1cf98cab9a3a11b448535dbcf07677dd">uNumSubIndices</a> = uNumSubDirs;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    Lindx.<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html#ad30863092cc0c0423490917d6d2721c1">uOfsetFromSubindicesStart</a> = <span class="keyword">sizeof</span>(<a class="code" href="../../dc/d2a/struct_l_o_d_1_1_file_header.html">LOD::FileHeader</a>) + <span class="keyword">sizeof</span>(<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html">LOD::Directory</a>);</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <span class="keywordtype">int</span> total_data_size = uLODDataSize + dir.<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html#a07c35304ad77ebcadebd6723c4a7b4b2">uDataSize</a> - size_correction;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <span class="keywordflow">if</span> (!bRewrite_data) {</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        total_data_size += <span class="keyword">sizeof</span>(<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html">LOD::Directory</a>);</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        Lindx.<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html#a1cf98cab9a3a11b448535dbcf07677dd">uNumSubIndices</a>++;</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    }</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160; </div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    Lindx.<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html#a07c35304ad77ebcadebd6723c4a7b4b2">uDataSize</a> = total_data_size;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    uNumSubDirs = Lindx.<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html#a1cf98cab9a3a11b448535dbcf07677dd">uNumSubIndices</a>;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <span class="comment">// move indexes +1 after insert point</span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <span class="keywordflow">if</span> (!bRewrite_data &amp;&amp;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        (insert_index &lt; uNumSubDirs)) {  <span class="comment">// перезаписывание файлов для освобождения</span></div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                                         <span class="comment">// места для нового ф-ла</span></div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = uNumSubDirs; i &gt; insert_index; --i)</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;            memcpy(&amp;pSubIndices[i], &amp;pSubIndices[i - 1],</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                   <span class="keyword">sizeof</span>(<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html">LOD::Directory</a>));  <span class="comment">// Uninitialized memory access</span></div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    }</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <span class="comment">// insert</span></div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    memcpy(&amp;pSubIndices[insert_index], &amp;dir, <span class="keyword">sizeof</span>(<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html">LOD::Directory</a>));  <span class="comment">// записать текущий файл</span></div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <span class="comment">// correct offsets to data</span></div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <span class="keywordflow">if</span> (uNumSubDirs &gt; 0) {</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;        <span class="keywordtype">size_t</span> offset_to_data = <span class="keyword">sizeof</span>(<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html">LOD::Directory</a>) * uNumSubDirs;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; uNumSubDirs; i++) {</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;            pSubIndices[i].uOfsetFromSubindicesStart = offset_to_data;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;            offset_to_data += pSubIndices[i].uDataSize;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        }</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    }</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160; </div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    <span class="comment">// construct lod file with added data</span></div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    fwrite(&amp;header, <span class="keyword">sizeof</span>(<a class="code" href="../../dc/d2a/struct_l_o_d_1_1_file_header.html">LOD::FileHeader</a>), 1, tmp_file);</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    fwrite(&amp;Lindx, <span class="keyword">sizeof</span>(<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html">LOD::Directory</a>), 1, tmp_file);</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    fseek(pFile, Lindx.<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html#ad30863092cc0c0423490917d6d2721c1">uOfsetFromSubindicesStart</a>, SEEK_SET);</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    fwrite(pSubIndices, <span class="keyword">sizeof</span>(<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html">LOD::Directory</a>), uNumSubDirs, tmp_file);</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160; </div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    <span class="keywordtype">size_t</span> offset_to_data = <span class="keyword">sizeof</span>(<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html">LOD::Directory</a>) * uNumSubDirs;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    <span class="keywordflow">if</span> (!bRewrite_data) offset_to_data -= <span class="keyword">sizeof</span>(<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html">LOD::Directory</a>);</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160; </div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    fseek(pFile, offset_to_data, SEEK_CUR);</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <span class="comment">// copy from open lod to temp lod first half</span></div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <span class="keywordtype">int</span> to_copy_size = pSubIndices[insert_index].uOfsetFromSubindicesStart -</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;                       pSubIndices[0].uOfsetFromSubindicesStart;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    <span class="keywordflow">while</span> (to_copy_size &gt; 0) {</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;        <span class="keywordtype">int</span> read_size = uIOBufferSize;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;        <span class="keywordflow">if</span> (to_copy_size &lt;= uIOBufferSize) read_size = to_copy_size;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        fread(pIOBuffer, 1, read_size, pFile);</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;        fwrite(pIOBuffer, 1, read_size, tmp_file);</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        to_copy_size -= read_size;</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    }</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <span class="comment">// add container data</span></div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    fwrite(pDirData, 1, dir.<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html#a07c35304ad77ebcadebd6723c4a7b4b2">uDataSize</a>, tmp_file);  <span class="comment">// Uninitialized memory access(tmp_file)</span></div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    <span class="keywordflow">if</span> (bRewrite_data) fseek(pFile, size_correction, SEEK_CUR);</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160; </div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <span class="comment">// add remainng data  last half</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <span class="keywordtype">int</span> curr_position = ftell(pFile);</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    fseek(pFile, 0, SEEK_END);</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    to_copy_size = ftell(pFile) - curr_position;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    fseek(pFile, curr_position, SEEK_SET);</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <span class="keywordflow">while</span> (to_copy_size &gt; 0) {</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        <span class="keywordtype">int</span> read_size = uIOBufferSize;</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        <span class="keywordflow">if</span> (to_copy_size &lt;= uIOBufferSize) read_size = to_copy_size;</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;        fread(pIOBuffer, 1, read_size, pFile);</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        fwrite(pIOBuffer, 1, read_size, tmp_file);</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;        to_copy_size -= read_size;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    }</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160; </div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <span class="comment">// replace old file by new with added data</span></div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    fclose(tmp_file);</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    fclose(pFile);</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    CloseWriteFile();</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    remove(pLODName.c_str());</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    rename(Filename.c_str(), pLODName.c_str());</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    CloseWriteFile();</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160; </div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <span class="comment">// reload new</span></div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    LoadFile(pLODName, 0);  <span class="comment">// isFileOpened == true, next file</span></div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;}</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160; </div>
<div class="line"><a name="l00681"></a><span class="lineno"><a class="line" href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#aa8fab714f138831a6a824e5e4a42e5a3">  681</a></span>&#160;<a class="code" href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#aa8fab714f138831a6a824e5e4a42e5a3">LOD::WriteableFile::WriteableFile</a>() {</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    pIOBuffer = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    uIOBufferSize = 0;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;}</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160; </div>
<div class="line"><a name="l00686"></a><span class="lineno"><a class="line" href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#aafc283e61cafbda02bf0c4828e579046">  686</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#aafc283e61cafbda02bf0c4828e579046">LOD::WriteableFile::LoadFile</a>(<span class="keyword">const</span> <a class="code" href="../../de/df7/_strings_8h.html#afbeda3fd1bdc8c37d01bdf9f5c8274ff">String</a> &amp;pFilename, <span class="keywordtype">bool</span> bWriting) {</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    pFile = fopen(pFilename.c_str(), bWriting ? <span class="stringliteral">&quot;rb&quot;</span> : <span class="stringliteral">&quot;rb+&quot;</span>);</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <span class="keywordflow">if</span> (pFile == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;  <span class="comment">// возможно файл не закрыт, поэтому не открывается</span></div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    }</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160; </div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    pLODName = pFilename;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    fread(&amp;header, <span class="keyword">sizeof</span>(<a class="code" href="../../dc/d2a/struct_l_o_d_1_1_file_header.html">LOD::FileHeader</a>), 1, pFile);</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160; </div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    <a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html">LOD::Directory</a> lod_indx;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    fread(&amp;lod_indx, <span class="keyword">sizeof</span>(<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html">LOD::Directory</a>), 1, pFile);</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160; </div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    fseek(pFile, 0, SEEK_SET);</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    isFileOpened = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    pContainerName = <span class="stringliteral">&quot;chapter&quot;</span>;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    uLODDataSize = lod_indx.<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html#a07c35304ad77ebcadebd6723c4a7b4b2">uDataSize</a>;</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    uNumSubDirs = lod_indx.<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html#a1cf98cab9a3a11b448535dbcf07677dd">uNumSubIndices</a>;</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    Assert(uNumSubDirs &lt;= 300);</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160; </div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    uOffsetToSubIndex = lod_indx.<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html#ad30863092cc0c0423490917d6d2721c1">uOfsetFromSubindicesStart</a>;</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    fseek(pFile, uOffsetToSubIndex, SEEK_SET);</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160; </div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    fread(pSubIndices, <span class="keyword">sizeof</span>(<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html">LOD::Directory</a>), uNumSubDirs, pFile);</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;}</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160; </div>
<div class="line"><a name="l00712"></a><span class="lineno"><a class="line" href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#a27c1375db8ac51cc709ea1bb913f6a6a">  712</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#a27c1375db8ac51cc709ea1bb913f6a6a">LOD::WriteableFile::AllocSubIndicesAndIO</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> uNumSubIndices,</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;                                     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> uBufferSize) {</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <span class="keywordflow">if</span> (pSubIndices) {</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;        <a class="code" href="../../de/d8c/_engine_2_ioc_container_8cpp.html#a9be76595edb968c5dfb165ec86ba2959">logger</a>-&gt;<a class="code" href="../../d6/d70/class_log.html#ac0de2621497ca3b2fbf208624c08bcdf">Warning</a>(L<span class="stringliteral">&quot;Attempt to reset a LOD subindex!&quot;</span>);</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;        free(pSubIndices);</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        pSubIndices = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    }</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    pSubIndices = (<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html">LOD::Directory</a> *)malloc(<span class="keyword">sizeof</span>(<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html">LOD::Directory</a>) * uNumSubIndices);</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    <span class="keywordflow">if</span> (pIOBuffer) {</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;        <a class="code" href="../../de/d8c/_engine_2_ioc_container_8cpp.html#a9be76595edb968c5dfb165ec86ba2959">logger</a>-&gt;<a class="code" href="../../d6/d70/class_log.html#ac0de2621497ca3b2fbf208624c08bcdf">Warning</a>(L<span class="stringliteral">&quot;Attempt to reset a LOD IObuffer!&quot;</span>);</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        free(pIOBuffer);</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;        pIOBuffer = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;        uIOBufferSize = 0;</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    }</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <span class="keywordflow">if</span> (uBufferSize) {</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;        pIOBuffer = (<a class="code" href="../../d1/d8f/_s_d_l__config_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>*)malloc(uBufferSize);</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;        uIOBufferSize = uBufferSize;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    }</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;}</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160; </div>
<div class="line"><a name="l00732"></a><span class="lineno"><a class="line" href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#a1e6bd4601bce34cc4f9eba2a8ccc8a0d">  732</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#a1e6bd4601bce34cc4f9eba2a8ccc8a0d">LOD::WriteableFile::FreeSubIndexAndIO</a>() {</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    free(pSubIndices);</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    pSubIndices = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    free(pIOBuffer);</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    pIOBuffer = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;}</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160; </div>
<div class="line"><a name="l00739"></a><span class="lineno"><a class="line" href="../../dd/da7/class_l_o_d_1_1_file.html#a9727a0a74fa79d7c2f968c677320b26f">  739</a></span>&#160;<a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#a9727a0a74fa79d7c2f968c677320b26f">LOD::File::File</a>() : isFileOpened(false) {</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    <a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#a686f8c6509748a20a067d674590c1ccb">pFile</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    <a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#aa9ff8061e107a4d4524340f0ce20a358">pSubIndices</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#ab71fc5e72e25e22a2712c317528db0d9">Close</a>();</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;}</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160; </div>
<div class="line"><a name="l00745"></a><span class="lineno"><a class="line" href="../../dd/da7/class_l_o_d_1_1_file.html#abd8f745940e2b331880f1830fcfbae60">  745</a></span>&#160;<a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#abd8f745940e2b331880f1830fcfbae60">LOD::File::~File</a>() {</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="keywordflow">if</span> (isFileOpened) {</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;        fclose(pFile);</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    }</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;}</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160; </div>
<div class="line"><a name="l00751"></a><span class="lineno"><a class="line" href="../../dd/da7/class_l_o_d_1_1_file.html#aa32d8447321690bead61de05f93352be">  751</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#aa32d8447321690bead61de05f93352be">LOD::File::Open</a>(<span class="keyword">const</span> <a class="code" href="../../de/df7/_strings_8h.html#afbeda3fd1bdc8c37d01bdf9f5c8274ff">String</a> &amp;sFilename) {</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <span class="keywordflow">if</span> (!OpenFile(sFilename)) {</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    }</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160; </div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    <span class="keywordflow">if</span> (!LoadHeader()) {</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    }</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160; </div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    <span class="keywordflow">return</span> LoadSubIndices(pRoot.front().pFilename);</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;}</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160; </div>
<div class="line"><a name="l00763"></a><span class="lineno"><a class="line" href="../../dd/da7/class_l_o_d_1_1_file.html#abd059bd33f1b7f3f28a59b5f1eb1ad92">  763</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#abd059bd33f1b7f3f28a59b5f1eb1ad92">LOD::File::OpenFile</a>(<span class="keyword">const</span> <a class="code" href="../../de/df7/_strings_8h.html#afbeda3fd1bdc8c37d01bdf9f5c8274ff">String</a> &amp;sFilename) {</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    <span class="keywordflow">if</span> (isFileOpened) {</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        Close();</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    }</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160; </div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    pFile = fopen(sFilename.c_str(), <span class="stringliteral">&quot;rb&quot;</span>);</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <span class="keywordflow">if</span> (pFile == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    }</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160; </div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    pLODName = sFilename;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160; </div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;}</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160; </div>
<div class="line"><a name="l00778"></a><span class="lineno"><a class="line" href="../../dd/da7/class_l_o_d_1_1_file.html#a94f80b82e0e80faee257d1cb18f8267d">  778</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#a94f80b82e0e80faee257d1cb18f8267d">LOD::File::LoadHeader</a>() {</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <span class="keywordflow">if</span> (pFile == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    }</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160; </div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    fseek(pFile, 0, SEEK_SET);</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160; </div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <span class="keywordflow">if</span> (fread(&amp;header, <span class="keyword">sizeof</span>(<a class="code" href="../../dc/d2a/struct_l_o_d_1_1_file_header.html">LOD::FileHeader</a>), 1, pFile) != 1) {</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    }</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; header.uNumIndices; i++) {</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;        <a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html">LOD::Directory</a> dir;</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;        <span class="keywordflow">if</span> (fread(&amp;dir, <span class="keyword">sizeof</span>(<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html">LOD::Directory</a>), 1, pFile) != 1) {</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;            pRoot.clear();</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;        }</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;        pRoot.push_back(dir);</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    }</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160; </div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    fseek(pFile, 0, SEEK_SET);</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160; </div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    isFileOpened = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160; </div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;}</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160; </div>
<div class="line"><a name="l00804"></a><span class="lineno"><a class="line" href="../../dd/da7/class_l_o_d_1_1_file.html#a3272ae8caf1e5a3ffb1f2533e46a477b">  804</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#a3272ae8caf1e5a3ffb1f2533e46a477b">LOD::File::LoadSubIndices</a>(<span class="keyword">const</span> <a class="code" href="../../de/df7/_strings_8h.html#afbeda3fd1bdc8c37d01bdf9f5c8274ff">String</a> &amp;pContainer) {</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    ResetSubIndices();</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160; </div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html">LOD::Directory</a> &amp;dir : pRoot) {</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;        <span class="keywordflow">if</span> (!_stricmp(pContainer.c_str(), dir.pFilename)) {</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;            pContainerName = pContainer;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;            uOffsetToSubIndex = dir.uOfsetFromSubindicesStart;</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;            uNumSubDirs = dir.uNumSubIndices;</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;            fseek(pFile, uOffsetToSubIndex, SEEK_SET);</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;            pSubIndices = (<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html">LOD::Directory</a> *)malloc(<span class="keyword">sizeof</span>(<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html">LOD::Directory</a>) * uNumSubDirs);</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160; </div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;            <span class="keywordflow">if</span> (pSubIndices) {</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;                fread(pSubIndices, <span class="keyword">sizeof</span>(<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html">LOD::Directory</a>), uNumSubDirs, pFile);</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;            }</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;        }</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    }</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;}</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160; </div>
<div class="line"><a name="l00824"></a><span class="lineno"><a class="line" href="../../d1/db2/struct_l_o_d_1_1_directory.html#a951912ba26a4ee4588296d3b070b95d1">  824</a></span>&#160;<a class="code" href="../../d1/db2/struct_l_o_d_1_1_directory.html#a951912ba26a4ee4588296d3b070b95d1">LOD::Directory::Directory</a>() {</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    memset(pFilename, 0, 16);</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    this-&gt;uOfsetFromSubindicesStart = 0;</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    this-&gt;uDataSize = 0;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    this-&gt;uNumSubIndices = 0;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    this-&gt;dword_000018 = 0;</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    this-&gt;priority = 0;</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;}</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160; </div>
<div class="line"><a name="l00833"></a><span class="lineno"><a class="line" href="../../dd/da7/class_l_o_d_1_1_file.html#a5f308ac99a49c87179a5dff49084b81f">  833</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#a5f308ac99a49c87179a5dff49084b81f">LOD::File::DoesContainerExist</a>(<span class="keyword">const</span> <a class="code" href="../../de/df7/_strings_8h.html#afbeda3fd1bdc8c37d01bdf9f5c8274ff">String</a> &amp;pContainer) {</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; uNumSubDirs; ++i) {</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;        <span class="keywordflow">if</span> (!_stricmp(pContainer.c_str(), pSubIndices[i].pFilename)) {</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;        }</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    }</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160; </div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;}</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160; </div>
<div class="line"><a name="l00843"></a><span class="lineno"><a class="line" href="../../d4/d10/class_l_o_d_file___sprites.html#a3b1a77965e1fe0ad86bd34ca5cc26a75">  843</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d4/d10/class_l_o_d_file___sprites.html#a3b1a77965e1fe0ad86bd34ca5cc26a75">LODFile_Sprites::_461397</a>() {</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    this-&gt;field_ECA8 = this-&gt;uNumLoadedSprites;</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <span class="keywordflow">if</span> (this-&gt;uNumLoadedSprites &lt; this-&gt;field_ECA0)</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;        this-&gt;field_ECA8 = this-&gt;field_ECA0;</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    <span class="keywordflow">if</span> (this-&gt;field_ECA0 &lt; this-&gt;field_ECA4) field_ECA0 = this-&gt;field_ECA4;</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    <span class="keywordflow">return</span> this-&gt;uNumLoadedSprites;</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;}</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160; </div>
<div class="line"><a name="l00851"></a><span class="lineno"><a class="line" href="../../dd/da7/class_l_o_d_1_1_file.html#a3b042a1ac553b2cfdf5b3a1298ce9375">  851</a></span>&#160;FILE *<a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#a3b042a1ac553b2cfdf5b3a1298ce9375">LOD::File::FindContainer</a>(<span class="keyword">const</span> <a class="code" href="../../de/df7/_strings_8h.html#afbeda3fd1bdc8c37d01bdf9f5c8274ff">String</a> &amp;pContainer_Name, <span class="keywordtype">size_t</span> *data_size) {</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    <span class="keywordflow">if</span> (!isFileOpened) {</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    }</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    <span class="keywordflow">if</span> (data_size != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;        *data_size = 0;</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    }</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160; </div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d2/d83/_m_m7_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> i = 0; i &lt; uNumSubDirs; ++i) {</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;        <span class="keywordflow">if</span> (!_stricmp(pContainer_Name.c_str(), pSubIndices[i].pFilename)) {</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;            fseek(pFile, uOffsetToSubIndex + pSubIndices[i].uOfsetFromSubindicesStart, SEEK_SET);</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;            <span class="keywordflow">if</span> (data_size != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;                *data_size = pSubIndices[i].uDataSize;</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;            }</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;            <span class="keywordflow">return</span> pFile;</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;        }</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    }</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160; </div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;}</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160; </div>
<div class="line"><a name="l00872"></a><span class="lineno"><a class="line" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a3560ae4b9cbb5116b26334930d62fb08">  872</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a3560ae4b9cbb5116b26334930d62fb08">LODFile_IconsBitmaps::SetupPalettes</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> uTargetRBits,</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;                                         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> uTargetGBits,</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;                                         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> uTargetBBits) {</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    <span class="keywordflow">if</span> (this-&gt;uTextureRedBits != uTargetRBits ||</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;        this-&gt;uTextureGreenBits != uTargetGBits ||</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;        this-&gt;uTextureBlueBits != uTargetBBits) {  <span class="comment">// Uninitialized memory access</span></div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;        this-&gt;uTextureRedBits = uTargetRBits;</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;        this-&gt;uTextureGreenBits = uTargetGBits;</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;        this-&gt;uTextureBlueBits = uTargetBBits;</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; this-&gt;uNumLoadedFiles; ++i) {</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;            <span class="keywordflow">if</span> (this-&gt;pTextures[i].pPalette24) {</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;                FILE *File = FindContainer(this-&gt;pTextures[i].header.pName);</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;                <span class="keywordflow">if</span> (File) {</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;                    <a class="code" href="../../d6/de3/struct_texture_header.html">TextureHeader</a> DstBuf;</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;                    fread(&amp;DstBuf, 1, <span class="keyword">sizeof</span>(<a class="code" href="../../d6/de3/struct_texture_header.html">TextureHeader</a>), File);</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;                    fseek(File, DstBuf.<a class="code" href="../../d6/de3/struct_texture_header.html#aa29d8bd61966f56a4a298a0fd5d3bc58">uTextureSize</a>, 1);</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;                    fread(this-&gt;pTextures[i].pPalette24, 1, 0x300, File);</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;                }</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;            }</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        }</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    }</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;}</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160; </div>
<div class="line"><a name="l00895"></a><span class="lineno"><a class="line" href="../../dd/da7/class_l_o_d_1_1_file.html#ae4069f908e27c3507a03d2bb12ad6f0f">  895</a></span>&#160;<span class="keywordtype">void</span> *<a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#ae4069f908e27c3507a03d2bb12ad6f0f">LOD::File::LoadRaw</a>(<span class="keyword">const</span> <a class="code" href="../../de/df7/_strings_8h.html#afbeda3fd1bdc8c37d01bdf9f5c8274ff">String</a> &amp;pContainer, <span class="keywordtype">size_t</span> *data_size) {</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    <span class="keywordflow">if</span> (data_size != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;        *data_size = 0;</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    }</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160; </div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="../../db/d76/group__lavu__mem__funcs.html#ga3d1e3edfcf61ca2d831883e1afbad89e">size</a> = 0;</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    FILE *<a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html">File</a> = FindContainer(pContainer, &amp;<a class="code" href="../../db/d76/group__lavu__mem__funcs.html#ga3d1e3edfcf61ca2d831883e1afbad89e">size</a>);</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html">File</a>) {</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;        Error(<span class="stringliteral">&quot;Unable to load %s&quot;</span>, pContainer.c_str());</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    }</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160; </div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    <span class="keywordtype">void</span> *<a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a> = malloc(<a class="code" href="../../db/d76/group__lavu__mem__funcs.html#ga3d1e3edfcf61ca2d831883e1afbad89e">size</a>);</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    <span class="keywordflow">if</span> (fread(<a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a>, <a class="code" href="../../db/d76/group__lavu__mem__funcs.html#ga3d1e3edfcf61ca2d831883e1afbad89e">size</a>, 1, <a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html">File</a>) != 1) {</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;        free(<a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a>);</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;        <a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a> = 0;</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;        <a class="code" href="../../db/d76/group__lavu__mem__funcs.html#ga3d1e3edfcf61ca2d831883e1afbad89e">size</a> = 0;</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    }</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160; </div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    <span class="keywordflow">if</span> (data_size != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;        *data_size = <a class="code" href="../../db/d76/group__lavu__mem__funcs.html#ga3d1e3edfcf61ca2d831883e1afbad89e">size</a>;</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    }</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160; </div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a>;</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;}</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160; </div>
<div class="line"><a name="l00921"></a><span class="lineno"><a class="line" href="../../dd/da7/class_l_o_d_1_1_file.html#af2af972a90784bbcfa975ccd0346385d">  921</a></span>&#160;<span class="keywordtype">void</span> *<a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#af2af972a90784bbcfa975ccd0346385d">LOD::File::LoadCompressedTexture</a>(<span class="keyword">const</span> <a class="code" href="../../de/df7/_strings_8h.html#afbeda3fd1bdc8c37d01bdf9f5c8274ff">String</a> &amp;pContainer, <span class="keywordtype">size_t</span> *data_size) {</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    <span class="keywordtype">void</span> *<a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    <span class="keywordflow">if</span> (data_size != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;        *data_size = 0;</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    }</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160; </div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    FILE *<a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html">File</a> = FindContainer(pContainer, 0);</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html">File</a>) {</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;        Error(<span class="stringliteral">&quot;Unable to load %s&quot;</span>, pContainer.c_str());</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    }</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160; </div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    <a class="code" href="../../d6/de3/struct_texture_header.html">TextureHeader</a> DstBuf;</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    fread(&amp;DstBuf, 1, <span class="keyword">sizeof</span>(<a class="code" href="../../d6/de3/struct_texture_header.html">TextureHeader</a>), <a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html">File</a>);</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160; </div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    <span class="keywordflow">if</span> (DstBuf.<a class="code" href="../../d6/de3/struct_texture_header.html#a1779bca4bab9309bc22d6cb0203ccf9a">uDecompressedSize</a>) {</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;        <a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a> = malloc(DstBuf.<a class="code" href="../../d6/de3/struct_texture_header.html#a1779bca4bab9309bc22d6cb0203ccf9a">uDecompressedSize</a>);</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;        <span class="keywordtype">void</span> *tmp_buf = malloc(DstBuf.<a class="code" href="../../d6/de3/struct_texture_header.html#aa29d8bd61966f56a4a298a0fd5d3bc58">uTextureSize</a>);</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;        fread(tmp_buf, 1, DstBuf.<a class="code" href="../../d6/de3/struct_texture_header.html#aa29d8bd61966f56a4a298a0fd5d3bc58">uTextureSize</a>, <a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html">File</a>);</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;        <a class="code" href="../../d9/d3e/namespacezlib.html#ae552beaf4387a81c63a28b01a9cc7ab4">zlib::Uncompress</a>(<a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a>, &amp;DstBuf.<a class="code" href="../../d6/de3/struct_texture_header.html#a1779bca4bab9309bc22d6cb0203ccf9a">uDecompressedSize</a>, tmp_buf,</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;                         DstBuf.<a class="code" href="../../d6/de3/struct_texture_header.html#aa29d8bd61966f56a4a298a0fd5d3bc58">uTextureSize</a>);</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;        DstBuf.<a class="code" href="../../d6/de3/struct_texture_header.html#aa29d8bd61966f56a4a298a0fd5d3bc58">uTextureSize</a> = DstBuf.<a class="code" href="../../d6/de3/struct_texture_header.html#a1779bca4bab9309bc22d6cb0203ccf9a">uDecompressedSize</a>;</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;        free(tmp_buf);</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;        <a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a> = malloc(DstBuf.<a class="code" href="../../d6/de3/struct_texture_header.html#aa29d8bd61966f56a4a298a0fd5d3bc58">uTextureSize</a>);</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;        fread(<a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a>, 1, DstBuf.<a class="code" href="../../d6/de3/struct_texture_header.html#aa29d8bd61966f56a4a298a0fd5d3bc58">uTextureSize</a>, <a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html">File</a>);</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    }</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160; </div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    <span class="keywordflow">if</span> (data_size != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;        *data_size = DstBuf.<a class="code" href="../../d6/de3/struct_texture_header.html#aa29d8bd61966f56a4a298a0fd5d3bc58">uTextureSize</a>;</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    }</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160; </div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a>;</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;}</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160; </div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;<span class="preprocessor">#pragma pack(push, 1)</span></div>
<div class="line"><a name="l00957"></a><span class="lineno"><a class="line" href="../../d0/deb/struct_compressed_header.html">  957</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d0/deb/struct_compressed_header.html">CompressedHeader</a> {</div>
<div class="line"><a name="l00958"></a><span class="lineno"><a class="line" href="../../d0/deb/struct_compressed_header.html#a3cd6b9b06380d4445542686c424ca477">  958</a></span>&#160;    <a class="code" href="../../d1/d8f/_s_d_l__config_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="../../d0/deb/struct_compressed_header.html#a3cd6b9b06380d4445542686c424ca477">uVersion</a>;</div>
<div class="line"><a name="l00959"></a><span class="lineno"><a class="line" href="../../d0/deb/struct_compressed_header.html#ab1f35aca3d1ba2214f6fef8b1a80b84f">  959</a></span>&#160;    <span class="keywordtype">char</span> pMagic[4];</div>
<div class="line"><a name="l00960"></a><span class="lineno"><a class="line" href="../../d0/deb/struct_compressed_header.html#ad280bc573870de8fe0165cafdab7d0bd">  960</a></span>&#160;    <a class="code" href="../../d1/d8f/_s_d_l__config_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="../../d0/deb/struct_compressed_header.html#ad280bc573870de8fe0165cafdab7d0bd">uCompressedSize</a>;</div>
<div class="line"><a name="l00961"></a><span class="lineno"><a class="line" href="../../d0/deb/struct_compressed_header.html#a50d55ce989d953c407353822107c6ba3">  961</a></span>&#160;    <a class="code" href="../../d1/d8f/_s_d_l__config_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="../../d0/deb/struct_compressed_header.html#a50d55ce989d953c407353822107c6ba3">uDecompressedSize</a>;</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;};</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;<span class="preprocessor">#pragma pack(pop)</span></div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160; </div>
<div class="line"><a name="l00965"></a><span class="lineno"><a class="line" href="../../dd/da7/class_l_o_d_1_1_file.html#ad1b41c19c91c2c90723d263089c30a30">  965</a></span>&#160;<span class="keywordtype">void</span> *<a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#ad1b41c19c91c2c90723d263089c30a30">LOD::File::LoadCompressed</a>(<span class="keyword">const</span> <a class="code" href="../../de/df7/_strings_8h.html#afbeda3fd1bdc8c37d01bdf9f5c8274ff">String</a> &amp;pContainer, <span class="keywordtype">size_t</span> *data_size) {</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    static_assert(<span class="keyword">sizeof</span>(<a class="code" href="../../d0/deb/struct_compressed_header.html">CompressedHeader</a>) == 16, <span class="stringliteral">&quot;Wrong type size&quot;</span>);</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160; </div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    <span class="keywordtype">void</span> *<a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    <span class="keywordflow">if</span> (data_size != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;        *data_size = 0;</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    }</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160; </div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    FILE *<a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html">File</a> = FindContainer(pContainer, 0);</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html">File</a>) {</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;        Error(<span class="stringliteral">&quot;Unable to load %s&quot;</span>, pContainer.c_str());</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    }</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160; </div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    <a class="code" href="../../d0/deb/struct_compressed_header.html">CompressedHeader</a> header;</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;    fread(&amp;header, 1, <span class="keyword">sizeof</span>(<a class="code" href="../../d0/deb/struct_compressed_header.html">CompressedHeader</a>), <a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html">File</a>);</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    <span class="keywordflow">if</span> (header.<a class="code" href="../../d0/deb/struct_compressed_header.html#a3cd6b9b06380d4445542686c424ca477">uVersion</a> != 91969 || (memcmp(&amp;header.<a class="code" href="../../d0/deb/struct_compressed_header.html#ab1f35aca3d1ba2214f6fef8b1a80b84f">pMagic</a>, <span class="stringliteral">&quot;mvii&quot;</span>, 4) != 0)) {</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;        Error(<span class="stringliteral">&quot;Unable to load %s&quot;</span>, pContainer.c_str());</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    }</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160; </div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    <span class="keywordflow">if</span> (header.<a class="code" href="../../d0/deb/struct_compressed_header.html#a50d55ce989d953c407353822107c6ba3">uDecompressedSize</a>) {</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;        <a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a> = malloc(header.<a class="code" href="../../d0/deb/struct_compressed_header.html#a50d55ce989d953c407353822107c6ba3">uDecompressedSize</a>);</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;        <span class="keywordtype">void</span> *tmp_buf = malloc(header.<a class="code" href="../../d0/deb/struct_compressed_header.html#ad280bc573870de8fe0165cafdab7d0bd">uCompressedSize</a>);</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;        fread(tmp_buf, 1, header.<a class="code" href="../../d0/deb/struct_compressed_header.html#ad280bc573870de8fe0165cafdab7d0bd">uCompressedSize</a>, <a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html">File</a>);</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;        <a class="code" href="../../d9/d3e/namespacezlib.html#ae552beaf4387a81c63a28b01a9cc7ab4">zlib::Uncompress</a>(<a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a>, &amp;header.<a class="code" href="../../d0/deb/struct_compressed_header.html#a50d55ce989d953c407353822107c6ba3">uDecompressedSize</a>, tmp_buf, header.<a class="code" href="../../d0/deb/struct_compressed_header.html#ad280bc573870de8fe0165cafdab7d0bd">uCompressedSize</a>);</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;        header.<a class="code" href="../../d0/deb/struct_compressed_header.html#ad280bc573870de8fe0165cafdab7d0bd">uCompressedSize</a> = header.<a class="code" href="../../d0/deb/struct_compressed_header.html#a50d55ce989d953c407353822107c6ba3">uDecompressedSize</a>;</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;        free(tmp_buf);</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;        <a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a> = malloc(header.<a class="code" href="../../d0/deb/struct_compressed_header.html#ad280bc573870de8fe0165cafdab7d0bd">uCompressedSize</a>);</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;        fread(<a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a>, 1, header.<a class="code" href="../../d0/deb/struct_compressed_header.html#ad280bc573870de8fe0165cafdab7d0bd">uCompressedSize</a>, <a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html">File</a>);</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    }</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160; </div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <span class="keywordflow">if</span> (data_size != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;        *data_size = header.<a class="code" href="../../d0/deb/struct_compressed_header.html#ad280bc573870de8fe0165cafdab7d0bd">uCompressedSize</a>;</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    }</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160; </div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a>;</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;}</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160; </div>
<div class="line"><a name="l01005"></a><span class="lineno"><a class="line" href="../../dd/da7/class_l_o_d_1_1_file.html#a73d8b96f07e67ee01160123e613a1466"> 1005</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#a73d8b96f07e67ee01160123e613a1466">LOD::File::GetSubNodeIndex</a>(<span class="keyword">const</span> <a class="code" href="../../de/df7/_strings_8h.html#afbeda3fd1bdc8c37d01bdf9f5c8274ff">String</a> &amp;<a class="code" href="../../df/d32/_s_d_l__egl_8h.html#aaced7cfc21e7d37775d6921bb8177239">name</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a57f14e05b1900f16a2da82ade47d0c6d">index</a> = 0; <a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a57f14e05b1900f16a2da82ade47d0c6d">index</a> &lt; uNumSubDirs; <a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a57f14e05b1900f16a2da82ade47d0c6d">index</a>++) {</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../df/d32/_s_d_l__egl_8h.html#aaced7cfc21e7d37775d6921bb8177239">name</a> == pSubIndices[<a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a57f14e05b1900f16a2da82ade47d0c6d">index</a>].pFilename) {</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a57f14e05b1900f16a2da82ade47d0c6d">index</a>;</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;        }</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    }</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160; </div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;}</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160; </div>
<div class="line"><a name="l01015"></a><span class="lineno"><a class="line" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a445656f348360ae255dcc52f3de958df"> 1015</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a445656f348360ae255dcc52f3de958df">LODFile_IconsBitmaps::ReleaseHardwareTextures</a>() {}</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160; </div>
<div class="line"><a name="l01017"></a><span class="lineno"><a class="line" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a74bcb94f8eeefc68605571f502b537f2"> 1017</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a74bcb94f8eeefc68605571f502b537f2">LODFile_IconsBitmaps::ReleaseLostHardwareTextures</a>() {}</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160; </div>
<div class="line"><a name="l01019"></a><span class="lineno"><a class="line" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#afa78d8aee70544e1b4c1bbff0245c18e"> 1019</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#afa78d8aee70544e1b4c1bbff0245c18e">LODFile_IconsBitmaps::ReloadTexture</a>(<a class="code" href="../../d0/ded/struct_texture___m_m7.html">Texture_MM7</a> *pDst,</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;                                        <span class="keyword">const</span> <span class="keywordtype">char</span> *pContainer, <span class="keywordtype">int</span> <a class="code" href="../../df/d32/_s_d_l__egl_8h.html#a1e71d9c196e4683cc06c4b54d53f7ef5">mode</a>) {</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> v7;  <span class="comment">// ebx@6</span></div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> v8;  <span class="comment">// ecx@6</span></div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a>;       <span class="comment">// eax@7</span></div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    <span class="comment">// uint8_t v15;      // [sp+11h] [bp-3h]@13</span></div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    <span class="comment">// uint8_t v16;      // [sp+12h] [bp-2h]@13</span></div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    <span class="comment">// uint8_t DstBuf;   // [sp+13h] [bp-1h]@13</span></div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;    <span class="keywordtype">void</span> *DstBufa;    <span class="comment">// [sp+1Ch] [bp+8h]@10</span></div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    <span class="keywordtype">void</span> *Sourcea;    <span class="comment">// [sp+20h] [bp+Ch]@10</span></div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160; </div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    FILE *File = FindContainer(pContainer);</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    <span class="keywordflow">if</span> (File == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    }</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160; </div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    <a class="code" href="../../d0/ded/struct_texture___m_m7.html">Texture_MM7</a> *v6 = pDst;</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    <span class="keywordflow">if</span> (pDst-&gt;<a class="code" href="../../d0/ded/struct_texture___m_m7.html#a1c8e52b97aeed25aa80b20459fa8a2f6">paletted_pixels</a> &amp;&amp; <a class="code" href="../../df/d32/_s_d_l__egl_8h.html#a1e71d9c196e4683cc06c4b54d53f7ef5">mode</a> == 2 &amp;&amp; pDst-&gt;<a class="code" href="../../d0/ded/struct_texture___m_m7.html#aea91ddb893a1973f68692fec9df211ac">pPalette24</a> &amp;&amp;</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;        (v7 = pDst-&gt;<a class="code" href="../../d0/ded/struct_texture___m_m7.html#a97b3fae1ab456cc63971d88fef8a5220">header</a>.<a class="code" href="../../d6/de3/struct_texture_header.html#aa29d8bd61966f56a4a298a0fd5d3bc58">uTextureSize</a>, fread(pDst, 1, 0x30u, File),</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;         strcpy(pDst-&gt;<a class="code" href="../../d0/ded/struct_texture___m_m7.html#a97b3fae1ab456cc63971d88fef8a5220">header</a>.<a class="code" href="../../d6/de3/struct_texture_header.html#a4d1880dcef67ab59091b83d76e92cf0c">pName</a>, pContainer),</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;         v8 = pDst-&gt;<a class="code" href="../../d0/ded/struct_texture___m_m7.html#a97b3fae1ab456cc63971d88fef8a5220">header</a>.<a class="code" href="../../d6/de3/struct_texture_header.html#aa29d8bd61966f56a4a298a0fd5d3bc58">uTextureSize</a>, (<span class="keywordtype">int</span>)v8 &lt;= (<span class="keywordtype">int</span>)v7)) {</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;        <span class="keywordflow">if</span> (!pDst-&gt;<a class="code" href="../../d0/ded/struct_texture___m_m7.html#a97b3fae1ab456cc63971d88fef8a5220">header</a>.<a class="code" href="../../d6/de3/struct_texture_header.html#a1779bca4bab9309bc22d6cb0203ccf9a">uDecompressedSize</a> ||</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;            this-&gt;_011BA4_debug_paletted_pixels_uncompressed) {</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;            fread(pDst-&gt;<a class="code" href="../../d0/ded/struct_texture___m_m7.html#a1c8e52b97aeed25aa80b20459fa8a2f6">paletted_pixels</a>, 1, pDst-&gt;<a class="code" href="../../d0/ded/struct_texture___m_m7.html#a97b3fae1ab456cc63971d88fef8a5220">header</a>.<a class="code" href="../../d6/de3/struct_texture_header.html#aa29d8bd61966f56a4a298a0fd5d3bc58">uTextureSize</a>, File);</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;            Sourcea = malloc(pDst-&gt;<a class="code" href="../../d0/ded/struct_texture___m_m7.html#a97b3fae1ab456cc63971d88fef8a5220">header</a>.<a class="code" href="../../d6/de3/struct_texture_header.html#a1779bca4bab9309bc22d6cb0203ccf9a">uDecompressedSize</a>);</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;            DstBufa = malloc(pDst-&gt;<a class="code" href="../../d0/ded/struct_texture___m_m7.html#a97b3fae1ab456cc63971d88fef8a5220">header</a>.<a class="code" href="../../d6/de3/struct_texture_header.html#aa29d8bd61966f56a4a298a0fd5d3bc58">uTextureSize</a>);</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;            fread(DstBufa, 1, pDst-&gt;<a class="code" href="../../d0/ded/struct_texture___m_m7.html#a97b3fae1ab456cc63971d88fef8a5220">header</a>.<a class="code" href="../../d6/de3/struct_texture_header.html#aa29d8bd61966f56a4a298a0fd5d3bc58">uTextureSize</a>, File);</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;            <a class="code" href="../../d9/d3e/namespacezlib.html#ae552beaf4387a81c63a28b01a9cc7ab4">zlib::Uncompress</a>(Sourcea, &amp;v6-&gt;<a class="code" href="../../d0/ded/struct_texture___m_m7.html#a97b3fae1ab456cc63971d88fef8a5220">header</a>.<a class="code" href="../../d6/de3/struct_texture_header.html#a1779bca4bab9309bc22d6cb0203ccf9a">uDecompressedSize</a>, DstBufa,</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;                             v6-&gt;<a class="code" href="../../d0/ded/struct_texture___m_m7.html#a97b3fae1ab456cc63971d88fef8a5220">header</a>.<a class="code" href="../../d6/de3/struct_texture_header.html#aa29d8bd61966f56a4a298a0fd5d3bc58">uTextureSize</a>);</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;            v6-&gt;<a class="code" href="../../d0/ded/struct_texture___m_m7.html#a97b3fae1ab456cc63971d88fef8a5220">header</a>.<a class="code" href="../../d6/de3/struct_texture_header.html#aa29d8bd61966f56a4a298a0fd5d3bc58">uTextureSize</a> = pDst-&gt;<a class="code" href="../../d0/ded/struct_texture___m_m7.html#a97b3fae1ab456cc63971d88fef8a5220">header</a>.<a class="code" href="../../d6/de3/struct_texture_header.html#a1779bca4bab9309bc22d6cb0203ccf9a">uDecompressedSize</a>;</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;            free(DstBufa);</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;            memcpy(v6-&gt;<a class="code" href="../../d0/ded/struct_texture___m_m7.html#a1c8e52b97aeed25aa80b20459fa8a2f6">paletted_pixels</a>, Sourcea,</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;                   pDst-&gt;<a class="code" href="../../d0/ded/struct_texture___m_m7.html#a97b3fae1ab456cc63971d88fef8a5220">header</a>.<a class="code" href="../../d6/de3/struct_texture_header.html#a1779bca4bab9309bc22d6cb0203ccf9a">uDecompressedSize</a>);</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;            free(Sourcea);</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;        }</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;        fread(pDst-&gt;<a class="code" href="../../d0/ded/struct_texture___m_m7.html#aea91ddb893a1973f68692fec9df211ac">pPalette24</a>, 1, 0x300, File);</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;        <a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a> = 1;</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;        <a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a> = -1;</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    }</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a>;</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;}</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160; </div>
<div class="line"><a name="l01063"></a><span class="lineno"><a class="line" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#af1497f81fa4c1f6dff3eaf1b6a4144f5"> 1063</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#af1497f81fa4c1f6dff3eaf1b6a4144f5">LODFile_IconsBitmaps::LoadTextureFromLOD</a>(<a class="code" href="../../d0/ded/struct_texture___m_m7.html">Texture_MM7</a> *pOutTex,</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;                                             <span class="keyword">const</span> <span class="keywordtype">char</span> *pContainer,</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;                                             <span class="keyword">enum</span> <a class="code" href="../../d3/db2/_l_o_d_8h.html#a7359f4c244be23e8dc2b5fc4232c8c54">TEXTURE_TYPE</a> eTextureType) {</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a>;        <span class="comment">// esi@14</span></div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> v14;  <span class="comment">// eax@21</span></div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    <span class="comment">// size_t v22;        // ST2C_4@29</span></div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;    <span class="comment">// const void *v23;   // ecx@29</span></div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160; </div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    <span class="keywordtype">size_t</span> data_size = 0;</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;    FILE *pFile = FindContainer(pContainer, &amp;data_size);</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;    <span class="keywordflow">if</span> (pFile == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    }</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160; </div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    <a class="code" href="../../d6/de3/struct_texture_header.html">TextureHeader</a> *header = &amp;pOutTex-&gt;<a class="code" href="../../d0/ded/struct_texture___m_m7.html#a97b3fae1ab456cc63971d88fef8a5220">header</a>;</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    fread(header, 1, <span class="keyword">sizeof</span>(<a class="code" href="../../d6/de3/struct_texture_header.html">TextureHeader</a>), pFile);</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    strncpy(header-&gt;<a class="code" href="../../d6/de3/struct_texture_header.html#a4d1880dcef67ab59091b83d76e92cf0c">pName</a>, pContainer, 16);</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    data_size -= <span class="keyword">sizeof</span>(<a class="code" href="../../d6/de3/struct_texture_header.html">TextureHeader</a>);</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160; </div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    <span class="comment">// BITMAPS</span></div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;    <span class="keywordflow">if</span> ((header-&gt;<a class="code" href="../../d6/de3/struct_texture_header.html#a7a48abb9364591bbae4bd43f283434cc">pBits</a> &amp; 2) &amp;&amp; strcmp(header-&gt;<a class="code" href="../../d6/de3/struct_texture_header.html#a4d1880dcef67ab59091b83d76e92cf0c">pName</a>, <span class="stringliteral">&quot;sptext01&quot;</span>)) {</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;        <span class="keywordflow">if</span> (!pHardwareSurfaces || !pHardwareTextures) {</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;            pHardwareSurfaces = <span class="keyword">new</span> IDirectDrawSurface *[1000];</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;            memset(pHardwareSurfaces, 0, 1000 * <span class="keyword">sizeof</span>(IDirectDrawSurface *));</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160; </div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;            pHardwareTextures = <span class="keyword">new</span> IDirect3DTexture2 *[1000];</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;            memset(pHardwareTextures, 0, 1000 * <span class="keyword">sizeof</span>(IDirect3DTexture2 *));</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160; </div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;            ptr_011BB4 = <span class="keyword">new</span> <span class="keywordtype">char</span>[1000];</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;            memset(ptr_011BB4, 0, 1000);</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;        }</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;        <span class="keywordflow">if</span> (_strnicmp(pContainer, <span class="stringliteral">&quot;wtrdr&quot;</span>, 5)) {</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;            <span class="keywordflow">if</span> (_strnicmp(pContainer, <span class="stringliteral">&quot;WtrTyl&quot;</span>, 6)) {</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;                v14 = uNumLoadedFiles;</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;                <a class="code" href="../../da/d20/_i_render_8h.html#a21d31464313b2c66ff88d4aa97b66143">render</a>-&gt;hd_water_tile_id = uNumLoadedFiles;</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;                v14 = uNumLoadedFiles;</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;            }</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;            <span class="comment">// result = render-&gt;LoadTexture(pContainer, pOutTex-&gt;palette_id1,</span></div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;            <span class="comment">// (void **)&amp;pHardwareSurfaces[v14], (void</span></div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;            <span class="comment">// **)&amp;pHardwareTextures[v14]);</span></div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;            <a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a> = 1;</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;            <span class="keywordtype">char</span> *temp_container;</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;            temp_container = (<span class="keywordtype">char</span> *)malloc(strlen(pContainer) + 2);</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;            *temp_container = 104;  <span class="comment">// &#39;h&#39;</span></div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;            strcpy(temp_container + 1, pContainer);</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;            <a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a> = 1;</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;            free((<span class="keywordtype">void</span> *)temp_container);</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;        }</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a>;</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    }</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160; </div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    <span class="comment">// ICONS</span></div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    <span class="keywordflow">if</span> (!header-&gt;<a class="code" href="../../d6/de3/struct_texture_header.html#a1779bca4bab9309bc22d6cb0203ccf9a">uDecompressedSize</a> ||</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;        _011BA4_debug_paletted_pixels_uncompressed) {</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;        <span class="keywordflow">if</span> (header-&gt;<a class="code" href="../../d6/de3/struct_texture_header.html#aa29d8bd61966f56a4a298a0fd5d3bc58">uTextureSize</a> &gt; data_size) {</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;            assert(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;        }</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;        pOutTex-&gt;<a class="code" href="../../d0/ded/struct_texture___m_m7.html#a1c8e52b97aeed25aa80b20459fa8a2f6">paletted_pixels</a> = (<a class="code" href="../../d1/d8f/_s_d_l__config_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *)malloc(header-&gt;<a class="code" href="../../d6/de3/struct_texture_header.html#aa29d8bd61966f56a4a298a0fd5d3bc58">uTextureSize</a>);</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;        fread(pOutTex-&gt;<a class="code" href="../../d0/ded/struct_texture___m_m7.html#a1c8e52b97aeed25aa80b20459fa8a2f6">paletted_pixels</a>, 1, header-&gt;<a class="code" href="../../d6/de3/struct_texture_header.html#aa29d8bd61966f56a4a298a0fd5d3bc58">uTextureSize</a>, pFile);</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;        data_size -= header-&gt;<a class="code" href="../../d6/de3/struct_texture_header.html#aa29d8bd61966f56a4a298a0fd5d3bc58">uTextureSize</a>;</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;        <span class="keywordflow">if</span> (header-&gt;<a class="code" href="../../d6/de3/struct_texture_header.html#aa29d8bd61966f56a4a298a0fd5d3bc58">uTextureSize</a> &gt; data_size) {</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;            assert(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;        }</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;        pOutTex-&gt;<a class="code" href="../../d0/ded/struct_texture___m_m7.html#a1c8e52b97aeed25aa80b20459fa8a2f6">paletted_pixels</a> = (<a class="code" href="../../d1/d8f/_s_d_l__config_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *)malloc(header-&gt;<a class="code" href="../../d6/de3/struct_texture_header.html#a1779bca4bab9309bc22d6cb0203ccf9a">uDecompressedSize</a>);</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;        <span class="keywordtype">void</span> *tmp_buf = malloc(header-&gt;<a class="code" href="../../d6/de3/struct_texture_header.html#aa29d8bd61966f56a4a298a0fd5d3bc58">uTextureSize</a>);</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;        fread(tmp_buf, 1, (<span class="keywordtype">size_t</span>)header-&gt;<a class="code" href="../../d6/de3/struct_texture_header.html#aa29d8bd61966f56a4a298a0fd5d3bc58">uTextureSize</a>, pFile);</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;        data_size -= header-&gt;<a class="code" href="../../d6/de3/struct_texture_header.html#aa29d8bd61966f56a4a298a0fd5d3bc58">uTextureSize</a>;</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;        <a class="code" href="../../d9/d3e/namespacezlib.html#ae552beaf4387a81c63a28b01a9cc7ab4">zlib::Uncompress</a>(pOutTex-&gt;<a class="code" href="../../d0/ded/struct_texture___m_m7.html#a1c8e52b97aeed25aa80b20459fa8a2f6">paletted_pixels</a>, &amp;header-&gt;<a class="code" href="../../d6/de3/struct_texture_header.html#a1779bca4bab9309bc22d6cb0203ccf9a">uDecompressedSize</a>,</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;                         tmp_buf, header-&gt;<a class="code" href="../../d6/de3/struct_texture_header.html#aa29d8bd61966f56a4a298a0fd5d3bc58">uTextureSize</a>);</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;        header-&gt;<a class="code" href="../../d6/de3/struct_texture_header.html#aa29d8bd61966f56a4a298a0fd5d3bc58">uTextureSize</a> = header-&gt;<a class="code" href="../../d6/de3/struct_texture_header.html#a1779bca4bab9309bc22d6cb0203ccf9a">uDecompressedSize</a>;</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;        free(tmp_buf);</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;    }</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160; </div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;    pOutTex-&gt;<a class="code" href="../../d0/ded/struct_texture___m_m7.html#aea91ddb893a1973f68692fec9df211ac">pPalette24</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160; </div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;    <span class="keywordflow">if</span> (0x300 &gt; data_size) {</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;        assert(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    }</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;    pOutTex-&gt;<a class="code" href="../../d0/ded/struct_texture___m_m7.html#aea91ddb893a1973f68692fec9df211ac">pPalette24</a> = (<a class="code" href="../../d1/d8f/_s_d_l__config_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *)malloc(0x300);</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    fread(pOutTex-&gt;<a class="code" href="../../d0/ded/struct_texture___m_m7.html#aea91ddb893a1973f68692fec9df211ac">pPalette24</a>, 1, 0x300, pFile);</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;    data_size -= 0x300;</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160; </div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;    assert(data_size == 0);</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160; </div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    <span class="keywordflow">if</span> (header-&gt;<a class="code" href="../../d6/de3/struct_texture_header.html#a7a48abb9364591bbae4bd43f283434cc">pBits</a> &amp; 2) {</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;        pOutTex-&gt;<a class="code" href="../../d0/ded/struct_texture___m_m7.html#aa3133e9a39876463761b0639a53ac017">pLevelOfDetail1</a> =</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;            &amp;pOutTex-&gt;<a class="code" href="../../d0/ded/struct_texture___m_m7.html#a1c8e52b97aeed25aa80b20459fa8a2f6">paletted_pixels</a>[header-&gt;<a class="code" href="../../d6/de3/struct_texture_header.html#aa1d3e7888d4e8cc68931af0464a71692">uSizeOfMaxLevelOfDetail</a>];</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;        <span class="comment">// v8-&gt;pLevelOfDetail2 =</span></div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;        <span class="comment">// &amp;v8-&gt;pLevelOfDetail1[v8-&gt;uSizeOfMaxLevelOfDetail &gt;&gt; 2];</span></div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;        <span class="comment">// v8-&gt;pLevelOfDetail3 =</span></div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;        <span class="comment">// &amp;v8-&gt;pLevelOfDetail2[v8-&gt;uSizeOfMaxLevelOfDetail &gt;&gt; 4];</span></div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;        pOutTex-&gt;<a class="code" href="../../d0/ded/struct_texture___m_m7.html#aa3133e9a39876463761b0639a53ac017">pLevelOfDetail1</a> = 0;</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;        <span class="comment">// v8-&gt;pLevelOfDetail2 = 0;</span></div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;        <span class="comment">// v8-&gt;pLevelOfDetail3 = 0;</span></div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    }</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160; </div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> v41 = 1; v41 &lt; 15; ++v41) {</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;        <span class="keywordflow">if</span> (1 &lt;&lt; v41 == header-&gt;<a class="code" href="../../d6/de3/struct_texture_header.html#a1bd2988895d4235e6299aae646b2efb3">uTextureWidth</a>) header-&gt;<a class="code" href="../../d6/de3/struct_texture_header.html#a4a12dcbce0852ad2508f9f3c03fa8eea">uWidthLn2</a> = v41;</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    }</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> v42 = 1; v42 &lt; 15; ++v42) {</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;        <span class="keywordflow">if</span> (1 &lt;&lt; v42 == header-&gt;<a class="code" href="../../d6/de3/struct_texture_header.html#aa1997efc88f8be304bed7fd6a6b8454d">uTextureHeight</a>) header-&gt;<a class="code" href="../../d6/de3/struct_texture_header.html#a8f2c4d4f959fcfa7c8f640b550f90daf">uHeightLn2</a> = v42;</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    }</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160; </div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;    header-&gt;<a class="code" href="../../d6/de3/struct_texture_header.html#a19ebf6348ca3f01fa2ac23773981926e">uWidthMinus1</a> = (1 &lt;&lt; header-&gt;<a class="code" href="../../d6/de3/struct_texture_header.html#a4a12dcbce0852ad2508f9f3c03fa8eea">uWidthLn2</a>) - 1;</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;    header-&gt;<a class="code" href="../../d6/de3/struct_texture_header.html#a68c94e6460ab3bca2d8b6d8fd83b604b">uHeightMinus1</a> = (1 &lt;&lt; header-&gt;<a class="code" href="../../d6/de3/struct_texture_header.html#a8f2c4d4f959fcfa7c8f640b550f90daf">uHeightLn2</a>) - 1;</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160; </div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;}</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160; </div>
<div class="line"><a name="l01176"></a><span class="lineno"><a class="line" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a02577fc853d4eec66817703c86058814"> 1176</a></span>&#160;<a class="code" href="../../d0/ded/struct_texture___m_m7.html">Texture_MM7</a> *<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a02577fc853d4eec66817703c86058814">LODFile_IconsBitmaps::LoadTexturePtr</a>(</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *pContainer, <span class="keyword">enum</span> <a class="code" href="../../d3/db2/_l_o_d_8h.html#a7359f4c244be23e8dc2b5fc4232c8c54">TEXTURE_TYPE</a> uTextureType) {</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    <a class="code" href="../../d2/d83/_m_m7_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <span class="keywordtype">id</span> = LoadTexture(pContainer, uTextureType);</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160; </div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    Assert(<span class="keywordtype">id</span> != -1 &amp;&amp; L<span class="stringliteral">&quot;Texture_MM7 not found&quot;</span>);</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160; </div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;    <span class="keywordflow">return</span> &amp;pTextures[<a class="code" href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a58c2a664503e14ffb8f21012aabff3e9">id</a>];</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;}</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160; </div>
<div class="line"><a name="l01185"></a><span class="lineno"><a class="line" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a91b62998b7a068b94e4e53dd1994b104"> 1185</a></span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a91b62998b7a068b94e4e53dd1994b104">LODFile_IconsBitmaps::LoadTexture</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *pContainer,</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;                                               <span class="keyword">enum</span> <a class="code" href="../../d3/db2/_l_o_d_8h.html#a7359f4c244be23e8dc2b5fc4232c8c54">TEXTURE_TYPE</a> uTextureType) {</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d2/d83/_m_m7_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> i = 0; i &lt; uNumLoadedFiles; ++i) {</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;        <span class="keywordflow">if</span> (!_stricmp(pContainer, pTextures[i].header.pName)) {</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;            <span class="keywordflow">return</span> i;</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;        }</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;    }</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160; </div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;    Assert(uNumLoadedFiles &lt; 1000);</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160; </div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;    <span class="keywordflow">if</span> (LoadTextureFromLOD(&amp;pTextures[uNumLoadedFiles], pContainer,</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;                           uTextureType) == -1) {</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../d2/d83/_m_m7_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> i = 0; i &lt; uNumLoadedFiles; ++i) {</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;            <span class="keywordflow">if</span> (!_stricmp(pTextures[i].header.pName, <span class="stringliteral">&quot;pending&quot;</span>)) {</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;                <span class="keywordflow">return</span> i;</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;            }</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;        }</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;        LoadTextureFromLOD(&amp;pTextures[uNumLoadedFiles], <span class="stringliteral">&quot;pending&quot;</span>,</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;                           uTextureType);</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    }</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160; </div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    <span class="keywordflow">return</span> uNumLoadedFiles++;</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;}</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160; </div>
<div class="line"><a name="l01209"></a><span class="lineno"><a class="line" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a873a32f7108fe1b80815afeb85a65c51"> 1209</a></span>&#160;<a class="code" href="../../d0/ded/struct_texture___m_m7.html">Texture_MM7</a> *<a class="code" href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a873a32f7108fe1b80815afeb85a65c51">LODFile_IconsBitmaps::GetTexture</a>(<span class="keywordtype">int</span> idx) {</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    Assert(idx &lt; MAX_LOD_TEXTURES, <span class="stringliteral">&quot;Texture_MM7 index out of bounds (%u)&quot;</span>, idx);</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    <span class="keywordflow">if</span> (idx == -1) {</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;        <span class="comment">// logger-&gt;Warning(L&quot;Texture_MM7 id = %d missing&quot;, idx);</span></div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;        <span class="keywordflow">return</span> pTextures + LoadDummyTexture();</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    }</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    <span class="keywordflow">return</span> pTextures + idx;</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;}</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160; </div>
<div class="line"><a name="l01218"></a><span class="lineno"><a class="line" href="../../dd/de7/_save_load_8h.html#ac5f6c27c016c3c4c5cc60702a578c538"> 1218</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../de/d42/_l_o_d_8cpp.html#ac5f6c27c016c3c4c5cc60702a578c538">Initialize_GamesLOD_NewLOD</a>() {</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    <a class="code" href="../../de/d42/_l_o_d_8cpp.html#a137bcff77c678b90cc1007a592cbb644">pGames_LOD</a> = <span class="keyword">new</span> <a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html">LOD::File</a>();</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../de/d42/_l_o_d_8cpp.html#a137bcff77c678b90cc1007a592cbb644">pGames_LOD</a>-&gt;<a class="code" href="../../dd/da7/class_l_o_d_1_1_file.html#aa32d8447321690bead61de05f93352be">Open</a>(<a class="code" href="../../d4/d68/_engine_8cpp.html#a7a083a74e008e624d001444406d58c6d">MakeDataPath</a>(<span class="stringliteral">&quot;data\\games.lod&quot;</span>))) {</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;        <a class="code" href="../../de/d42/_l_o_d_8cpp.html#aef85f9958d2146e2fa92b9b5f9c184fd">pNew_LOD</a> = <span class="keyword">new</span> <a class="code" href="../../d6/d34/class_l_o_d_1_1_writeable_file.html">LOD::WriteableFile</a>;</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;        <a class="code" href="../../de/d42/_l_o_d_8cpp.html#aef85f9958d2146e2fa92b9b5f9c184fd">pNew_LOD</a>-&gt;<a class="code" href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#a27c1375db8ac51cc709ea1bb913f6a6a">AllocSubIndicesAndIO</a>(300, 100000);</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    }</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="a_s_d_l__config_8h_html_a273cf69d639a59973b6019625df33e30"><div class="ttname"><a href="../../d1/d8f/_s_d_l__config_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a></div><div class="ttdeci">unsigned __int16 uint16_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8f/_s_d_l__config_8h_source.html#l00037">SDL_config.h:37</a></div></div>
<div class="ttc" id="astruct_software_billboard_html_adee1124f71216e779f890db212d76116"><div class="ttname"><a href="../../d2/d7a/struct_software_billboard.html#adee1124f71216e779f890db212d76116">SoftwareBillboard::pPalette</a></div><div class="ttdeci">uint16_t * pPalette</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d20/_i_render_8h_source.html#l00179">IRender.h:179</a></div></div>
<div class="ttc" id="astruct_l_o_d_1_1_directory_html_a6dfe8258b88fd9779ee6618fb399af4b"><div class="ttname"><a href="../../d1/db2/struct_l_o_d_1_1_directory.html#a6dfe8258b88fd9779ee6618fb399af4b">LOD::Directory::field_F</a></div><div class="ttdeci">char field_F</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00049">LOD.h:49</a></div></div>
<div class="ttc" id="a_l_o_d_8cpp_html_aef85f9958d2146e2fa92b9b5f9c184fd"><div class="ttname"><a href="../../de/d42/_l_o_d_8cpp.html#aef85f9958d2146e2fa92b9b5f9c184fd">pNew_LOD</a></div><div class="ttdeci">LOD::WriteableFile * pNew_LOD</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00024">LOD.cpp:24</a></div></div>
<div class="ttc" id="astruct_l_o_d_1_1_directory_html_a07c35304ad77ebcadebd6723c4a7b4b2"><div class="ttname"><a href="../../d1/db2/struct_l_o_d_1_1_directory.html#a07c35304ad77ebcadebd6723c4a7b4b2">LOD::Directory::uDataSize</a></div><div class="ttdeci">uint32_t uDataSize</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00051">LOD.h:51</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___sprites_html_aa5f15ac8ff09508b01b61c97156ffd9f"><div class="ttname"><a href="../../d4/d10/class_l_o_d_file___sprites.html#aa5f15ac8ff09508b01b61c97156ffd9f">LODFile_Sprites::DeleteSpritesRange</a></div><div class="ttdeci">void DeleteSpritesRange(int uStartIndex, int uStopIndex)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00306">LOD.cpp:306</a></div></div>
<div class="ttc" id="aclass_l_o_d_1_1_writeable_file_html_a9edb5a59b1a9ca2ea1526b3f52ef8cd5"><div class="ttname"><a href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#a9edb5a59b1a9ca2ea1526b3f52ef8cd5">LOD::WriteableFile::FixDirectoryOffsets</a></div><div class="ttdeci">int FixDirectoryOffsets()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00452">LOD.cpp:452</a></div></div>
<div class="ttc" id="a_s_d_l__config_8h_html_a269259c924dce846340ddbb810db2e3c"><div class="ttname"><a href="../../d1/d8f/_s_d_l__config_8h.html#a269259c924dce846340ddbb810db2e3c">int16_t</a></div><div class="ttdeci">signed __int16 int16_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8f/_s_d_l__config_8h_source.html#l00036">SDL_config.h:36</a></div></div>
<div class="ttc" id="aclass_l_o_d_1_1_writeable_file_html_aafc283e61cafbda02bf0c4828e579046"><div class="ttname"><a href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#aafc283e61cafbda02bf0c4828e579046">LOD::WriteableFile::LoadFile</a></div><div class="ttdeci">bool LoadFile(const String &amp;pFilename, bool bWriting)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00686">LOD.cpp:686</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___icons_bitmaps_html_a815a8b0317d8091fb49c90be49644937"><div class="ttname"><a href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a815a8b0317d8091fb49c90be49644937">LODFile_IconsBitmaps::uTextureRedBits</a></div><div class="ttdeci">int uTextureRedBits</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00163">LOD.h:163</a></div></div>
<div class="ttc" id="a_l_o_d_8h_html"><div class="ttname"><a href="../../d3/db2/_l_o_d_8h.html">LOD.h</a></div></div>
<div class="ttc" id="aclass_l_o_d_1_1_writeable_file_html_a27c1375db8ac51cc709ea1bb913f6a6a"><div class="ttname"><a href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#a27c1375db8ac51cc709ea1bb913f6a6a">LOD::WriteableFile::AllocSubIndicesAndIO</a></div><div class="ttdeci">void AllocSubIndicesAndIO(unsigned int uNumSubIndices, unsigned int uBufferSize)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00712">LOD.cpp:712</a></div></div>
<div class="ttc" id="a_l_o_d_8cpp_html_a894b58714517c46b214d4b948a07d10f"><div class="ttname"><a href="../../de/d42/_l_o_d_8cpp.html#a894b58714517c46b214d4b948a07d10f">pBitmaps_LOD_mm6</a></div><div class="ttdeci">LODFile_IconsBitmaps * pBitmaps_LOD_mm6</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00017">LOD.cpp:17</a></div></div>
<div class="ttc" id="astruct_l_o_d_sprite_line_html"><div class="ttname"><a href="../../df/ddf/struct_l_o_d_sprite_line.html">LODSpriteLine</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00091">LOD.cpp:91</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___icons_bitmaps_html_a0decaaa41d5f8bf4e41461592762742e"><div class="ttname"><a href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a0decaaa41d5f8bf4e41461592762742e">LODFile_IconsBitmaps::LODFile_IconsBitmaps</a></div><div class="ttdeci">LODFile_IconsBitmaps()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00421">LOD.cpp:421</a></div></div>
<div class="ttc" id="astruct_l_o_d_1_1_file_header_html_a240d59af40663fc994f669ed9fd3afcf"><div class="ttname"><a href="../../dc/d2a/struct_l_o_d_1_1_file_header.html#a240d59af40663fc994f669ed9fd3afcf">LOD::FileHeader::uNumIndices</a></div><div class="ttdeci">uint32_t uNumIndices</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00039">LOD.h:39</a></div></div>
<div class="ttc" id="aclass_l_o_d_1_1_writeable_file_html_a9701458ff3b4a3009e6acc4e706d2060"><div class="ttname"><a href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#a9701458ff3b4a3009e6acc4e706d2060">LOD::WriteableFile::ResetSubIndices</a></div><div class="ttdeci">virtual void ResetSubIndices()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00294">LOD.cpp:294</a></div></div>
<div class="ttc" id="a_l_o_d_8cpp_html_a620d8339d97670d600bd1bc9330b559c"><div class="ttname"><a href="../../de/d42/_l_o_d_8cpp.html#a620d8339d97670d600bd1bc9330b559c">pSprites_LOD</a></div><div class="ttdeci">LODFile_Sprites * pSprites_LOD</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00020">LOD.cpp:20</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___icons_bitmaps_html_aab3f8f14ea26eff92a721e2d633bf2c7"><div class="ttname"><a href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#aab3f8f14ea26eff92a721e2d633bf2c7">LODFile_IconsBitmaps::uNumLoadedFiles</a></div><div class="ttdeci">unsigned int uNumLoadedFiles</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00159">LOD.h:159</a></div></div>
<div class="ttc" id="a_s_d_l__egl_8h_html_a1e71d9c196e4683cc06c4b54d53f7ef5"><div class="ttname"><a href="../../df/d32/_s_d_l__egl_8h.html#a1e71d9c196e4683cc06c4b54d53f7ef5">mode</a></div><div class="ttdeci">EGLSyncKHR EGLenum mode</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d32/_s_d_l__egl_8h_source.html#l01056">SDL_egl.h:1056</a></div></div>
<div class="ttc" id="astruct_compressed_header_html_a3cd6b9b06380d4445542686c424ca477"><div class="ttname"><a href="../../d0/deb/struct_compressed_header.html#a3cd6b9b06380d4445542686c424ca477">CompressedHeader::uVersion</a></div><div class="ttdeci">uint32_t uVersion</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00958">LOD.cpp:958</a></div></div>
<div class="ttc" id="astruct_compressed_header_html_ad280bc573870de8fe0165cafdab7d0bd"><div class="ttname"><a href="../../d0/deb/struct_compressed_header.html#ad280bc573870de8fe0165cafdab7d0bd">CompressedHeader::uCompressedSize</a></div><div class="ttdeci">uint32_t uCompressedSize</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00960">LOD.cpp:960</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___icons_bitmaps_html_a2fc325c4e49216a8478889440d643d47"><div class="ttname"><a href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a2fc325c4e49216a8478889440d643d47">LODFile_IconsBitmaps::FindTextureByName</a></div><div class="ttdeci">unsigned int FindTextureByName(const char *pName)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00368">LOD.cpp:368</a></div></div>
<div class="ttc" id="astruct_l_o_d_1_1_directory_html_a951912ba26a4ee4588296d3b070b95d1"><div class="ttname"><a href="../../d1/db2/struct_l_o_d_1_1_directory.html#a951912ba26a4ee4588296d3b070b95d1">LOD::Directory::Directory</a></div><div class="ttdeci">Directory()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00824">LOD.cpp:824</a></div></div>
<div class="ttc" id="aclass_l_o_d_1_1_file_html_a5f6af489e25a2a9a623cad5f8c923ea9"><div class="ttname"><a href="../../dd/da7/class_l_o_d_1_1_file.html#a5f6af489e25a2a9a623cad5f8c923ea9">LOD::File::ResetSubIndices</a></div><div class="ttdeci">virtual void ResetSubIndices()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00283">LOD.cpp:283</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___icons_bitmaps_html_a045879eced651194c9304fece2c5e1d3"><div class="ttname"><a href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a045879eced651194c9304fece2c5e1d3">LODFile_IconsBitmaps::ptr_011BB4</a></div><div class="ttdeci">char * ptr_011BB4</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00173">LOD.h:173</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___icons_bitmaps_html_a02577fc853d4eec66817703c86058814"><div class="ttname"><a href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a02577fc853d4eec66817703c86058814">LODFile_IconsBitmaps::LoadTexturePtr</a></div><div class="ttdeci">struct Texture_MM7 * LoadTexturePtr(const char *pContainer, enum TEXTURE_TYPE uTextureType=TEXTURE_DEFAULT)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l01176">LOD.cpp:1176</a></div></div>
<div class="ttc" id="astruct_l_o_d_1_1_directory_html_a6c35e089ebc35dd9b6395ce39103a143"><div class="ttname"><a href="../../d1/db2/struct_l_o_d_1_1_directory.html#a6c35e089ebc35dd9b6395ce39103a143">LOD::Directory::pFilename</a></div><div class="ttdeci">char pFilename[15]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00048">LOD.h:48</a></div></div>
<div class="ttc" id="aclass_l_o_d_1_1_file_html_af2af972a90784bbcfa975ccd0346385d"><div class="ttname"><a href="../../dd/da7/class_l_o_d_1_1_file.html#af2af972a90784bbcfa975ccd0346385d">LOD::File::LoadCompressedTexture</a></div><div class="ttdeci">void * LoadCompressedTexture(const String &amp;pContainer, size_t *data_size=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00921">LOD.cpp:921</a></div></div>
<div class="ttc" id="astruct_software_billboard_html_a6b31fc0e2f7fc5eb4bc63271cbdbd774"><div class="ttname"><a href="../../d2/d7a/struct_software_billboard.html#a6b31fc0e2f7fc5eb4bc63271cbdbd774">SoftwareBillboard::pTarget</a></div><div class="ttdeci">void * pTarget</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d20/_i_render_8h_source.html#l00171">IRender.h:171</a></div></div>
<div class="ttc" id="astruct_compressed_header_html_ab1f35aca3d1ba2214f6fef8b1a80b84f"><div class="ttname"><a href="../../d0/deb/struct_compressed_header.html#ab1f35aca3d1ba2214f6fef8b1a80b84f">CompressedHeader::pMagic</a></div><div class="ttdeci">char pMagic[4]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00959">LOD.cpp:959</a></div></div>
<div class="ttc" id="anamespace_l_o_d_html"><div class="ttname"><a href="../../d7/d3d/namespace_l_o_d.html">LOD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00020">LOD.h:20</a></div></div>
<div class="ttc" id="aclass_l_o_d_1_1_writeable_file_html_aad84dd1910dc1e0792222eeb04e5a780"><div class="ttname"><a href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#aad84dd1910dc1e0792222eeb04e5a780">LOD::WriteableFile::_4621A7</a></div><div class="ttdeci">bool _4621A7()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00446">LOD.cpp:446</a></div></div>
<div class="ttc" id="aclass_l_o_d_1_1_file_html_a5f308ac99a49c87179a5dff49084b81f"><div class="ttname"><a href="../../dd/da7/class_l_o_d_1_1_file.html#a5f308ac99a49c87179a5dff49084b81f">LOD::File::DoesContainerExist</a></div><div class="ttdeci">bool DoesContainerExist(const String &amp;filename)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00833">LOD.cpp:833</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___icons_bitmaps_html_af755857003247d41569d61f88e8993dd"><div class="ttname"><a href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#af755857003247d41569d61f88e8993dd">LODFile_IconsBitmaps::SyncLoadedFilesCount</a></div><div class="ttdeci">void SyncLoadedFilesCount()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00375">LOD.cpp:375</a></div></div>
<div class="ttc" id="astruct_l_o_d_sprite_header_html_ab98aceff3f5bef6f1c9db989cbeba57e"><div class="ttname"><a href="../../d3/ddd/struct_l_o_d_sprite_header.html#ab98aceff3f5bef6f1c9db989cbeba57e">LODSpriteHeader::uSpriteSize</a></div><div class="ttdeci">uint32_t uSpriteSize</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00185">LOD.h:185</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___icons_bitmaps_html_a66baf8178c86e1140f3de52db8afe8b2"><div class="ttname"><a href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a66baf8178c86e1140f3de52db8afe8b2">LODFile_IconsBitmaps::uNumPrevLoadedFiles</a></div><div class="ttdeci">int uNumPrevLoadedFiles</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00166">LOD.h:166</a></div></div>
<div class="ttc" id="aclass_l_o_d_1_1_file_html_a2ce37440b37d55351995559664161bd8"><div class="ttname"><a href="../../dd/da7/class_l_o_d_1_1_file.html#a2ce37440b37d55351995559664161bd8">LOD::File::header</a></div><div class="ttdeci">struct FileHeader header</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00087">LOD.h:87</a></div></div>
<div class="ttc" id="aclass_l_o_d_1_1_file_html_a3206b35b36bdb0effcfe6a659eaf1f91"><div class="ttname"><a href="../../dd/da7/class_l_o_d_1_1_file.html#a3206b35b36bdb0effcfe6a659eaf1f91">LOD::File::pRoot</a></div><div class="ttdeci">std::vector&lt; Directory &gt; pRoot</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00089">LOD.h:89</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___icons_bitmaps_html_afa78d8aee70544e1b4c1bbff0245c18e"><div class="ttname"><a href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#afa78d8aee70544e1b4c1bbff0245c18e">LODFile_IconsBitmaps::ReloadTexture</a></div><div class="ttdeci">int ReloadTexture(struct Texture_MM7 *pDst, const char *pContainer, int mode)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l01019">LOD.cpp:1019</a></div></div>
<div class="ttc" id="aclass_h_w_l_texture_html_a42fb873b4dcf2b24f7d1455cfba85899"><div class="ttname"><a href="../../d8/dc7/class_h_w_l_texture.html#a42fb873b4dcf2b24f7d1455cfba85899">HWLTexture::uAreaWidth</a></div><div class="ttdeci">int uAreaWidth</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d11/_h_w_l_container_8h_source.html#l00015">HWLContainer.h:15</a></div></div>
<div class="ttc" id="astruct_l_o_d_sprite_header_html_aa6f9a631d6defe7d4309112ac41af225"><div class="ttname"><a href="../../d3/ddd/struct_l_o_d_sprite_header.html#aa6f9a631d6defe7d4309112ac41af225">LODSpriteHeader::uWidth</a></div><div class="ttdeci">uint16_t uWidth</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00186">LOD.h:186</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___icons_bitmaps_html_ad22040f35c72bb7f7756abfced1f9abc"><div class="ttname"><a href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#ad22040f35c72bb7f7756abfced1f9abc">LODFile_IconsBitmaps::dword_11B80</a></div><div class="ttdeci">int dword_11B80</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00160">LOD.h:160</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___icons_bitmaps_html_a72852d758b7dc7ea01fa340b2de6afda"><div class="ttname"><a href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a72852d758b7dc7ea01fa340b2de6afda">LODFile_IconsBitmaps::~LODFile_IconsBitmaps</a></div><div class="ttdeci">virtual ~LODFile_IconsBitmaps()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00411">LOD.cpp:411</a></div></div>
<div class="ttc" id="aclass_sprite_html_a17340779c908defa0137d5af828d3de4"><div class="ttname"><a href="../../d7/dbf/class_sprite.html#a17340779c908defa0137d5af828d3de4">Sprite::uBufferHeight</a></div><div class="ttdeci">int uBufferHeight</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d23/_sprites_8h_source.html#l00032">Sprites.h:32</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___icons_bitmaps_html_afef1e59000ea6f4794c3a4e73c355d14"><div class="ttname"><a href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#afef1e59000ea6f4794c3a4e73c355d14">LODFile_IconsBitmaps::uTexturePacksCount</a></div><div class="ttdeci">int uTexturePacksCount</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00167">LOD.h:167</a></div></div>
<div class="ttc" id="aclass_l_o_d_1_1_file_html_ab71fc5e72e25e22a2712c317528db0d9"><div class="ttname"><a href="../../dd/da7/class_l_o_d_1_1_file.html#ab71fc5e72e25e22a2712c317528db0d9">LOD::File::Close</a></div><div class="ttdeci">void Close()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00243">LOD.cpp:243</a></div></div>
<div class="ttc" id="astruct_l_o_d_sprite_header_html"><div class="ttname"><a href="../../d3/ddd/struct_l_o_d_sprite_header.html">LODSpriteHeader</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00177">LOD.h:177</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___icons_bitmaps_html_aeef1f10d837cae7959a7603437d70bf2"><div class="ttname"><a href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#aeef1f10d837cae7959a7603437d70bf2">LODFile_IconsBitmaps::_011BA4_debug_paletted_pixels_uncompressed</a></div><div class="ttdeci">int _011BA4_debug_paletted_pixels_uncompressed</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00169">LOD.h:169</a></div></div>
<div class="ttc" id="astruct_l_o_d_1_1_file_header_html_aee287b83a43727c658827999bd82a801"><div class="ttname"><a href="../../dc/d2a/struct_l_o_d_1_1_file_header.html#aee287b83a43727c658827999bd82a801">LOD::FileHeader::LODSize</a></div><div class="ttdeci">uint32_t LODSize</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00037">LOD.h:37</a></div></div>
<div class="ttc" id="a_s_d_l__opengl__glext_8h_html_a8f486379aef534669f4f06f515e7ce6c"><div class="ttname"><a href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a8f486379aef534669f4f06f515e7ce6c">texture</a></div><div class="ttdeci">GLenum GLenum GLuint texture</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d32/_s_d_l__opengl__glext_8h_source.html#l01181">SDL_opengl_glext.h:1181</a></div></div>
<div class="ttc" id="astruct_compressed_header_html"><div class="ttname"><a href="../../d0/deb/struct_compressed_header.html">CompressedHeader</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00957">LOD.cpp:957</a></div></div>
<div class="ttc" id="aclass_sprite_html_a3d42412fa0ae1138f7f7bcf4e8d85110"><div class="ttname"><a href="../../d7/dbf/class_sprite.html#a3d42412fa0ae1138f7f7bcf4e8d85110">Sprite::texture</a></div><div class="ttdeci">Texture * texture</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d23/_sprites_8h_source.html#l00028">Sprites.h:28</a></div></div>
<div class="ttc" id="astruct_texture_header_html_a7a48abb9364591bbae4bd43f283434cc"><div class="ttname"><a href="../../d6/de3/struct_texture_header.html#a7a48abb9364591bbae4bd43f283434cc">TextureHeader::pBits</a></div><div class="ttdeci">uint32_t pBits</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de5/_image_8h_source.html#l00091">Image.h:91</a></div></div>
<div class="ttc" id="aclass_l_o_d_1_1_writeable_file_html_afeb4addbf259dbd7a4dbe4659c5291a5"><div class="ttname"><a href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#afeb4addbf259dbd7a4dbe4659c5291a5">LOD::WriteableFile::CloseWriteFile</a></div><div class="ttdeci">void CloseWriteFile()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00530">LOD.cpp:530</a></div></div>
<div class="ttc" id="aclass_h_w_l_texture_html"><div class="ttname"><a href="../../d8/dc7/class_h_w_l_texture.html">HWLTexture</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d11/_h_w_l_container_8h_source.html#l00009">HWLContainer.h:9</a></div></div>
<div class="ttc" id="astruct_texture_header_html_a4a12dcbce0852ad2508f9f3c03fa8eea"><div class="ttname"><a href="../../d6/de3/struct_texture_header.html#a4a12dcbce0852ad2508f9f3c03fa8eea">TextureHeader::uWidthLn2</a></div><div class="ttdeci">int16_t uWidthLn2</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de5/_image_8h_source.html#l00084">Image.h:84</a></div></div>
<div class="ttc" id="a_s_d_l__opengl__glext_8h_html_a57f14e05b1900f16a2da82ade47d0c6d"><div class="ttname"><a href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a57f14e05b1900f16a2da82ade47d0c6d">index</a></div><div class="ttdeci">GLuint index</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d32/_s_d_l__opengl__glext_8h_source.html#l00663">SDL_opengl_glext.h:663</a></div></div>
<div class="ttc" id="astruct_texture___m_m7_html_a1c8e52b97aeed25aa80b20459fa8a2f6"><div class="ttname"><a href="../../d0/ded/struct_texture___m_m7.html#a1c8e52b97aeed25aa80b20459fa8a2f6">Texture_MM7::paletted_pixels</a></div><div class="ttdeci">uint8_t * paletted_pixels</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de5/_image_8h_source.html#l00102">Image.h:102</a></div></div>
<div class="ttc" id="a_engine_8h_html"><div class="ttname"><a href="../../de/dcf/_engine_8h.html">Engine.h</a></div></div>
<div class="ttc" id="aclass_sprite_html"><div class="ttname"><a href="../../d7/dbf/class_sprite.html">Sprite</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d23/_sprites_8h_source.html#l00010">Sprites.h:10</a></div></div>
<div class="ttc" id="astruct_l_o_d_1_1_directory_html_ad30863092cc0c0423490917d6d2721c1"><div class="ttname"><a href="../../d1/db2/struct_l_o_d_1_1_directory.html#ad30863092cc0c0423490917d6d2721c1">LOD::Directory::uOfsetFromSubindicesStart</a></div><div class="ttdeci">uint32_t uOfsetFromSubindicesStart</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00050">LOD.h:50</a></div></div>
<div class="ttc" id="a_s_d_l__opengl__glext_8h_html_a321ff419cd5252e54cf95e64dc6687ee"><div class="ttname"><a href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a></div><div class="ttdeci">GLuint64EXT * result</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d32/_s_d_l__opengl__glext_8h_source.html#l09435">SDL_opengl_glext.h:9435</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___sprites_html_a9196ad3e3bbbfe3a18751a754aff5661"><div class="ttname"><a href="../../d4/d10/class_l_o_d_file___sprites.html#a9196ad3e3bbbfe3a18751a754aff5661">LODFile_Sprites::LoadSprite</a></div><div class="ttdeci">int LoadSprite(const char *pContainerName, unsigned int uPaletteID)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00149">LOD.cpp:149</a></div></div>
<div class="ttc" id="a_l_o_d_8h_html_a7359f4c244be23e8dc2b5fc4232c8c54ad6e1e94c89d0d857168b1a9278991d16"><div class="ttname"><a href="../../d3/db2/_l_o_d_8h.html#a7359f4c244be23e8dc2b5fc4232c8c54ad6e1e94c89d0d857168b1a9278991d16">TEXTURE_24BIT_PALETTE</a></div><div class="ttdeci">@ TEXTURE_24BIT_PALETTE</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00017">LOD.h:17</a></div></div>
<div class="ttc" id="aclass_l_o_d_1_1_writeable_file_html"><div class="ttname"><a href="../../d6/d34/class_l_o_d_1_1_writeable_file.html">LOD::WriteableFile</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00097">LOD.h:97</a></div></div>
<div class="ttc" id="a_l_o_d_8cpp_html_a3e10725e973e2619743db9acd84c7556"><div class="ttname"><a href="../../de/d42/_l_o_d_8cpp.html#a3e10725e973e2619743db9acd84c7556">pSprites_LOD_mm6</a></div><div class="ttdeci">LODFile_Sprites * pSprites_LOD_mm6</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00021">LOD.cpp:21</a></div></div>
<div class="ttc" id="aclass_sprite_html_a6e424a9e97b6a8b9fa54c44c851d53f6"><div class="ttname"><a href="../../d7/dbf/class_sprite.html#a6e424a9e97b6a8b9fa54c44c851d53f6">Sprite::uAreaY</a></div><div class="ttdeci">int uAreaY</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d23/_sprites_8h_source.html#l00030">Sprites.h:30</a></div></div>
<div class="ttc" id="aclass_l_o_d_1_1_file_html_a686f8c6509748a20a067d674590c1ccb"><div class="ttname"><a href="../../dd/da7/class_l_o_d_1_1_file.html#a686f8c6509748a20a067d674590c1ccb">LOD::File::pFile</a></div><div class="ttdeci">FILE * pFile</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00083">LOD.h:83</a></div></div>
<div class="ttc" id="aclass_h_w_l_texture_html_a3e1a2768419a39174f32ed7cda62cd68"><div class="ttname"><a href="../../d8/dc7/class_h_w_l_texture.html#a3e1a2768419a39174f32ed7cda62cd68">HWLTexture::uBufferWidth</a></div><div class="ttdeci">int uBufferWidth</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d11/_h_w_l_container_8h_source.html#l00013">HWLContainer.h:13</a></div></div>
<div class="ttc" id="astruct_texture___m_m7_html_a97b3fae1ab456cc63971d88fef8a5220"><div class="ttname"><a href="../../d0/ded/struct_texture___m_m7.html#a97b3fae1ab456cc63971d88fef8a5220">Texture_MM7::header</a></div><div class="ttdeci">TextureHeader header</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de5/_image_8h_source.html#l00101">Image.h:101</a></div></div>
<div class="ttc" id="a_s_d_l__egl_8h_html_a1675d9d7bb68e1657ff028643b4037e3"><div class="ttname"><a href="../../df/d32/_s_d_l__egl_8h.html#a1675d9d7bb68e1657ff028643b4037e3">y</a></div><div class="ttdeci">EGLSurface EGLint EGLint y</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d32/_s_d_l__egl_8h_source.html#l01596">SDL_egl.h:1596</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___icons_bitmaps_html_af1497f81fa4c1f6dff3eaf1b6a4144f5"><div class="ttname"><a href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#af1497f81fa4c1f6dff3eaf1b6a4144f5">LODFile_IconsBitmaps::LoadTextureFromLOD</a></div><div class="ttdeci">int LoadTextureFromLOD(struct Texture_MM7 *pOutTex, const char *pContainer, enum TEXTURE_TYPE eTextureType)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l01063">LOD.cpp:1063</a></div></div>
<div class="ttc" id="astruct_l_o_d_1_1_directory_html"><div class="ttname"><a href="../../d1/db2/struct_l_o_d_1_1_directory.html">LOD::Directory</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00045">LOD.h:45</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___icons_bitmaps_html_a74bcb94f8eeefc68605571f502b537f2"><div class="ttname"><a href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a74bcb94f8eeefc68605571f502b537f2">LODFile_IconsBitmaps::ReleaseLostHardwareTextures</a></div><div class="ttdeci">void ReleaseLostHardwareTextures()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l01017">LOD.cpp:1017</a></div></div>
<div class="ttc" id="aclass_l_o_d_1_1_writeable_file_html_af9d92a6612fd61455a2eb8a6e874f6a6"><div class="ttname"><a href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#af9d92a6612fd61455a2eb8a6e874f6a6">LOD::WriteableFile::CreateNewLod</a></div><div class="ttdeci">int CreateNewLod(LOD::FileHeader *pHeader, const String &amp;root_name, const String &amp;Source)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00257">LOD.cpp:257</a></div></div>
<div class="ttc" id="aclass_sprite_html_a1662017a86b618635bd2f536efd9f177"><div class="ttname"><a href="../../d7/dbf/class_sprite.html#a1662017a86b618635bd2f536efd9f177">Sprite::uBufferWidth</a></div><div class="ttdeci">int uBufferWidth</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d23/_sprites_8h_source.html#l00031">Sprites.h:31</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___sprites_html_af78a4ebaa4eb5fac65f67bf1e6f48b96"><div class="ttname"><a href="../../d4/d10/class_l_o_d_file___sprites.html#af78a4ebaa4eb5fac65f67bf1e6f48b96">LODFile_Sprites::LODFile_Sprites</a></div><div class="ttdeci">LODFile_Sprites()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00402">LOD.cpp:402</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___icons_bitmaps_html_a605e364b2daffc34eb94216d609fd00c"><div class="ttname"><a href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a605e364b2daffc34eb94216d609fd00c">LODFile_IconsBitmaps::_inlined_sub0</a></div><div class="ttdeci">void _inlined_sub0()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00050">LOD.cpp:50</a></div></div>
<div class="ttc" id="aclass_l_o_d_1_1_writeable_file_html_a1e6bd4601bce34cc4f9eba2a8ccc8a0d"><div class="ttname"><a href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#a1e6bd4601bce34cc4f9eba2a8ccc8a0d">LOD::WriteableFile::FreeSubIndexAndIO</a></div><div class="ttdeci">void FreeSubIndexAndIO()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00732">LOD.cpp:732</a></div></div>
<div class="ttc" id="a_l_o_d_8cpp_html_afac4ba24476c632e2a452eaab3439550"><div class="ttname"><a href="../../de/d42/_l_o_d_8cpp.html#afac4ba24476c632e2a452eaab3439550">pIcons_LOD_mm6</a></div><div class="ttdeci">LODFile_IconsBitmaps * pIcons_LOD_mm6</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00013">LOD.cpp:13</a></div></div>
<div class="ttc" id="astruct_software_billboard_html"><div class="ttname"><a href="../../d2/d7a/struct_software_billboard.html">SoftwareBillboard</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d20/_i_render_8h_source.html#l00170">IRender.h:170</a></div></div>
<div class="ttc" id="a_i_render_8h_html"><div class="ttname"><a href="../../da/d20/_i_render_8h.html">IRender.h</a></div></div>
<div class="ttc" id="astruct_compressed_header_html_a50d55ce989d953c407353822107c6ba3"><div class="ttname"><a href="../../d0/deb/struct_compressed_header.html#a50d55ce989d953c407353822107c6ba3">CompressedHeader::uDecompressedSize</a></div><div class="ttdeci">uint32_t uDecompressedSize</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00961">LOD.cpp:961</a></div></div>
<div class="ttc" id="aclass_l_o_d_1_1_file_html_a8f762d0ab8fac8fdcf8fa4d66cec32ed"><div class="ttname"><a href="../../dd/da7/class_l_o_d_1_1_file.html#a8f762d0ab8fac8fdcf8fa4d66cec32ed">LOD::File::isFileOpened</a></div><div class="ttdeci">bool isFileOpened</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00085">LOD.h:85</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___sprites_html_af49ed65a529b822c88e2512295ca2547"><div class="ttname"><a href="../../d4/d10/class_l_o_d_file___sprites.html#af49ed65a529b822c88e2512295ca2547">LODFile_Sprites::~LODFile_Sprites</a></div><div class="ttdeci">virtual ~LODFile_Sprites()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00387">LOD.cpp:387</a></div></div>
<div class="ttc" id="aclass_assets_manager_html_ae548bd58b748e70c6d31c96e07f2711a"><div class="ttname"><a href="../../db/dd6/class_assets_manager.html#ae548bd58b748e70c6d31c96e07f2711a">AssetsManager::GetSprite</a></div><div class="ttdeci">Texture * GetSprite(const String &amp;name, unsigned int palette_id, unsigned int lod_sprite_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/_assets_manager_8cpp_source.html#l00141">AssetsManager.cpp:141</a></div></div>
<div class="ttc" id="astruct_texture_header_html_a68c94e6460ab3bca2d8b6d8fd83b604b"><div class="ttname"><a href="../../d6/de3/struct_texture_header.html#a68c94e6460ab3bca2d8b6d8fd83b604b">TextureHeader::uHeightMinus1</a></div><div class="ttdeci">int16_t uHeightMinus1</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de5/_image_8h_source.html#l00087">Image.h:87</a></div></div>
<div class="ttc" id="astruct_texture_header_html_a4d1880dcef67ab59091b83d76e92cf0c"><div class="ttname"><a href="../../d6/de3/struct_texture_header.html#a4d1880dcef67ab59091b83d76e92cf0c">TextureHeader::pName</a></div><div class="ttdeci">char pName[16]</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de5/_image_8h_source.html#l00079">Image.h:79</a></div></div>
<div class="ttc" id="a_zlib_wrapper_8h_html"><div class="ttname"><a href="../../d5/d7a/_zlib_wrapper_8h.html">ZlibWrapper.h</a></div></div>
<div class="ttc" id="a_s_d_l__egl_8h_html_ad0e63d0edcdbd3d79554076bf309fd47"><div class="ttname"><a href="../../df/d32/_s_d_l__egl_8h.html#ad0e63d0edcdbd3d79554076bf309fd47">x</a></div><div class="ttdeci">EGLSurface EGLint x</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d32/_s_d_l__egl_8h_source.html#l01596">SDL_egl.h:1596</a></div></div>
<div class="ttc" id="aclass_l_o_d_1_1_file_html_a3b042a1ac553b2cfdf5b3a1298ce9375"><div class="ttname"><a href="../../dd/da7/class_l_o_d_1_1_file.html#a3b042a1ac553b2cfdf5b3a1298ce9375">LOD::File::FindContainer</a></div><div class="ttdeci">FILE * FindContainer(const String &amp;filename, size_t *data_size=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00851">LOD.cpp:851</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___sprites_html_a6704a668ef693d91d861553e1c4d0c49"><div class="ttname"><a href="../../d4/d10/class_l_o_d_file___sprites.html#a6704a668ef693d91d861553e1c4d0c49">LODFile_Sprites::LoadSpriteFromFile</a></div><div class="ttdeci">int LoadSpriteFromFile(LODSprite *pSpriteHeader, const String &amp;pContainer)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00098">LOD.cpp:98</a></div></div>
<div class="ttc" id="a_s_d_l__opengl__glext_8h_html_a3ea846f998d64f079b86052b6c4193a8"><div class="ttname"><a href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a3ea846f998d64f079b86052b6c4193a8">color</a></div><div class="ttdeci">GLuint color</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d32/_s_d_l__opengl__glext_8h_source.html#l01151">SDL_opengl_glext.h:1151</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___icons_bitmaps_html_a4dee0cef5889e168087a29bce53180c9"><div class="ttname"><a href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a4dee0cef5889e168087a29bce53180c9">LODFile_IconsBitmaps::Load</a></div><div class="ttdeci">bool Load(const String &amp;pFilename, const String &amp;pFolderName)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00349">LOD.cpp:349</a></div></div>
<div class="ttc" id="astruct_l_o_d_sprite_html_aa0fe41b264ee801bf7198d296b5e6cd2"><div class="ttname"><a href="../../d5/d3a/struct_l_o_d_sprite.html#aa0fe41b264ee801bf7198d296b5e6cd2">LODSprite::~LODSprite</a></div><div class="ttdeci">~LODSprite()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00395">LOD.cpp:395</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___icons_bitmaps_html_ae821102d189d4e684355ce8474b88adf"><div class="ttname"><a href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#ae821102d189d4e684355ce8474b88adf">LODFile_IconsBitmaps::pHardwareTextures</a></div><div class="ttdeci">struct IDirect3DTexture2 ** pHardwareTextures</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00172">LOD.h:172</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___sprites_html_ae166d0dc750252c87568a5d8ea8128b2"><div class="ttname"><a href="../../d4/d10/class_l_o_d_file___sprites.html#ae166d0dc750252c87568a5d8ea8128b2">LODFile_Sprites::field_ECB4</a></div><div class="ttdeci">int field_ECB4</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00234">LOD.h:234</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___icons_bitmaps_html_a3560ae4b9cbb5116b26334930d62fb08"><div class="ttname"><a href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a3560ae4b9cbb5116b26334930d62fb08">LODFile_IconsBitmaps::SetupPalettes</a></div><div class="ttdeci">void SetupPalettes(unsigned int uTargetRBits, unsigned int uTargetGBits, unsigned int uTargetBBits)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00872">LOD.cpp:872</a></div></div>
<div class="ttc" id="a_l_o_d_8cpp_html_a5e3e5362d7a687a56b2fa1dcced33774"><div class="ttname"><a href="../../de/d42/_l_o_d_8cpp.html#a5e3e5362d7a687a56b2fa1dcced33774">_6A0CA8_lod_unused</a></div><div class="ttdeci">int _6A0CA8_lod_unused</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00028">LOD.cpp:28</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___sprites_html_a880e1d26583c11f3501ff4163b85737e"><div class="ttname"><a href="../../d4/d10/class_l_o_d_file___sprites.html#a880e1d26583c11f3501ff4163b85737e">LODFile_Sprites::_inlined_sub0</a></div><div class="ttdeci">void _inlined_sub0()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00055">LOD.cpp:55</a></div></div>
<div class="ttc" id="aclass_l_o_d_1_1_file_html_a9727a0a74fa79d7c2f968c677320b26f"><div class="ttname"><a href="../../dd/da7/class_l_o_d_1_1_file.html#a9727a0a74fa79d7c2f968c677320b26f">LOD::File::File</a></div><div class="ttdeci">File()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00739">LOD.cpp:739</a></div></div>
<div class="ttc" id="a_l_o_d_8cpp_html_ac5f6c27c016c3c4c5cc60702a578c538"><div class="ttname"><a href="../../de/d42/_l_o_d_8cpp.html#ac5f6c27c016c3c4c5cc60702a578c538">Initialize_GamesLOD_NewLOD</a></div><div class="ttdeci">bool Initialize_GamesLOD_NewLOD()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l01218">LOD.cpp:1218</a></div></div>
<div class="ttc" id="a_s_d_l__opengl__glext_8h_html_a435c176a02c061b43e19bdf7c86cceae"><div class="ttname"><a href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a435c176a02c061b43e19bdf7c86cceae">v1</a></div><div class="ttdeci">GLfloat GLfloat v1</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d32/_s_d_l__opengl__glext_8h_source.html#l00694">SDL_opengl_glext.h:694</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___icons_bitmaps_html_a876df44c34fe3ca127c4cd69cd1c0d09"><div class="ttname"><a href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a876df44c34fe3ca127c4cd69cd1c0d09">LODFile_IconsBitmaps::ReleaseAll2</a></div><div class="ttdeci">void ReleaseAll2()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00223">LOD.cpp:223</a></div></div>
<div class="ttc" id="aclass_sprite_html_a93e0288935f1c93852df5df668fd3e0d"><div class="ttname"><a href="../../d7/dbf/class_sprite.html#a93e0288935f1c93852df5df668fd3e0d">Sprite::uAreaWidth</a></div><div class="ttdeci">int uAreaWidth</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d23/_sprites_8h_source.html#l00033">Sprites.h:33</a></div></div>
<div class="ttc" id="aclass_log_html_ac0de2621497ca3b2fbf208624c08bcdf"><div class="ttname"><a href="../../d6/d70/class_log.html#ac0de2621497ca3b2fbf208624c08bcdf">Log::Warning</a></div><div class="ttdeci">void Warning(const wchar_t *pFormat,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/da7/_log_8cpp_source.html#l00028">Log.cpp:28</a></div></div>
<div class="ttc" id="a_l_o_d_8cpp_html_a69a9d0df11a07a79c1ecd460419cfcce"><div class="ttname"><a href="../../de/d42/_l_o_d_8cpp.html#a69a9d0df11a07a79c1ecd460419cfcce">pIcons_LOD</a></div><div class="ttdeci">LODFile_IconsBitmaps * pIcons_LOD</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00012">LOD.cpp:12</a></div></div>
<div class="ttc" id="astruct_l_o_d_sprite_html"><div class="ttname"><a href="../../d5/d3a/struct_l_o_d_sprite.html">LODSprite</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00197">LOD.h:197</a></div></div>
<div class="ttc" id="astruct_texture_header_html_a8f2c4d4f959fcfa7c8f640b550f90daf"><div class="ttname"><a href="../../d6/de3/struct_texture_header.html#a8f2c4d4f959fcfa7c8f640b550f90daf">TextureHeader::uHeightLn2</a></div><div class="ttdeci">int16_t uHeightLn2</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de5/_image_8h_source.html#l00085">Image.h:85</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___icons_bitmaps_html_a91b62998b7a068b94e4e53dd1994b104"><div class="ttname"><a href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a91b62998b7a068b94e4e53dd1994b104">LODFile_IconsBitmaps::LoadTexture</a></div><div class="ttdeci">unsigned int LoadTexture(const char *pContainer, enum TEXTURE_TYPE uTextureType=TEXTURE_DEFAULT)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l01185">LOD.cpp:1185</a></div></div>
<div class="ttc" id="astruct_l_o_d_1_1_directory_html_a1cf98cab9a3a11b448535dbcf07677dd"><div class="ttname"><a href="../../d1/db2/struct_l_o_d_1_1_directory.html#a1cf98cab9a3a11b448535dbcf07677dd">LOD::Directory::uNumSubIndices</a></div><div class="ttdeci">uint16_t uNumSubIndices</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00053">LOD.h:53</a></div></div>
<div class="ttc" id="aclass_sprite_html_af4dbf5050ce0c7839d5c3e1efbd16a13"><div class="ttname"><a href="../../d7/dbf/class_sprite.html#af4dbf5050ce0c7839d5c3e1efbd16a13">Sprite::Release</a></div><div class="ttdeci">void Release()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00332">LOD.cpp:332</a></div></div>
<div class="ttc" id="aclass_l_o_d_1_1_writeable_file_html_aa23b1e6780c9e8a1a2db3e617aa252ca"><div class="ttname"><a href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#aa23b1e6780c9e8a1a2db3e617aa252ca">LOD::WriteableFile::CreateTempFile</a></div><div class="ttdeci">int CreateTempFile()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00518">LOD.cpp:518</a></div></div>
<div class="ttc" id="aclass_l_o_d_1_1_file_html_a3272ae8caf1e5a3ffb1f2533e46a477b"><div class="ttname"><a href="../../dd/da7/class_l_o_d_1_1_file.html#a3272ae8caf1e5a3ffb1f2533e46a477b">LOD::File::LoadSubIndices</a></div><div class="ttdeci">bool LoadSubIndices(const String &amp;sFolder)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00804">LOD.cpp:804</a></div></div>
<div class="ttc" id="astruct_l_o_d_sprite_header_html_a74381612c6ba66765dca820a7ac1b4be"><div class="ttname"><a href="../../d3/ddd/struct_l_o_d_sprite_header.html#a74381612c6ba66765dca820a7ac1b4be">LODSpriteHeader::uDecompressedSize</a></div><div class="ttdeci">uint32_t uDecompressedSize</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00192">LOD.h:192</a></div></div>
<div class="ttc" id="aclass_l_o_d_1_1_file_html_aa9ff8061e107a4d4524340f0ce20a358"><div class="ttname"><a href="../../dd/da7/class_l_o_d_1_1_file.html#aa9ff8061e107a4d4524340f0ce20a358">LOD::File::pSubIndices</a></div><div class="ttdeci">struct Directory * pSubIndices</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00094">LOD.h:94</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___sprites_html_a79f9016e3fb0defac0e5c66b696caedb"><div class="ttname"><a href="../../d4/d10/class_l_o_d_file___sprites.html#a79f9016e3fb0defac0e5c66b696caedb">LODFile_Sprites::MoveSpritesToVideoMemory</a></div><div class="ttdeci">void MoveSpritesToVideoMemory()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00204">LOD.cpp:204</a></div></div>
<div class="ttc" id="aclass_l_o_d_1_1_file_html_a73d8b96f07e67ee01160123e613a1466"><div class="ttname"><a href="../../dd/da7/class_l_o_d_1_1_file.html#a73d8b96f07e67ee01160123e613a1466">LOD::File::GetSubNodeIndex</a></div><div class="ttdeci">int GetSubNodeIndex(const String &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l01005">LOD.cpp:1005</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___sprites_html_ae8d0c084d81390a0ae7d095fe41f3dfa"><div class="ttname"><a href="../../d4/d10/class_l_o_d_file___sprites.html#ae8d0c084d81390a0ae7d095fe41f3dfa">LODFile_Sprites::uNumLoadedSprites</a></div><div class="ttdeci">unsigned int uNumLoadedSprites</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00228">LOD.h:228</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___icons_bitmaps_html_a1c01dd4bf92624c87f1d67b1231ab3c8"><div class="ttname"><a href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a1c01dd4bf92624c87f1d67b1231ab3c8">LODFile_IconsBitmaps::pHardwareSurfaces</a></div><div class="ttdeci">struct IDirectDrawSurface ** pHardwareSurfaces</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00171">LOD.h:171</a></div></div>
<div class="ttc" id="aclass_h_w_l_texture_html_a6b47be51f31e138cdb428fdbecf22091"><div class="ttname"><a href="../../d8/dc7/class_h_w_l_texture.html#a6b47be51f31e138cdb428fdbecf22091">HWLTexture::uBufferHeight</a></div><div class="ttdeci">int uBufferHeight</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d11/_h_w_l_container_8h_source.html#l00014">HWLContainer.h:14</a></div></div>
<div class="ttc" id="astruct_texture_header_html_a1779bca4bab9309bc22d6cb0203ccf9a"><div class="ttname"><a href="../../d6/de3/struct_texture_header.html#a1779bca4bab9309bc22d6cb0203ccf9a">TextureHeader::uDecompressedSize</a></div><div class="ttdeci">uint32_t uDecompressedSize</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de5/_image_8h_source.html#l00090">Image.h:90</a></div></div>
<div class="ttc" id="astruct_l_o_d_sprite_html_a613c426a8a1834c392afd497a0f5be19"><div class="ttname"><a href="../../d5/d3a/struct_l_o_d_sprite.html#a613c426a8a1834c392afd497a0f5be19">LODSprite::_4AD2D1_overlays</a></div><div class="ttdeci">int _4AD2D1_overlays(struct SoftwareBillboard *a2, int a3)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00206">LOD.cpp:206</a></div></div>
<div class="ttc" id="astruct_l_o_d_sprite_header_html_a2a8759678e6fddb22a7316c3d3cc947b"><div class="ttname"><a href="../../d3/ddd/struct_l_o_d_sprite_header.html#a2a8759678e6fddb22a7316c3d3cc947b">LODSpriteHeader::uHeight</a></div><div class="ttdeci">uint16_t uHeight</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00187">LOD.h:187</a></div></div>
<div class="ttc" id="astruct_texture_header_html_a19ebf6348ca3f01fa2ac23773981926e"><div class="ttname"><a href="../../d6/de3/struct_texture_header.html#a19ebf6348ca3f01fa2ac23773981926e">TextureHeader::uWidthMinus1</a></div><div class="ttdeci">int16_t uWidthMinus1</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de5/_image_8h_source.html#l00086">Image.h:86</a></div></div>
<div class="ttc" id="astruct_software_billboard_html_ab042717b4de36b3dcb05f28ee86fc737"><div class="ttname"><a href="../../d2/d7a/struct_software_billboard.html#ab042717b4de36b3dcb05f28ee86fc737">SoftwareBillboard::screen_space_x</a></div><div class="ttdeci">int screen_space_x</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d20/_i_render_8h_source.html#l00173">IRender.h:173</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___icons_bitmaps_html_a40922a3dc75166dd4897c01e7ece40bf"><div class="ttname"><a href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a40922a3dc75166dd4897c01e7ece40bf">LODFile_IconsBitmaps::uTextureGreenBits</a></div><div class="ttdeci">int uTextureGreenBits</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00164">LOD.h:164</a></div></div>
<div class="ttc" id="a_l_o_d_8cpp_html_a137bcff77c678b90cc1007a592cbb644"><div class="ttname"><a href="../../de/d42/_l_o_d_8cpp.html#a137bcff77c678b90cc1007a592cbb644">pGames_LOD</a></div><div class="ttdeci">LOD::File * pGames_LOD</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00025">LOD.cpp:25</a></div></div>
<div class="ttc" id="astruct_texture_header_html_aa29d8bd61966f56a4a298a0fd5d3bc58"><div class="ttname"><a href="../../d6/de3/struct_texture_header.html#aa29d8bd61966f56a4a298a0fd5d3bc58">TextureHeader::uTextureSize</a></div><div class="ttdeci">uint32_t uTextureSize</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de5/_image_8h_source.html#l00081">Image.h:81</a></div></div>
<div class="ttc" id="aclass_l_o_d_1_1_writeable_file_html_ab648acee2342b9ad720942ffa90536a0"><div class="ttname"><a href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#ab648acee2342b9ad720942ffa90536a0">LOD::WriteableFile::Write</a></div><div class="ttdeci">unsigned int Write(const String &amp;file_name, const void *pDirData, size_t size, int a4)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00544">LOD.cpp:544</a></div></div>
<div class="ttc" id="aclass_l_o_d_1_1_file_html_abd8f745940e2b331880f1830fcfbae60"><div class="ttname"><a href="../../dd/da7/class_l_o_d_1_1_file.html#abd8f745940e2b331880f1830fcfbae60">LOD::File::~File</a></div><div class="ttdeci">virtual ~File()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00745">LOD.cpp:745</a></div></div>
<div class="ttc" id="astruct_texture_header_html_a1bd2988895d4235e6299aae646b2efb3"><div class="ttname"><a href="../../d6/de3/struct_texture_header.html#a1bd2988895d4235e6299aae646b2efb3">TextureHeader::uTextureWidth</a></div><div class="ttdeci">uint16_t uTextureWidth</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de5/_image_8h_source.html#l00082">Image.h:82</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___sprites_html"><div class="ttname"><a href="../../d4/d10/class_l_o_d_file___sprites.html">LODFile_Sprites</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00210">LOD.h:210</a></div></div>
<div class="ttc" id="astruct_l_o_d_1_1_file_header_html_aa7eba80a70657b5de410d8bb03d385dd"><div class="ttname"><a href="../../dc/d2a/struct_l_o_d_1_1_file_header.html#aa7eba80a70657b5de410d8bb03d385dd">LOD::FileHeader::pSignature</a></div><div class="ttdeci">char pSignature[4]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00034">LOD.h:34</a></div></div>
<div class="ttc" id="aclass_h_w_l_texture_html_a7cabda64c5a450446ead45765a8f7d7e"><div class="ttname"><a href="../../d8/dc7/class_h_w_l_texture.html#a7cabda64c5a450446ead45765a8f7d7e">HWLTexture::pPixels</a></div><div class="ttdeci">uint16_t * pPixels</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d11/_h_w_l_container_8h_source.html#l00021">HWLContainer.h:21</a></div></div>
<div class="ttc" id="a_l_o_d_8cpp_html_a0658cabda1f3f14fa5dc2f10a9b5d6ec"><div class="ttname"><a href="../../de/d42/_l_o_d_8cpp.html#a0658cabda1f3f14fa5dc2f10a9b5d6ec">pEvents_LOD</a></div><div class="ttdeci">LODFile_IconsBitmaps * pEvents_LOD</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00010">LOD.cpp:10</a></div></div>
<div class="ttc" id="astruct_texture___m_m7_html"><div class="ttname"><a href="../../d0/ded/struct_texture___m_m7.html">Texture_MM7</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de5/_image_8h_source.html#l00097">Image.h:97</a></div></div>
<div class="ttc" id="astruct_l_o_d_sprite_html_a0c453eb34653c70f4ec9a4af8f9e3bbb"><div class="ttname"><a href="../../d5/d3a/struct_l_o_d_sprite.html#a0c453eb34653c70f4ec9a4af8f9e3bbb">LODSprite::Release</a></div><div class="ttdeci">void Release()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00316">LOD.cpp:316</a></div></div>
<div class="ttc" id="a_s_d_l__opengl__glext_8h_html_a58c2a664503e14ffb8f21012aabff3e9"><div class="ttname"><a href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a58c2a664503e14ffb8f21012aabff3e9">id</a></div><div class="ttdeci">GLuint id</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d32/_s_d_l__opengl__glext_8h_source.html#l00531">SDL_opengl_glext.h:531</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___icons_bitmaps_html_a104439898e87d726479c193944391daa"><div class="ttname"><a href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a104439898e87d726479c193944391daa">LODFile_IconsBitmaps::uTextureBlueBits</a></div><div class="ttdeci">int uTextureBlueBits</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00165">LOD.h:165</a></div></div>
<div class="ttc" id="a_s_d_l__opengl__glext_8h_html_a6068a789bc2c3cc8cbe16e3280544c9d"><div class="ttname"><a href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a6068a789bc2c3cc8cbe16e3280544c9d">bitmap</a></div><div class="ttdeci">GLsizei GLfixed GLfixed GLfixed GLfixed const GLubyte * bitmap</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d32/_s_d_l__opengl__glext_8h_source.html#l04537">SDL_opengl_glext.h:4537</a></div></div>
<div class="ttc" id="anamespacezlib_html_ae552beaf4387a81c63a28b01a9cc7ab4"><div class="ttname"><a href="../../d9/d3e/namespacezlib.html#ae552beaf4387a81c63a28b01a9cc7ab4">zlib::Uncompress</a></div><div class="ttdeci">int Uncompress(void *dest, unsigned int *destLen, const void *source, unsigned int sourceLen)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d23/_zlib_wrapper_8cpp_source.html#l00007">ZlibWrapper.cpp:7</a></div></div>
<div class="ttc" id="astruct_l_o_d_sprite_html_a05a06f7027ea857f4ccc1737a49462a0"><div class="ttname"><a href="../../d5/d3a/struct_l_o_d_sprite.html#a05a06f7027ea857f4ccc1737a49462a0">LODSprite::bitmap</a></div><div class="ttdeci">uint8_t * bitmap</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00206">LOD.h:206</a></div></div>
<div class="ttc" id="astruct_software_billboard_html_acb1d82da7d39cd3d465c700483d9d146"><div class="ttname"><a href="../../d2/d7a/struct_software_billboard.html#acb1d82da7d39cd3d465c700483d9d146">SoftwareBillboard::screen_space_y</a></div><div class="ttdeci">int screen_space_y</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d20/_i_render_8h_source.html#l00174">IRender.h:174</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___icons_bitmaps_html"><div class="ttname"><a href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html">LODFile_IconsBitmaps</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00125">LOD.h:125</a></div></div>
<div class="ttc" id="astruct_texture_header_html_aa1997efc88f8be304bed7fd6a6b8454d"><div class="ttname"><a href="../../d6/de3/struct_texture_header.html#aa1997efc88f8be304bed7fd6a6b8454d">TextureHeader::uTextureHeight</a></div><div class="ttdeci">uint16_t uTextureHeight</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de5/_image_8h_source.html#l00083">Image.h:83</a></div></div>
<div class="ttc" id="a_s_d_l__config_8h_html_aba7bc1797add20fe3efdf37ced1182c5"><div class="ttname"><a href="../../d1/d8f/_s_d_l__config_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></div><div class="ttdeci">unsigned __int8 uint8_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8f/_s_d_l__config_8h_source.html#l00035">SDL_config.h:35</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___sprites_html_acebc1c7277cc997e48ee873c1ac2c41a"><div class="ttname"><a href="../../d4/d10/class_l_o_d_file___sprites.html#acebc1c7277cc997e48ee873c1ac2c41a">LODFile_Sprites::ReleaseLostHardwareSprites</a></div><div class="ttdeci">void ReleaseLostHardwareSprites()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00200">LOD.cpp:200</a></div></div>
<div class="ttc" id="aclass_sprite_html_abfce29e515525d2e4caac14fad624ed1"><div class="ttname"><a href="../../d7/dbf/class_sprite.html#abfce29e515525d2e4caac14fad624ed1">Sprite::sprite_header</a></div><div class="ttdeci">struct LODSprite * sprite_header</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d23/_sprites_8h_source.html#l00036">Sprites.h:36</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___icons_bitmaps_html_afad002ef11dbfec35736f189487c3778"><div class="ttname"><a href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#afad002ef11dbfec35736f189487c3778">LODFile_IconsBitmaps::RemoveTexturesPackFromTextureList</a></div><div class="ttdeci">void RemoveTexturesPackFromTextureList()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00074">LOD.cpp:74</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___icons_bitmaps_html_a873a32f7108fe1b80815afeb85a65c51"><div class="ttname"><a href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a873a32f7108fe1b80815afeb85a65c51">LODFile_IconsBitmaps::GetTexture</a></div><div class="ttdeci">Texture_MM7 * GetTexture(int idx)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l01209">LOD.cpp:1209</a></div></div>
<div class="ttc" id="aclass_l_o_d_1_1_file_html_ad1b41c19c91c2c90723d263089c30a30"><div class="ttname"><a href="../../dd/da7/class_l_o_d_1_1_file.html#ad1b41c19c91c2c90723d263089c30a30">LOD::File::LoadCompressed</a></div><div class="ttdeci">void * LoadCompressed(const String &amp;pContainer, size_t *data_size=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00965">LOD.cpp:965</a></div></div>
<div class="ttc" id="a_l_o_d_8cpp_html_a5fdbac406529ea6ebd81e33dd1a8db24"><div class="ttname"><a href="../../de/d42/_l_o_d_8cpp.html#a5fdbac406529ea6ebd81e33dd1a8db24">_6A0CA4_lod_binary_search</a></div><div class="ttdeci">int _6A0CA4_lod_binary_search</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00027">LOD.cpp:27</a></div></div>
<div class="ttc" id="a_s_d_l__egl_8h_html_aaced7cfc21e7d37775d6921bb8177239"><div class="ttname"><a href="../../df/d32/_s_d_l__egl_8h.html#aaced7cfc21e7d37775d6921bb8177239">name</a></div><div class="ttdeci">EGLImageKHR EGLint * name</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d32/_s_d_l__egl_8h_source.html#l01497">SDL_egl.h:1497</a></div></div>
<div class="ttc" id="aclass_sprite_html_ae81a36c461b658b8bb492dee2e341de2"><div class="ttname"><a href="../../d7/dbf/class_sprite.html#ae81a36c461b658b8bb492dee2e341de2">Sprite::uAreaX</a></div><div class="ttdeci">int uAreaX</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d23/_sprites_8h_source.html#l00029">Sprites.h:29</a></div></div>
<div class="ttc" id="a_l_o_d_8cpp_html_ac5f9511afbcbfb324aaeb8ecc66f45b5"><div class="ttname"><a href="../../de/d42/_l_o_d_8cpp.html#ac5f9511afbcbfb324aaeb8ecc66f45b5">pSprites_LOD_mm8</a></div><div class="ttdeci">LODFile_Sprites * pSprites_LOD_mm8</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00022">LOD.cpp:22</a></div></div>
<div class="ttc" id="astruct_l_o_d_sprite_line_html_a2df6922750e9cab1f90681c27ccd93dd"><div class="ttname"><a href="../../df/ddf/struct_l_o_d_sprite_line.html#a2df6922750e9cab1f90681c27ccd93dd">LODSpriteLine::begin</a></div><div class="ttdeci">int16_t begin</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00092">LOD.cpp:92</a></div></div>
<div class="ttc" id="aclass_l_o_d_1_1_file_html_a2c952c2df6ae15342439a86dfe56469a"><div class="ttname"><a href="../../dd/da7/class_l_o_d_1_1_file.html#a2c952c2df6ae15342439a86dfe56469a">LOD::File::pContainerName</a></div><div class="ttdeci">String pContainerName</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00090">LOD.h:90</a></div></div>
<div class="ttc" id="aclass_l_o_d_1_1_writeable_file_html_aa8fab714f138831a6a824e5e4a42e5a3"><div class="ttname"><a href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#aa8fab714f138831a6a824e5e4a42e5a3">LOD::WriteableFile::WriteableFile</a></div><div class="ttdeci">WriteableFile()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00681">LOD.cpp:681</a></div></div>
<div class="ttc" id="astruct_l_o_d_sprite_header_html_a2b26d56c08f1c82a96575e4c696f2c12"><div class="ttname"><a href="../../d3/ddd/struct_l_o_d_sprite_header.html#a2b26d56c08f1c82a96575e4c696f2c12">LODSpriteHeader::pName</a></div><div class="ttdeci">char pName[12]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00184">LOD.h:184</a></div></div>
<div class="ttc" id="a_engine_8cpp_html_a7a083a74e008e624d001444406d58c6d"><div class="ttname"><a href="../../d4/d68/_engine_8cpp.html#a7a083a74e008e624d001444406d58c6d">MakeDataPath</a></div><div class="ttdeci">std::string MakeDataPath(const char *file_rel_path)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d68/_engine_8cpp_source.html#l00126">Engine.cpp:126</a></div></div>
<div class="ttc" id="a_s_d_l__opengl__glext_8h_html_a0928f6d0f0f794ba000a21dfae422136"><div class="ttname"><a href="../../d0/d32/_s_d_l__opengl__glext_8h.html#a0928f6d0f0f794ba000a21dfae422136">v2</a></div><div class="ttdeci">GLfloat GLfloat GLfloat v2</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d32/_s_d_l__opengl__glext_8h_source.html#l00695">SDL_opengl_glext.h:695</a></div></div>
<div class="ttc" id="a_assets_manager_8cpp_html_a645270130330d2d99964c967b7d33cd8"><div class="ttname"><a href="../../d3/d93/_assets_manager_8cpp.html#a645270130330d2d99964c967b7d33cd8">assets</a></div><div class="ttdeci">AssetsManager * assets</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/_assets_manager_8cpp_source.html#l00012">AssetsManager.cpp:12</a></div></div>
<div class="ttc" id="a_m_m7_8h_html_a91ad9478d81a7aaf2593e8d9c3d06a14"><div class="ttname"><a href="../../d2/d83/_m_m7_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a></div><div class="ttdeci">unsigned int uint</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d83/_m_m7_8h_source.html#l00004">MM7.h:4</a></div></div>
<div class="ttc" id="aclass_l_o_d_1_1_file_html"><div class="ttname"><a href="../../dd/da7/class_l_o_d_1_1_file.html">LOD::File</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00058">LOD.h:58</a></div></div>
<div class="ttc" id="astruct_l_o_d_1_1_directory_html_a6eb5efcc045b07f5356a5483f78cf551"><div class="ttname"><a href="../../d1/db2/struct_l_o_d_1_1_directory.html#a6eb5efcc045b07f5356a5483f78cf551">LOD::Directory::priority</a></div><div class="ttdeci">uint16_t priority</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00054">LOD.h:54</a></div></div>
<div class="ttc" id="aclass_sprite_html_a62adfe4afdaa3490797c49c557b4edb0"><div class="ttname"><a href="../../d7/dbf/class_sprite.html#a62adfe4afdaa3490797c49c557b4edb0">Sprite::uPaletteID</a></div><div class="ttdeci">int uPaletteID</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d23/_sprites_8h_source.html#l00027">Sprites.h:27</a></div></div>
<div class="ttc" id="aclass_l_o_d_1_1_writeable_file_html_a8c729016eb47a76a3f9242978c4ab87a"><div class="ttname"><a href="../../d6/d34/class_l_o_d_1_1_writeable_file.html#a8c729016eb47a76a3f9242978c4ab87a">LOD::WriteableFile::AppendDirectory</a></div><div class="ttdeci">bool AppendDirectory(const String &amp;file_name, const void *pData, size_t data_size)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00506">LOD.cpp:506</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___sprites_html_a7cc2a39dd8b22581ebe1349541f79f32"><div class="ttname"><a href="../../d4/d10/class_l_o_d_file___sprites.html#a7cc2a39dd8b22581ebe1349541f79f32">LODFile_Sprites::ReleaseAll</a></div><div class="ttdeci">void ReleaseAll()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00202">LOD.cpp:202</a></div></div>
<div class="ttc" id="aclass_l_o_d_1_1_file_html_a94f80b82e0e80faee257d1cb18f8267d"><div class="ttname"><a href="../../dd/da7/class_l_o_d_1_1_file.html#a94f80b82e0e80faee257d1cb18f8267d">LOD::File::LoadHeader</a></div><div class="ttdeci">bool LoadHeader()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00778">LOD.cpp:778</a></div></div>
<div class="ttc" id="aclass_l_o_d_1_1_file_html_aa32d8447321690bead61de05f93352be"><div class="ttname"><a href="../../dd/da7/class_l_o_d_1_1_file.html#aa32d8447321690bead61de05f93352be">LOD::File::Open</a></div><div class="ttdeci">bool Open(const String &amp;pFilename)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00751">LOD.cpp:751</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___sprites_html_a173793f7c47dda7a0d31f9e393803ae4"><div class="ttname"><a href="../../d4/d10/class_l_o_d_file___sprites.html#a173793f7c47dda7a0d31f9e393803ae4">LODFile_Sprites::DeleteSomeOtherSprites</a></div><div class="ttdeci">void DeleteSomeOtherSprites()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00232">LOD.cpp:232</a></div></div>
<div class="ttc" id="a_l_o_d_8cpp_html_a35656858648d76649773ca0750c63b04"><div class="ttname"><a href="../../de/d42/_l_o_d_8cpp.html#a35656858648d76649773ca0750c63b04">pBitmaps_LOD</a></div><div class="ttdeci">LODFile_IconsBitmaps * pBitmaps_LOD</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00016">LOD.cpp:16</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___sprites_html_a3b1a77965e1fe0ad86bd34ca5cc26a75"><div class="ttname"><a href="../../d4/d10/class_l_o_d_file___sprites.html#a3b1a77965e1fe0ad86bd34ca5cc26a75">LODFile_Sprites::_461397</a></div><div class="ttdeci">int _461397()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00843">LOD.cpp:843</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___sprites_html_a7dced6d107f62f030f60ec4f00fb0607"><div class="ttname"><a href="../../d4/d10/class_l_o_d_file___sprites.html#a7dced6d107f62f030f60ec4f00fb0607">LODFile_Sprites::field_ECA0</a></div><div class="ttdeci">int field_ECA0</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00229">LOD.h:229</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___sprites_html_a01f3e60465267cc393f56ba7c2c54647"><div class="ttname"><a href="../../d4/d10/class_l_o_d_file___sprites.html#a01f3e60465267cc393f56ba7c2c54647">LODFile_Sprites::pHardwareSprites</a></div><div class="ttdeci">Sprite * pHardwareSprites</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00233">LOD.h:233</a></div></div>
<div class="ttc" id="aclass_l_o_d_1_1_file_html_abd059bd33f1b7f3f28a59b5f1eb1ad92"><div class="ttname"><a href="../../dd/da7/class_l_o_d_1_1_file.html#abd059bd33f1b7f3f28a59b5f1eb1ad92">LOD::File::OpenFile</a></div><div class="ttdeci">virtual bool OpenFile(const String &amp;sFilename)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00763">LOD.cpp:763</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___icons_bitmaps_html_a0f8ce763612ec1b73c6f7a849896aa95"><div class="ttname"><a href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a0f8ce763612ec1b73c6f7a849896aa95">LODFile_IconsBitmaps::LoadDummyTexture</a></div><div class="ttdeci">int LoadDummyTexture()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00030">LOD.cpp:30</a></div></div>
<div class="ttc" id="astruct_texture_header_html"><div class="ttname"><a href="../../d6/de3/struct_texture_header.html">TextureHeader</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de5/_image_8h_source.html#l00078">Image.h:78</a></div></div>
<div class="ttc" id="aclass_h_w_l_texture_html_ab5b824897e5012cb4a43aedd8c8fcdca"><div class="ttname"><a href="../../d8/dc7/class_h_w_l_texture.html#ab5b824897e5012cb4a43aedd8c8fcdca">HWLTexture::uAreaX</a></div><div class="ttdeci">int uAreaX</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d11/_h_w_l_container_8h_source.html#l00019">HWLContainer.h:19</a></div></div>
<div class="ttc" id="astruct_l_o_d_sprite_line_html_a94a6b22607b280e45e89d3fccc4b6fd0"><div class="ttname"><a href="../../df/ddf/struct_l_o_d_sprite_line.html#a94a6b22607b280e45e89d3fccc4b6fd0">LODSpriteLine::offset</a></div><div class="ttdeci">uint32_t offset</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00094">LOD.cpp:94</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___icons_bitmaps_html_a867b930246771e0c360cf66cd039b6f1"><div class="ttname"><a href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a867b930246771e0c360cf66cd039b6f1">LODFile_IconsBitmaps::_inlined_sub1</a></div><div class="ttdeci">void _inlined_sub1()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00042">LOD.cpp:42</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___icons_bitmaps_html_a0e39ceca7dd9de6872262a11aae129cc"><div class="ttname"><a href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a0e39ceca7dd9de6872262a11aae129cc">LODFile_IconsBitmaps::dword_11B84</a></div><div class="ttdeci">int dword_11B84</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00161">LOD.h:161</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___sprites_html_aeec0450ede676905e1c486c634224c29"><div class="ttname"><a href="../../d4/d10/class_l_o_d_file___sprites.html#aeec0450ede676905e1c486c634224c29">LODFile_Sprites::field_ECA4</a></div><div class="ttdeci">int field_ECA4</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00230">LOD.h:230</a></div></div>
<div class="ttc" id="aclass_h_w_l_texture_html_a0ba7d740ebe00e561490a31183b3f45c"><div class="ttname"><a href="../../d8/dc7/class_h_w_l_texture.html#a0ba7d740ebe00e561490a31183b3f45c">HWLTexture::uAreaY</a></div><div class="ttdeci">int uAreaY</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d11/_h_w_l_container_8h_source.html#l00020">HWLContainer.h:20</a></div></div>
<div class="ttc" id="astruct_texture_header_html_aa1d3e7888d4e8cc68931af0464a71692"><div class="ttname"><a href="../../d6/de3/struct_texture_header.html#aa1d3e7888d4e8cc68931af0464a71692">TextureHeader::uSizeOfMaxLevelOfDetail</a></div><div class="ttdeci">uint32_t uSizeOfMaxLevelOfDetail</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de5/_image_8h_source.html#l00080">Image.h:80</a></div></div>
<div class="ttc" id="astruct_texture___m_m7_html_aa3133e9a39876463761b0639a53ac017"><div class="ttname"><a href="../../d0/ded/struct_texture___m_m7.html#aa3133e9a39876463761b0639a53ac017">Texture_MM7::pLevelOfDetail1</a></div><div class="ttdeci">uint8_t * pLevelOfDetail1</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de5/_image_8h_source.html#l00103">Image.h:103</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___icons_bitmaps_html_a16811d8783e355f6b3bc79d58c4b4cf1"><div class="ttname"><a href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a16811d8783e355f6b3bc79d58c4b4cf1">LODFile_IconsBitmaps::ReleaseAll</a></div><div class="ttdeci">void ReleaseAll()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00357">LOD.cpp:357</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___icons_bitmaps_html_a445656f348360ae255dcc52f3de958df"><div class="ttname"><a href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a445656f348360ae255dcc52f3de958df">LODFile_IconsBitmaps::ReleaseHardwareTextures</a></div><div class="ttdeci">void ReleaseHardwareTextures()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l01015">LOD.cpp:1015</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_ga3d1e3edfcf61ca2d831883e1afbad89e"><div class="ttname"><a href="../../db/d76/group__lavu__mem__funcs.html#ga3d1e3edfcf61ca2d831883e1afbad89e">size</a></div><div class="ttdeci">GLsizeiptr size</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d32/_s_d_l__opengl__glext_8h_source.html#l00540">SDL_opengl_glext.h:540</a></div></div>
<div class="ttc" id="a_engine_2_ioc_container_8cpp_html_a9be76595edb968c5dfb165ec86ba2959"><div class="ttname"><a href="../../de/d8c/_engine_2_ioc_container_8cpp.html#a9be76595edb968c5dfb165ec86ba2959">logger</a></div><div class="ttdeci">Log * logger</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d8c/_engine_2_ioc_container_8cpp_source.html#l00047">IocContainer.cpp:47</a></div></div>
<div class="ttc" id="astruct_l_o_d_1_1_directory_html_a16089cbcd4916d32dde7a317dfb0df57"><div class="ttname"><a href="../../d1/db2/struct_l_o_d_1_1_directory.html#a16089cbcd4916d32dde7a317dfb0df57">LOD::Directory::dword_000018</a></div><div class="ttdeci">uint32_t dword_000018</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00052">LOD.h:52</a></div></div>
<div class="ttc" id="astruct_texture___m_m7_html_aea91ddb893a1973f68692fec9df211ac"><div class="ttname"><a href="../../d0/ded/struct_texture___m_m7.html#aea91ddb893a1973f68692fec9df211ac">Texture_MM7::pPalette24</a></div><div class="ttdeci">uint8_t * pPalette24</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de5/_image_8h_source.html#l00104">Image.h:104</a></div></div>
<div class="ttc" id="a_h_w_l_container_8h_html"><div class="ttname"><a href="../../d4/d11/_h_w_l_container_8h.html">HWLContainer.h</a></div></div>
<div class="ttc" id="a_l_o_d_8cpp_html_a00006d21981954ed6eb9dc215311a9f4"><div class="ttname"><a href="../../de/d42/_l_o_d_8cpp.html#a00006d21981954ed6eb9dc215311a9f4">pBitmaps_LOD_mm8</a></div><div class="ttdeci">LODFile_IconsBitmaps * pBitmaps_LOD_mm8</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00018">LOD.cpp:18</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___icons_bitmaps_html_a16cb22b53abeabfb0e5bb19c3ae40f11"><div class="ttname"><a href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a16cb22b53abeabfb0e5bb19c3ae40f11">LODFile_IconsBitmaps::pTextures</a></div><div class="ttdeci">Texture_MM7 pTextures[MAX_LOD_TEXTURES]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00158">LOD.h:158</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___icons_bitmaps_html_a7f1977e72c2468ad9b60878f186d09c2"><div class="ttname"><a href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a7f1977e72c2468ad9b60878f186d09c2">LODFile_IconsBitmaps::_inlined_sub2</a></div><div class="ttdeci">void _inlined_sub2()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00037">LOD.cpp:37</a></div></div>
<div class="ttc" id="astruct_l_o_d_1_1_file_header_html"><div class="ttname"><a href="../../dc/d2a/struct_l_o_d_1_1_file_header.html">LOD::FileHeader</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00022">LOD.h:22</a></div></div>
<div class="ttc" id="aclass_sprite_html_a17bba6f8577dd610dae8b296dc08e082"><div class="ttname"><a href="../../d7/dbf/class_sprite.html#a17bba6f8577dd610dae8b296dc08e082">Sprite::pName</a></div><div class="ttdeci">String pName</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d23/_sprites_8h_source.html#l00026">Sprites.h:26</a></div></div>
<div class="ttc" id="astruct_software_billboard_html_a2c828c0243a49998f3a60b71e46144f8"><div class="ttname"><a href="../../d2/d7a/struct_software_billboard.html#a2c828c0243a49998f3a60b71e46144f8">SoftwareBillboard::uTargetPitch</a></div><div class="ttdeci">unsigned int uTargetPitch</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d20/_i_render_8h_source.html#l00182">IRender.h:182</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___sprites_html_af31329dee5aecf30f01cad682e6a6532"><div class="ttname"><a href="../../d4/d10/class_l_o_d_file___sprites.html#af31329dee5aecf30f01cad682e6a6532">LODFile_Sprites::DeleteSomeSprites</a></div><div class="ttdeci">void DeleteSomeSprites()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00299">LOD.cpp:299</a></div></div>
<div class="ttc" id="a_s_d_l__config_8h_html_a435d1572bf3f880d55459d9805097f62"><div class="ttname"><a href="../../d1/d8f/_s_d_l__config_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></div><div class="ttdeci">unsigned __int32 uint32_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8f/_s_d_l__config_8h_source.html#l00039">SDL_config.h:39</a></div></div>
<div class="ttc" id="aclass_l_o_d_1_1_file_html_ae4069f908e27c3507a03d2bb12ad6f0f"><div class="ttname"><a href="../../dd/da7/class_l_o_d_1_1_file.html#ae4069f908e27c3507a03d2bb12ad6f0f">LOD::File::LoadRaw</a></div><div class="ttdeci">void * LoadRaw(const String &amp;pContainer, size_t *data_size=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00895">LOD.cpp:895</a></div></div>
<div class="ttc" id="a_strings_8h_html_afbeda3fd1bdc8c37d01bdf9f5c8274ff"><div class="ttname"><a href="../../de/df7/_strings_8h.html#afbeda3fd1bdc8c37d01bdf9f5c8274ff">String</a></div><div class="ttdeci">std::string String</div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/_strings_8h_source.html#l00010">Strings.h:10</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___sprites_html_ab570cb1e13baf3bdd831c725bbec7489"><div class="ttname"><a href="../../d4/d10/class_l_o_d_file___sprites.html#ab570cb1e13baf3bdd831c725bbec7489">LODFile_Sprites::LoadSprites</a></div><div class="ttdeci">bool LoadSprites(const String &amp;pFilename)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00141">LOD.cpp:141</a></div></div>
<div class="ttc" id="a_sprites_8h_html"><div class="ttname"><a href="../../dd/d23/_sprites_8h.html">Sprites.h</a></div></div>
<div class="ttc" id="aclass_sprite_html_a0d6e78004a0f061c8c7a8d83e3481b2c"><div class="ttname"><a href="../../d7/dbf/class_sprite.html#a0d6e78004a0f061c8c7a8d83e3481b2c">Sprite::uAreaHeight</a></div><div class="ttdeci">int uAreaHeight</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d23/_sprites_8h_source.html#l00034">Sprites.h:34</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___icons_bitmaps_html_a4bfd0fb1cea836095350e047d077608f"><div class="ttname"><a href="../../d8/d81/class_l_o_d_file___icons_bitmaps.html#a4bfd0fb1cea836095350e047d077608f">LODFile_IconsBitmaps::RemoveTexturesFromTextureList</a></div><div class="ttdeci">void RemoveTexturesFromTextureList()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00060">LOD.cpp:60</a></div></div>
<div class="ttc" id="aclass_l_o_d_file___sprites_html_aa43c4b0a0490b8ed62bef44f8c52711e"><div class="ttname"><a href="../../d4/d10/class_l_o_d_file___sprites.html#aa43c4b0a0490b8ed62bef44f8c52711e">LODFile_Sprites::_inlined_sub1</a></div><div class="ttdeci">void _inlined_sub1()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00046">LOD.cpp:46</a></div></div>
<div class="ttc" id="aclass_l_o_d_1_1_file_html_a4d14fe6afb04d6cc126047e44bf82b62"><div class="ttname"><a href="../../dd/da7/class_l_o_d_1_1_file.html#a4d14fe6afb04d6cc126047e44bf82b62">LOD::File::pLODName</a></div><div class="ttdeci">String pLODName</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00084">LOD.h:84</a></div></div>
<div class="ttc" id="astruct_texture___m_m7_html_a5d76b76e8d592e2cc382ca2723774b32"><div class="ttname"><a href="../../d0/ded/struct_texture___m_m7.html#a5d76b76e8d592e2cc382ca2723774b32">Texture_MM7::Release</a></div><div class="ttdeci">void Release()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dac/_image_8cpp_source.html#l00165">Image.cpp:165</a></div></div>
<div class="ttc" id="astruct_l_o_d_sprite_line_html_af9cf1616941f8170b9e090a2dac450fd"><div class="ttname"><a href="../../df/ddf/struct_l_o_d_sprite_line.html#af9cf1616941f8170b9e090a2dac450fd">LODSpriteLine::end</a></div><div class="ttdeci">int16_t end</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00093">LOD.cpp:93</a></div></div>
<div class="ttc" id="a_l_o_d_8h_html_a7359f4c244be23e8dc2b5fc4232c8c54"><div class="ttname"><a href="../../d3/db2/_l_o_d_8h.html#a7359f4c244be23e8dc2b5fc4232c8c54">TEXTURE_TYPE</a></div><div class="ttdeci">TEXTURE_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/db2/_l_o_d_8h_source.html#l00015">LOD.h:15</a></div></div>
<div class="ttc" id="a_l_o_d_8cpp_html_ab53efa2baacbef257db3bd287ce711b8"><div class="ttname"><a href="../../de/d42/_l_o_d_8cpp.html#ab53efa2baacbef257db3bd287ce711b8">pIcons_LOD_mm8</a></div><div class="ttdeci">LODFile_IconsBitmaps * pIcons_LOD_mm8</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d42/_l_o_d_8cpp_source.html#l00014">LOD.cpp:14</a></div></div>
<div class="ttc" id="aclass_h_w_l_texture_html_aeeb5c09589cd4e47b55adfff5d6e88e4"><div class="ttname"><a href="../../d8/dc7/class_h_w_l_texture.html#aeeb5c09589cd4e47b55adfff5d6e88e4">HWLTexture::uAreaHeigth</a></div><div class="ttdeci">int uAreaHeigth</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d11/_h_w_l_container_8h_source.html#l00016">HWLContainer.h:16</a></div></div>
<div class="ttc" id="a_i_render_8h_html_a21d31464313b2c66ff88d4aa97b66143"><div class="ttname"><a href="../../da/d20/_i_render_8h.html#a21d31464313b2c66ff88d4aa97b66143">render</a></div><div class="ttdeci">std::shared_ptr&lt; IRender &gt; render</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d79/_render_open_g_l_8cpp_source.html#l00052">RenderOpenGL.cpp:52</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_0b6ee6e7e9547e675db4add2e5de97da.html">Engine</a></li><li class="navelem"><a class="el" href="../../de/d42/_l_o_d_8cpp.html">LOD.cpp</a></li>
    <li class="footer">Документация по World of Might and Magic. Последние изменения: Вт 7 Апр 2020 22:03:31. Создано системой
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
